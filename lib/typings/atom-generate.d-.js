//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXRvbS1nZW5lcmF0ZS5kLS5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3R5cGluZ3MvYXRvbS1nZW5lcmF0ZS5kLS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIiwic291cmNlc0NvbnRlbnQiOlsiZGVjbGFyZSBtb2R1bGUgQXRvbVR5cGVzIHtcbiAgICAvKipcbiAgICAgKiBBdG9tIGdsb2JhbCBmb3IgZGVhbGluZyB3aXRoIHBhY2thZ2VzLCB0aGVtZXMsIG1lbnVzLCBhbmQgdGhlIHdpbmRvdy5cbiAgICAgKlxuICAgICAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYWx3YXlzIGF2YWlsYWJsZSBhcyB0aGUgYGF0b21gIGdsb2JhbC5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9hdG9tLWVudmlyb25tZW50LmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2F0b20tZW52aXJvbm1lbnQuY29mZmVlI0w2MFxuICAgICAqL1xuICAgIGNsYXNzIEF0b21FbnZpcm9ubWVudCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtDb21tYW5kUmVnaXN0cnl9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBjb21tYW5kczogQ29tbWFuZFJlZ2lzdHJ5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7Q29uZmlnfSBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgY29uZmlnOiBDb25maWc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtDbGlwYm9hcmR9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBjbGlwYm9hcmQ6IENsaXBib2FyZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEge0NvbnRleHRNZW51TWFuYWdlcn0gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGNvbnRleHRNZW51OiBDb250ZXh0TWVudU1hbmFnZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtNZW51TWFuYWdlcn0gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIG1lbnU6IE1lbnVNYW5hZ2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7S2V5bWFwTWFuYWdlcn0gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIGtleW1hcHM6IEtleW1hcE1hbmFnZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtUb29sdGlwTWFuYWdlcn0gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHRvb2x0aXBzOiBUb29sdGlwTWFuYWdlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEge05vdGlmaWNhdGlvbk1hbmFnZXJ9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25NYW5hZ2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7UHJvamVjdH0gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHByb2plY3Q6IFByb2plY3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtHcmFtbWFyUmVnaXN0cnl9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBncmFtbWFyczogR3JhbW1hclJlZ2lzdHJ5O1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7SGlzdG9yeU1hbmFnZXJ9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBoaXN0b3J5OiBIaXN0b3J5TWFuYWdlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEge1BhY2thZ2VNYW5hZ2VyfSBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgcGFja2FnZXM6IFBhY2thZ2VNYW5hZ2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7VGhlbWVNYW5hZ2VyfSBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhlbWVzOiBUaGVtZU1hbmFnZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtTdHlsZU1hbmFnZXJ9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBzdHlsZXM6IFN0eWxlTWFuYWdlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEge0Rlc2VyaWFsaXplck1hbmFnZXJ9IGluc3RhbmNlXG4gICAgICAgICAqL1xuICAgICAgICBkZXNlcmlhbGl6ZXJzOiBEZXNlcmlhbGl6ZXJNYW5hZ2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7Vmlld1JlZ2lzdHJ5fSBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgdmlld3M6IFZpZXdSZWdpc3RyeTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEge1dvcmtzcGFjZX0gaW5zdGFuY2VcbiAgICAgICAgICovXG4gICAgICAgIHdvcmtzcGFjZTogV29ya3NwYWNlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSB7VGV4dEVkaXRvclJlZ2lzdHJ5fSBpbnN0YW5jZVxuICAgICAgICAgKi9cbiAgICAgICAgdGV4dEVkaXRvcnM6IFRleHRFZGl0b3JSZWdpc3RyeTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuZXZlciB7OjpiZWVwfSBpcyBjYWxsZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHs6OmJlZXB9IGlzIGNhbGxlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZEJlZXAoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGVyZSBpcyBhbiB1bmhhbmRsZWQgZXJyb3IsIGJ1dFxuICAgICAgICAgKiBiZWZvcmUgdGhlIGRldnRvb2xzIHBvcCBvcGVuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW5ldmVyIHRoZXJlIGlzIGFuIHVuaGFuZGxlZCBlcnJvclxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uV2lsbFRocm93RXJyb3IoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbmV2ZXIgdGhlcmUgaXMgYW4gdW5oYW5kbGVkIGVycm9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuZXZlciB0aGVyZSBpcyBhbiB1bmhhbmRsZWQgZXJyb3JcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZFRocm93RXJyb3IoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IHRoYXQgaXMgYHRydWVgIGlmIHRoZSBjdXJyZW50IHdpbmRvdyBpcyBpbiBkZXZlbG9wbWVudCBtb2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5EZXZNb2RlKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgY3VycmVudCB3aW5kb3cgaXMgaW4gc2FmZSBtb2RlLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5TYWZlTW9kZSgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnQgd2luZG93IGlzIHJ1bm5pbmcgc3BlY3MuXG4gICAgICAgICAqL1xuICAgICAgICBpblNwZWNNb2RlKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHZlcnNpb24gb2YgdGhlIEF0b20gYXBwbGljYXRpb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHZlcnNpb24gdGV4dCB7U3RyaW5nfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFZlcnNpb24oKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnQgdmVyc2lvbiBpcyBhbiBvZmZpY2lhbCByZWxlYXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNSZWxlYXNlZFZlcnNpb24oKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdGltZSB0YWtlbiB0byBjb21wbGV0ZWx5IGxvYWQgdGhlIGN1cnJlbnQgd2luZG93LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHRpbWUgaW5jbHVkZSB0aGluZ3MgbGlrZSBsb2FkaW5nIGFuZCBhY3RpdmF0aW5nIHBhY2thZ2VzLCBjcmVhdGluZ1xuICAgICAgICAgKiBET00gZWxlbWVudHMgZm9yIHRoZSBlZGl0b3IsIGFuZCByZWFkaW5nIHRoZSBjb25maWcuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHtOdW1iZXJ9IG9mIG1pbGxpc2Vjb25kcyB0YWtlbiB0byBsb2FkIHRoZSB3aW5kb3cgb3IgbnVsbFxuICAgICAgICBpZiB0aGUgd2luZG93IGhhc24ndCBmaW5pc2hlZCBsb2FkaW5nIHlldC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFdpbmRvd0xvYWRUaW1lKCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbG9hZCBzZXR0aW5ncyBmb3IgdGhlIGN1cnJlbnQgd2luZG93LlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIHtPYmplY3R9IGNvbnRhaW5pbmcgYWxsIHRoZSBsb2FkIHNldHRpbmcga2V5L3ZhbHVlIHBhaXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TG9hZFNldHRpbmdzKCk6IE9iamVjdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wZW4gYSBuZXcgQXRvbSB3aW5kb3cgdXNpbmcgdGhlIGdpdmVuIG9wdGlvbnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIENhbGxpbmcgdGhpcyBtZXRob2Qgd2l0aG91dCBhbiBvcHRpb25zIHBhcmFtZXRlciB3aWxsIG9wZW4gYSBwcm9tcHQgdG8gcGlja1xuICAgICAgICAgKiBhIGZpbGUvZm9sZGVyIHRvIG9wZW4gaW4gdGhlIG5ldyB3aW5kb3cuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIG9wZW4ocGFyYW1zOiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJvbXB0IHRoZSB1c2VyIHRvIHNlbGVjdCBvbmUgb3IgbW9yZSBmb2xkZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdG8gY2FsbCBvbmNlIHRoZSB1c2VyIGhhcyBjb25maXJtZWQgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHBpY2tGb2xkZXIoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsb3NlIHRoZSBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIGNsb3NlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHNpemUgb2YgY3VycmVudCB3aW5kb3cuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4ge09iamVjdH0gaW4gdGhlIGZvcm1hdCBge3dpZHRoOiAxMDAwLCBoZWlnaHQ6IDcwMH1gXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTaXplKCk6IE9iamVjdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc2l6ZSBvZiBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFRoZSB7TnVtYmVyfSBvZiBwaXhlbHMuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBUaGUge051bWJlcn0gb2YgcGl4ZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2l6ZSh3aWR0aDogbnVtYmVyLCBoZWlnaHQ6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBvc2l0aW9uIG9mIGN1cnJlbnQgd2luZG93LlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIHtPYmplY3R9IGluIHRoZSBmb3JtYXQgYHt4OiAxMCwgeTogMjB9YFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UG9zaXRpb24oKTogT2JqZWN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBwb3NpdGlvbiBvZiBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFRoZSB7TnVtYmVyfSBvZiBwaXhlbHMuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBUaGUge051bWJlcn0gb2YgcGl4ZWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0UG9zaXRpb24oeDogbnVtYmVyLCB5OiBudW1iZXIpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IHdpbmRvd1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q3VycmVudFdpbmRvdygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBjdXJyZW50IHdpbmRvdyB0byB0aGUgY2VudGVyIG9mIHRoZSBzY3JlZW4uXG4gICAgICAgICAqL1xuICAgICAgICBjZW50ZXIoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvY3VzIHRoZSBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIGZvY3VzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93IHRoZSBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIHNob3coKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhpZGUgdGhlIGN1cnJlbnQgd2luZG93LlxuICAgICAgICAgKi9cbiAgICAgICAgaGlkZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVsb2FkIHRoZSBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIHJlbG9hZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVsYXVuY2ggdGhlIGVudGlyZSBhcHBsaWNhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHJlc3RhcnRBcHBsaWNhdGlvbigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCBpcyBgdHJ1ZWAgaWYgdGhlIGN1cnJlbnQgd2luZG93IGlzIG1heGltaXplZC5cbiAgICAgICAgICovXG4gICAgICAgIGlzTWF4aW1pemVkKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSB0aGF0IGlzIGB0cnVlYCBpZiB0aGUgY3VycmVudCB3aW5kb3cgaXMgaW4gZnVsbCBzY3JlZW4gbW9kZS5cbiAgICAgICAgICovXG4gICAgICAgIGlzRnVsbFNjcmVlbigpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBmdWxsIHNjcmVlbiBzdGF0ZSBvZiB0aGUgY3VycmVudCB3aW5kb3cuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRGdWxsU2NyZWVuKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb2dnbGUgdGhlIGZ1bGwgc2NyZWVuIHN0YXRlIG9mIHRoZSBjdXJyZW50IHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZUZ1bGxTY3JlZW4oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFZpc3VhbGx5IGFuZCBhdWRpYmx5IHRyaWdnZXIgYSBiZWVwLlxuICAgICAgICAgKi9cbiAgICAgICAgYmVlcCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQSBmbGV4aWJsZSB3YXkgdG8gb3BlbiBhIGRpYWxvZyBha2luIHRvIGFuIGFsZXJ0IGRpYWxvZy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjaG9zZW4gYnV0dG9uIGluZGV4IHtOdW1iZXJ9IGlmIHRoZSBidXR0b25zIG9wdGlvbiB3YXMgYW4gYXJyYXkuXG4gICAgICAgICAqL1xuICAgICAgICBjb25maXJtKG9wdGlvbnM6IE9iamVjdCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE9wZW4gdGhlIGRldiB0b29scyBmb3IgdGhlIGN1cnJlbnQgd2luZG93LlxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEge1Byb21pc2V9IHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgRGV2VG9vbHMgaGF2ZSBiZWVuIG9wZW5lZC5cbiAgICAgICAgICovXG4gICAgICAgIG9wZW5EZXZUb29scygpOiBQcm9taXNlPGFueT47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb2dnbGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGRldiB0b29scyBmb3IgdGhlIGN1cnJlbnQgd2luZG93LlxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEge1Byb21pc2V9IHRoYXQgcmVzb2x2ZXMgd2hlbiB0aGUgRGV2VG9vbHMgaGF2ZSBiZWVuIG9wZW5lZCBvclxuICAgICAgICBjbG9zZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVEZXZUb29scygpOiBQcm9taXNlPGFueT47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeGVjdXRlIGNvZGUgaW4gZGV2IHRvb2xzLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhlY3V0ZUphdmFTY3JpcHRJbkRldlRvb2xzKCk6IHZvaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTGlrZSB7QnVmZmVyZWRQcm9jZXNzfSwgYnV0IGFjY2VwdHMgYSBOb2RlIHNjcmlwdCBhcyB0aGUgY29tbWFuZFxuICAgICAqIHRvIHJ1bi5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgbmVjZXNzYXJ5IG9uIFdpbmRvd3Mgc2luY2UgaXQgZG9lc24ndCBzdXBwb3J0IHNoZWJhbmcgYCMhYCBsaW5lcy5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9idWZmZXJlZC1ub2RlLXByb2Nlc3MuanNcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9idWZmZXJlZC1ub2RlLXByb2Nlc3MuanMjTDE1XG4gICAgICovXG4gICAgY2xhc3MgQnVmZmVyZWROb2RlUHJvY2VzcyBleHRlbmRzIEJ1ZmZlcmVkUHJvY2VzcyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSdW5zIHRoZSBnaXZlbiBOb2RlIHNjcmlwdCBieSBzcGF3bmluZyBhIG5ldyBjaGlsZCBwcm9jZXNzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCB0byB0aGUgSmF2YVNjcmlwdCBzY3JpcHQgdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHBhcmFtIHthbnlbXX0gVGhlIHtBcnJheX0gb2YgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIHNjcmlwdCAob3B0aW9uYWwpLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gVGhlIG9wdGlvbnMge09iamVjdH0gdG8gcGFzcyB0byBOb2RlJ3MgYENoaWxkUHJvY2Vzcy5zcGF3bmAgbWV0aG9kIChvcHRpb25hbCkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFRoZSBjYWxsYmFjayB7RnVuY3Rpb259IHRoYXQgcmVjZWl2ZXMgYSBzaW5nbGUgYXJndW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIHN0YW5kYXJkIG91dHB1dCBmcm9tIHRoZSBjb21tYW5kLiBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIGFzIGRhdGEgaXMgcmVjZWl2ZWQgYnV0IGl0J3MgYnVmZmVyZWQgdG8gZW5zdXJlIG9ubHkgY29tcGxldGUgbGluZXMgYXJlIHBhc3NlZCB1bnRpbCB0aGUgc291cmNlIHN0cmVhbSBjbG9zZXMuIEFmdGVyIHRoZSBzb3VyY2Ugc3RyZWFtIGhhcyBjbG9zZWQgYWxsIHJlbWFpbmluZyBkYXRhIGlzIHNlbnQgaW4gYSBmaW5hbCBjYWxsIChvcHRpb25hbCkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFRoZSBjYWxsYmFjayB7RnVuY3Rpb259IHRoYXQgcmVjZWl2ZXMgYSBzaW5nbGUgYXJndW1lbnQgd2hpY2ggY29udGFpbnMgdGhlIHN0YW5kYXJkIGVycm9yIG91dHB1dCBmcm9tIHRoZSBjb21tYW5kLiBUaGUgY2FsbGJhY2sgaXMgY2FsbGVkIGFzIGRhdGEgaXMgcmVjZWl2ZWQgYnV0IGl0J3MgYnVmZmVyZWQgdG8gZW5zdXJlIG9ubHkgY29tcGxldGUgbGluZXMgYXJlIHBhc3NlZCB1bnRpbCB0aGUgc291cmNlIHN0cmVhbSBjbG9zZXMuIEFmdGVyIHRoZSBzb3VyY2Ugc3RyZWFtIGhhcyBjbG9zZWQgYWxsIHJlbWFpbmluZyBkYXRhIGlzIHNlbnQgaW4gYSBmaW5hbCBjYWxsIChvcHRpb25hbCkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFRoZSBjYWxsYmFjayB7RnVuY3Rpb259IHdoaWNoIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IGNvbnRhaW5pbmcgdGhlIGV4aXQgc3RhdHVzIChvcHRpb25hbCkuXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcihvcHRpb25zOiB7IGNvbW1hbmQ6IHN0cmluZywgYXJnczogYW55W10sIG9wdGlvbnM6IE9iamVjdCwgc3Rkb3V0OiBGdW5jdGlvbiwgc3RkZXJyOiBGdW5jdGlvbiwgZXhpdDogRnVuY3Rpb24gfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSB3cmFwcGVyIHdoaWNoIHByb3ZpZGVzIHN0YW5kYXJkIGVycm9yL291dHB1dCBsaW5lIGJ1ZmZlcmluZyBmb3JcbiAgICAgKiBOb2RlJ3MgQ2hpbGRQcm9jZXNzLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2J1ZmZlcmVkLXByb2Nlc3MuanNcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9idWZmZXJlZC1wcm9jZXNzLmpzI0wyMlxuICAgICAqL1xuICAgIGNsYXNzIEJ1ZmZlcmVkUHJvY2VzcyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSdW5zIHRoZSBnaXZlbiBjb21tYW5kIGJ5IHNwYXduaW5nIGEgbmV3IGNoaWxkIHByb2Nlc3MuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBjb21tYW5kIHRvIGV4ZWN1dGUuXG4gICAgICAgICAqIEBwYXJhbSB7YW55W119IFRoZSB7QXJyYXl9IG9mIGFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSBjb21tYW5kIChvcHRpb25hbCkuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSAob3B0aW9uYWwpIFRoZSBvcHRpb25zIHtPYmplY3R9IHRvIHBhc3MgdG8gTm9kZSdzIGBDaGlsZFByb2Nlc3Muc3Bhd25gIG1ldGhvZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSAob3B0aW9uYWwpIFRoZSBjYWxsYmFjayB0aGF0IHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IHdoaWNoIGNvbnRhaW5zIHRoZSBzdGFuZGFyZCBvdXRwdXQgZnJvbSB0aGUgY29tbWFuZC4gVGhlIGNhbGxiYWNrIGlzIGNhbGxlZCBhcyBkYXRhIGlzIHJlY2VpdmVkIGJ1dCBpdCdzIGJ1ZmZlcmVkIHRvIGVuc3VyZSBvbmx5IGNvbXBsZXRlIGxpbmVzIGFyZSBwYXNzZWQgdW50aWwgdGhlIHNvdXJjZSBzdHJlYW0gY2xvc2VzLiBBZnRlciB0aGUgc291cmNlIHN0cmVhbSBoYXMgY2xvc2VkIGFsbCByZW1haW5pbmcgZGF0YSBpcyBzZW50IGluIGEgZmluYWwgY2FsbC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHtTdHJpbmd9XG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gKG9wdGlvbmFsKSBUaGUgY2FsbGJhY2sgdGhhdCByZWNlaXZlcyBhIHNpbmdsZSBhcmd1bWVudCB3aGljaCBjb250YWlucyB0aGUgc3RhbmRhcmQgZXJyb3Igb3V0cHV0IGZyb20gdGhlIGNvbW1hbmQuIFRoZSBjYWxsYmFjayBpcyBjYWxsZWQgYXMgZGF0YSBpcyByZWNlaXZlZCBidXQgaXQncyBidWZmZXJlZCB0byBlbnN1cmUgb25seSBjb21wbGV0ZSBsaW5lcyBhcmUgcGFzc2VkIHVudGlsIHRoZSBzb3VyY2Ugc3RyZWFtIGNsb3Nlcy4gQWZ0ZXIgdGhlIHNvdXJjZSBzdHJlYW0gaGFzIGNsb3NlZCBhbGwgcmVtYWluaW5nIGRhdGEgaXMgc2VudCBpbiBhIGZpbmFsIGNhbGwuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfVxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IChvcHRpb25hbCkgVGhlIGNhbGxiYWNrIHdoaWNoIHJlY2VpdmVzIGEgc2luZ2xlIGFyZ3VtZW50IGNvbnRhaW5pbmcgdGhlIGV4aXQgc3RhdHVzLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn1cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSB7Qm9vbGVhbn0gKG9wdGlvbmFsKSBXaGV0aGVyIHRoZSBjb21tYW5kIHdpbGwgYXV0b21hdGljYWxseSBzdGFydCB3aGVuIHRoaXMgQnVmZmVyZWRQcm9jZXNzIGlzIGNyZWF0ZWQuIERlZmF1bHRzIHRvIHRydWUuICBXaGVuIHNldCB0byBmYWxzZSB5b3UgbXVzdCBjYWxsIHRoZSBgc3RhcnRgIG1ldGhvZCB0byBzdGFydCB0aGUgcHJvY2Vzcy5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IHtjb21tYW5kOiBzdHJpbmcsIGFyZ3M6IGFueVtdLCBvcHRpb25zOiBPYmplY3QsIHN0ZG91dChkYXRhOiBzdHJpbmcpOiBhbnksIHN0ZGVycihkYXRhOiBzdHJpbmcpOiBhbnksIGV4aXQoY29kZTogbnVtYmVyKTogYW55LCBhdXRvU3RhcnQ6IGJvb2xlYW59KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdpbGwgY2FsbCB5b3VyIGNhbGxiYWNrIHdoZW4gYW4gZXJyb3Igd2lsbCBiZSByYWlzZWQgYnkgdGhlIHByb2Nlc3MuXG4gICAgICAgICAqIFVzdWFsbHkgdGhpcyBpcyBkdWUgdG8gdGhlIGNvbW1hbmQgbm90IGJlaW5nIGF2YWlsYWJsZSBvciBub3Qgb24gdGhlIFBBVEguXG4gICAgICAgICAqIFlvdSBjYW4gY2FsbCBgaGFuZGxlKClgIG9uIHRoZSBvYmplY3QgcGFzc2VkIHRvIHlvdXIgY2FsbGJhY2sgdG8gaW5kaWNhdGVcbiAgICAgICAgICogdGhhdCB5b3UgaGF2ZSBoYW5kbGVkIHRoaXMgZXJyb3IuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB0aGUgZXJyb3Igb2JqZWN0XG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gY2FsbCB0aGlzIHRvIGluZGljYXRlIHlvdSBoYXZlIGhhbmRsZWQgdGhlIGVycm9yLiBUaGUgZXJyb3Igd2lsbCBub3QgYmUgdGhyb3duIGlmIHRoaXMgZnVuY3Rpb24gaXMgY2FsbGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfVxuICAgICAgICAgKi9cbiAgICAgICAgb25XaWxsVGhyb3dFcnJvcihjYWxsYmFjazogRnVuY3Rpb24sIGVycm9yT2JqZWN0OiBPYmplY3QsIGVycm9yOiBPYmplY3QsIGhhbmRsZTogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogVGVybWluYXRlIHRoZSBwcm9jZXNzLlxuICAgICAgICAgKi9cbiAgICAgICAga2lsbCgpOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgdGhlIGNsaXBib2FyZCB1c2VkIGZvciBjb3B5aW5nIGFuZCBwYXN0aW5nIGluIEF0b20uXG4gICAgICpcbiAgICAgKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGFsd2F5cyBhdmFpbGFibGUgYXMgdGhlIGBhdG9tLmNsaXBib2FyZGAgZ2xvYmFsLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2NsaXBib2FyZC5qc1xuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2NsaXBib2FyZC5qcyNMMTdcbiAgICAgKi9cbiAgICBjbGFzcyBDbGlwYm9hcmQge1xuICAgICAgICAvKipcbiAgICAgICAgICogV3JpdGUgdGhlIGdpdmVuIHRleHQgdG8gdGhlIGNsaXBib2FyZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIG1ldGFkYXRhIGFzc29jaWF0ZWQgd2l0aCB0aGUgdGV4dCBpcyBhdmFpbGFibGUgYnkgY2FsbGluZ1xuICAgICAgICAgKiB7OjpyZWFkV2l0aE1ldGFkYXRhfS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSB0byBzdG9yZS5cbiAgICAgICAgICogQHBhcmFtICBUaGUgYWRkaXRpb25hbCBpbmZvIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgd3JpdGUodGV4dDogc3RyaW5nLCBtZXRhZGF0YT86IGFueSk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkIHRoZSB0ZXh0IGZyb20gdGhlIGNsaXBib2FyZC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHtTdHJpbmd9LlxuICAgICAgICAgKi9cbiAgICAgICAgcmVhZCgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkIHRoZSB0ZXh0IGZyb20gdGhlIGNsaXBib2FyZCBhbmQgcmV0dXJuIGJvdGggdGhlIHRleHQgYW5kIHRoZVxuICAgICAgICAgKiBhc3NvY2lhdGVkIG1ldGFkYXRhLlxuICAgICAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuXG4gICAgICAgICogYHRleHRgIFRoZSB7U3RyaW5nfSBjbGlwYm9hcmQgdGV4dC5cbiAgICAgICAgKiBgbWV0YWRhdGFgIFRoZSBtZXRhZGF0YSBzdG9yZWQgYnkgYW4gZWFybGllciBjYWxsIHRvIHs6OndyaXRlfS5cbiAgICAgICAgICovXG4gICAgICAgIHJlYWRXaXRoTWV0YWRhdGEoKTogT2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIGNvbG9yIGNsYXNzIHJldHVybmVkIGZyb20ge0NvbmZpZzo6Z2V0fSB3aGVuIHRoZSB2YWx1ZVxuICAgICAqIGF0IHRoZSBrZXkgcGF0aCBpcyBvZiB0eXBlICdjb2xvcicuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvY29sb3IuanNcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9jb2xvci5qcyNMN1xuICAgICAqL1xuICAgIGNsYXNzIENvbG9yIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBhcnNlIGEge1N0cmluZ30gb3Ige09iamVjdH0gaW50byBhIHtDb2xvcn0uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IHN1Y2ggYXMgYCd3aGl0ZSdgLCBgI2ZmMDBmZmAsIG9yIGAncmdiYSgyNTUsIDE1LCA2MCwgLjc1KSdgIG9yIGFuIHtPYmplY3R9IHdpdGggYHJlZGAsIGBncmVlbmAsIGBibHVlYCwgYW5kIGBhbHBoYWAgcHJvcGVydGllcy5cbiAgICAgICAgICogQHJldHVybnMge0NvbG9yfSBSZXR1cm5zIGEge0NvbG9yfSBvciBgbnVsbGAgaWYgaXQgY2Fubm90IGJlIHBhcnNlZC5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBwYXJzZSh2YWx1ZTogc3RyaW5nKTogQ29sb3I7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfSBpbiB0aGUgZm9ybSBgJyNhYmNkZWYnYC5cbiAgICAgICAgICovXG4gICAgICAgIHRvSGV4U3RyaW5nKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfSBpbiB0aGUgZm9ybSBgJ3JnYmEoMjUsIDUwLCA3NSwgLjkpJ2AuXG4gICAgICAgICAqL1xuICAgICAgICB0b1JHQkFTdHJpbmcoKTogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFzc29jaWF0ZXMgbGlzdGVuZXIgZnVuY3Rpb25zIHdpdGggY29tbWFuZHMgaW4gYVxuICAgICAqIGNvbnRleHQtc2Vuc2l0aXZlIHdheSB1c2luZyBDU1Mgc2VsZWN0b3JzLiBZb3UgY2FuIGFjY2VzcyBhIGdsb2JhbCBpbnN0YW5jZSBvZlxuICAgICAqIHRoaXMgY2xhc3MgdmlhIGBhdG9tLmNvbW1hbmRzYCwgYW5kIGNvbW1hbmRzIHJlZ2lzdGVyZWQgdGhlcmUgd2lsbCBiZVxuICAgICAqIHByZXNlbnRlZCBpbiB0aGUgY29tbWFuZCBwYWxldHRlLlxuICAgICAqXG4gICAgICogVGhlIGdsb2JhbCBjb21tYW5kIHJlZ2lzdHJ5IGZhY2lsaXRhdGVzIGEgc3R5bGUgb2YgZXZlbnQgaGFuZGxpbmcga25vd24gYXNcbiAgICAgKiAqZXZlbnQgZGVsZWdhdGlvbiogdGhhdCB3YXMgcG9wdWxhcml6ZWQgYnkgalF1ZXJ5LiBBdG9tIGNvbW1hbmRzIGFyZSBleHByZXNzZWRcbiAgICAgKiBhcyBjdXN0b20gRE9NIGV2ZW50cyB0aGF0IGNhbiBiZSBpbnZva2VkIG9uIHRoZSBjdXJyZW50bHkgZm9jdXNlZCBlbGVtZW50IHZpYVxuICAgICAqIGEga2V5IGJpbmRpbmcgb3IgbWFudWFsbHkgdmlhIHRoZSBjb21tYW5kIHBhbGV0dGUuIFJhdGhlciB0aGFuIGJpbmRpbmdcbiAgICAgKiBsaXN0ZW5lcnMgZm9yIGNvbW1hbmQgZXZlbnRzIGRpcmVjdGx5IHRvIERPTSBub2RlcywgeW91IGluc3RlYWQgcmVnaXN0ZXJcbiAgICAgKiBjb21tYW5kIGV2ZW50IGxpc3RlbmVycyBnbG9iYWxseSBvbiBgYXRvbS5jb21tYW5kc2AgYW5kIGNvbnN0cmFpbiB0aGVtIHRvXG4gICAgICogc3BlY2lmaWMga2luZHMgb2YgZWxlbWVudHMgd2l0aCBDU1Mgc2VsZWN0b3JzLlxuICAgICAqXG4gICAgICogQ29tbWFuZCBuYW1lcyBtdXN0IGZvbGxvdyB0aGUgYG5hbWVzcGFjZTphY3Rpb25gIHBhdHRlcm4sIHdoZXJlIGBuYW1lc3BhY2VgXG4gICAgICogd2lsbCB0eXBpY2FsbHkgYmUgdGhlIG5hbWUgb2YgeW91ciBwYWNrYWdlLCBhbmQgYGFjdGlvbmAgZGVzY3JpYmVzIHRoZVxuICAgICAqIGJlaGF2aW9yIG9mIHlvdXIgY29tbWFuZC4gSWYgZWl0aGVyIHBhcnQgY29uc2lzdHMgb2YgbXVsdGlwbGUgd29yZHMsIHRoZXNlXG4gICAgICogbXVzdCBiZSBzZXBhcmF0ZWQgYnkgaHlwaGVucy4gRS5nLiBgYXdlc29tZS1wYWNrYWdlOnR1cm4taXQtdXAtdG8tZWxldmVuYC5cbiAgICAgKiBBbGwgd29yZHMgc2hvdWxkIGJlIGxvd2VyY2FzZWQuXG4gICAgICpcbiAgICAgKiBBcyB0aGUgZXZlbnQgYnViYmxlcyB1cHdhcmQgdGhyb3VnaCB0aGUgRE9NLCBhbGwgcmVnaXN0ZXJlZCBldmVudCBsaXN0ZW5lcnNcbiAgICAgKiB3aXRoIG1hdGNoaW5nIHNlbGVjdG9ycyBhcmUgaW52b2tlZCBpbiBvcmRlciBvZiBzcGVjaWZpY2l0eS4gSW4gdGhlIGV2ZW50IG9mIGFcbiAgICAgKiBzcGVjaWZpY2l0eSB0aWUsIHRoZSBtb3N0IHJlY2VudGx5IHJlZ2lzdGVyZWQgbGlzdGVuZXIgaXMgaW52b2tlZCBmaXJzdC4gVGhpc1xuICAgICAqIG1pcnJvcnMgdGhlIFwiY2FzY2FkZVwiIHNlbWFudGljcyBvZiBDU1MuIEV2ZW50IGxpc3RlbmVycyBhcmUgaW52b2tlZCBpbiB0aGVcbiAgICAgKiBjb250ZXh0IG9mIHRoZSBjdXJyZW50IERPTSBub2RlLCBtZWFuaW5nIGB0aGlzYCBhbHdheXMgcG9pbnRzIGF0XG4gICAgICogYGV2ZW50LmN1cnJlbnRUYXJnZXRgLiBBcyBpcyBub3JtYWxseSB0aGUgY2FzZSB3aXRoIERPTSBldmVudHMsXG4gICAgICogYHN0b3BQcm9wYWdhdGlvbmAgYW5kIGBzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb25gIGNhbiBiZSB1c2VkIHRvIHRlcm1pbmF0ZSB0aGVcbiAgICAgKiBidWJibGluZyBwcm9jZXNzIGFuZCBwcmV2ZW50IGludm9jYXRpb24gb2YgYWRkaXRpb25hbCBsaXN0ZW5lcnMuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlXG4gICAgICpcbiAgICAgKiBIZXJlIGlzIGEgY29tbWFuZCB0aGF0IGluc2VydHMgdGhlIGN1cnJlbnQgZGF0ZSBpbiBhbiBlZGl0b3I6XG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBhdG9tLmNvbW1hbmRzLmFkZCAnYXRvbS10ZXh0LWVkaXRvcicsXG4gICAgICogICAndXNlcjppbnNlcnQtZGF0ZSc6IChldmVudCkgLT5cbiAgICAgKiAgICAgZWRpdG9yID0gQGdldE1vZGVsKClcbiAgICAgKiAgICAgZWRpdG9yLmluc2VydFRleHQobmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpKVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2NvbW1hbmQtcmVnaXN0cnkuY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS9hdG9tL2Jsb2IvdjEuMTUuMC9zcmMvY29tbWFuZC1yZWdpc3RyeS5jb2ZmZWUjTDQ2XG4gICAgICovXG4gICAgY2xhc3MgQ29tbWFuZFJlZ2lzdHJ5IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBvbmUgb3IgbW9yZSBjb21tYW5kIGxpc3RlbmVycyBhc3NvY2lhdGVkIHdpdGggYSBzZWxlY3Rvci5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZVxuICAgICAgICBhZGRlZCBjb21tYW5kIGhhbmRsZXIocykuXG4gICAgICAgICAqL1xuICAgICAgICBhZGQoLi4uYXJncyA6IGFueVtdKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmQgYWxsIHJlZ2lzdGVyZWQgY29tbWFuZHMgbWF0Y2hpbmcgYSBxdWVyeS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7T2JqZWN0fXMgY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XG5cbiAgICAgICAgKiBgbmFtZWAgVGhlIG5hbWUgb2YgdGhlIGNvbW1hbmQuIEZvciBleGFtcGxlLCBgdXNlcjppbnNlcnQtZGF0ZWAuXG4gICAgICAgICogYGRpc3BsYXlOYW1lYCBUaGUgZGlzcGxheSBuYW1lIG9mIHRoZSBjb21tYW5kLiBGb3IgZXhhbXBsZSxcbiAgICAgICAgICBgVXNlcjogSW5zZXJ0IERhdGVgLlxuICAgICAgICAgKi9cbiAgICAgICAgZmluZENvbW1hbmRzKHBhcmFtczogT2JqZWN0KTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaW11bGF0ZSB0aGUgZGlzcGF0Y2ggb2YgYSBjb21tYW5kIG9uIGEgRE9NIG5vZGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3IgdGVzdGluZyB3aGVuIHlvdSB3YW50IHRvIHNpbXVsYXRlIHRoZSBpbnZvY2F0aW9uIG9mIGFcbiAgICAgICAgICogY29tbWFuZCBvbiBhIGRldGFjaGVkIERPTSBub2RlLiBPdGhlcndpc2UsIHRoZSBET00gbm9kZSBpbiBxdWVzdGlvbiBuZWVkcyB0b1xuICAgICAgICAgKiBiZSBhdHRhY2hlZCB0byB0aGUgZG9jdW1lbnQgc28gdGhlIGV2ZW50IGJ1YmJsZXMgdXAgdG8gdGhlIHJvb3Qgbm9kZSB0byBiZVxuICAgICAgICAgKiBwcm9jZXNzZWQuXG4gICAgICAgICAqIEBwYXJhbSAgVGhlIERPTSBub2RlIGF0IHdoaWNoIHRvIHN0YXJ0IGJ1YmJsaW5nIHRoZSBjb21tYW5kIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gaW5kaWNhdGluZyB0aGUgbmFtZSBvZiB0aGUgY29tbWFuZCB0byBkaXNwYXRjaC5cbiAgICAgICAgICovXG4gICAgICAgIGRpc3BhdGNoKHRhcmdldDogYW55LCBjb21tYW5kTmFtZTogc3RyaW5nKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmVmb3JlIGRpc3BhdGNoaW5nIGEgY29tbWFuZCBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgYmVmb3JlIGRpc3BhdGNoaW5nIGVhY2ggY29tbWFuZFxuICAgICAgICAgKi9cbiAgICAgICAgb25XaWxsRGlzcGF0Y2goY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgYWZ0ZXIgZGlzcGF0Y2hpbmcgYSBjb21tYW5kIGV2ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBhZnRlciBkaXNwYXRjaGluZyBlYWNoIGNvbW1hbmRcbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGlzcGF0Y2goY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgdGhhdCBhZ2dyZWdhdGVzIG11bHRpcGxlIHtEaXNwb3NhYmxlfSBpbnN0YW5jZXMgdG9nZXRoZXJcbiAgICAgKiBpbnRvIGEgc2luZ2xlIGRpc3Bvc2FibGUsIHNvIHRoZXkgY2FuIGFsbCBiZSBkaXNwb3NlZCBhcyBhIGdyb3VwLlxuICAgICAqXG4gICAgICogVGhlc2UgYXJlIHZlcnkgdXNlZnVsIHdoZW4gc3Vic2NyaWJpbmcgdG8gbXVsdGlwbGUgZXZlbnRzLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2NvbXBvc2l0ZS1kaXNwb3NhYmxlLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vZXZlbnQta2l0L2Jsb2IvdjIuMi4wL3NyYy9jb21wb3NpdGUtZGlzcG9zYWJsZS5jb2ZmZWUjTDI0XG4gICAgICovXG4gICAgY2xhc3MgQ29tcG9zaXRlRGlzcG9zYWJsZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdHJ1Y3QgYW4gaW5zdGFuY2UsIG9wdGlvbmFsbHkgd2l0aCBvbmUgb3IgbW9yZSBkaXNwb3NhYmxlc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERpc3Bvc2UgYWxsIGRpc3Bvc2FibGVzIGFkZGVkIHRvIHRoaXMgY29tcG9zaXRlIGRpc3Bvc2FibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoaXMgb2JqZWN0IGhhcyBhbHJlYWR5IGJlZW4gZGlzcG9zZWQsIHRoaXMgbWV0aG9kIGhhcyBubyBlZmZlY3QuXG4gICAgICAgICAqL1xuICAgICAgICBkaXNwb3NlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgZGlzcG9zYWJsZXMgdG8gYmUgZGlzcG9zZWQgd2hlbiB0aGUgY29tcG9zaXRlIGlzIGRpc3Bvc2VkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGlzIG9iamVjdCBoYXMgYWxyZWFkeSBiZWVuIGRpc3Bvc2VkLCB0aGlzIG1ldGhvZCBoYXMgbm8gZWZmZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Rpc3Bvc2FibGV9IHtEaXNwb3NhYmxlfSBpbnN0YW5jZXMgb3IgYW55IG9iamVjdHMgd2l0aCBgLmRpc3Bvc2UoKWAgbWV0aG9kcy5cbiAgICAgICAgICovXG4gICAgICAgIGFkZCguLi5kaXNwb3NhYmxlczogRGlzcG9zYWJsZVtdKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSBhIHByZXZpb3VzbHkgYWRkZWQgZGlzcG9zYWJsZS5cbiAgICAgICAgICogQHBhcmFtIHtEaXNwb3NhYmxlfSB7RGlzcG9zYWJsZX0gaW5zdGFuY2Ugb3IgYW55IG9iamVjdCB3aXRoIGEgYC5kaXNwb3NlKClgIG1ldGhvZC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZShkaXNwb3NhYmxlOiBEaXNwb3NhYmxlKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFyIGFsbCBkaXNwb3NhYmxlcy4gVGhleSB3aWxsIG5vdCBiZSBkaXNwb3NlZCBieSB0aGUgbmV4dCBjYWxsXG4gICAgICAgICAqIHRvIGRpc3Bvc2UuXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcigpOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gYWNjZXNzIGFsbCBvZiBBdG9tJ3MgY29uZmlndXJhdGlvbiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIHRoZSBgYXRvbS5jb25maWdgIGdsb2JhbC5cbiAgICAgKlxuICAgICAqICMjIEdldHRpbmcgYW5kIHNldHRpbmcgY29uZmlnIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogIyBOb3RlIHRoYXQgd2l0aCBubyB2YWx1ZSBzZXQsIDo6Z2V0IHJldHVybnMgdGhlIHNldHRpbmcncyBkZWZhdWx0IHZhbHVlLlxuICAgICAqIGF0b20uY29uZmlnLmdldCgnbXktcGFja2FnZS5teUtleScpICMgLT4gJ2RlZmF1bHRWYWx1ZSdcbiAgICAgKlxuICAgICAqIGF0b20uY29uZmlnLnNldCgnbXktcGFja2FnZS5teUtleScsICd2YWx1ZScpXG4gICAgICogYXRvbS5jb25maWcuZ2V0KCdteS1wYWNrYWdlLm15S2V5JykgIyAtPiAndmFsdWUnXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBZb3UgbWF5IHdhbnQgdG8gd2F0Y2ggZm9yIGNoYW5nZXMuIFVzZSB7OjpvYnNlcnZlfSB0byBjYXRjaCBjaGFuZ2VzIHRvIHRoZSBzZXR0aW5nLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogYXRvbS5jb25maWcuc2V0KCdteS1wYWNrYWdlLm15S2V5JywgJ3ZhbHVlJylcbiAgICAgKiBhdG9tLmNvbmZpZy5vYnNlcnZlICdteS1wYWNrYWdlLm15S2V5JywgKG5ld1ZhbHVlKSAtPlxuICAgICAqICAgIyBgb2JzZXJ2ZWAgY2FsbHMgaW1tZWRpYXRlbHkgYW5kIGV2ZXJ5IHRpbWUgdGhlIHZhbHVlIGlzIGNoYW5nZWRcbiAgICAgKiAgIGNvbnNvbGUubG9nICdNeSBjb25maWd1cmF0aW9uIGNoYW5nZWQ6JywgbmV3VmFsdWVcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IGEgbm90aWZpY2F0aW9uIG9ubHkgd2hlbiB0aGUgdmFsdWUgY2hhbmdlcywgdXNlIHs6Om9uRGlkQ2hhbmdlfS5cbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGF0b20uY29uZmlnLm9uRGlkQ2hhbmdlICdteS1wYWNrYWdlLm15S2V5JywgKHtuZXdWYWx1ZSwgb2xkVmFsdWV9KSAtPlxuICAgICAqICAgY29uc29sZS5sb2cgJ015IGNvbmZpZ3VyYXRpb24gY2hhbmdlZDonLCBuZXdWYWx1ZSwgb2xkVmFsdWVcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBWYWx1ZSBDb2VyY2lvblxuICAgICAqXG4gICAgICogQ29uZmlnIHNldHRpbmdzIGVhY2ggaGF2ZSBhIHR5cGUgc3BlY2lmaWVkIGJ5IHdheSBvZiBhXG4gICAgICogW3NjaGVtYV0oanNvbi1zY2hlbWEub3JnKS4gRm9yIGV4YW1wbGUgd2UgbWlnaHQgYW4gaW50ZWdlciBzZXR0aW5nIHRoYXQgb25seVxuICAgICAqIGFsbG93cyBpbnRlZ2VycyBncmVhdGVyIHRoYW4gYDBgOlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogIyBXaGVuIG5vIHZhbHVlIGhhcyBiZWVuIHNldCwgYDo6Z2V0YCByZXR1cm5zIHRoZSBzZXR0aW5nJ3MgZGVmYXVsdCB2YWx1ZVxuICAgICAqIGF0b20uY29uZmlnLmdldCgnbXktcGFja2FnZS5hbkludCcpICMgLT4gMTJcbiAgICAgKlxuICAgICAqICMgVGhlIHN0cmluZyB3aWxsIGJlIGNvZXJjZWQgdG8gdGhlIGludGVnZXIgMTIzXG4gICAgICogYXRvbS5jb25maWcuc2V0KCdteS1wYWNrYWdlLmFuSW50JywgJzEyMycpXG4gICAgICogYXRvbS5jb25maWcuZ2V0KCdteS1wYWNrYWdlLmFuSW50JykgIyAtPiAxMjNcbiAgICAgKlxuICAgICAqICMgVGhlIHN0cmluZyB3aWxsIGJlIGNvZXJjZWQgdG8gYW4gaW50ZWdlciwgYnV0IGl0IG11c3QgYmUgZ3JlYXRlciB0aGFuIDAsIHNvIGlzIHNldCB0byAxXG4gICAgICogYXRvbS5jb25maWcuc2V0KCdteS1wYWNrYWdlLmFuSW50JywgJy0yMCcpXG4gICAgICogYXRvbS5jb25maWcuZ2V0KCdteS1wYWNrYWdlLmFuSW50JykgIyAtPiAxXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyBEZWZpbmluZyBzZXR0aW5ncyBmb3IgeW91ciBwYWNrYWdlXG4gICAgICpcbiAgICAgKiBEZWZpbmUgYSBzY2hlbWEgdW5kZXIgYSBgY29uZmlnYCBrZXkgaW4geW91ciBwYWNrYWdlIG1haW4uXG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBtb2R1bGUuZXhwb3J0cyA9XG4gICAgICogICAjIFlvdXIgY29uZmlnIHNjaGVtYVxuICAgICAqICAgY29uZmlnOlxuICAgICAqICAgICBzb21lSW50OlxuICAgICAqICAgICAgIHR5cGU6ICdpbnRlZ2VyJ1xuICAgICAqICAgICAgIGRlZmF1bHQ6IDIzXG4gICAgICogICAgICAgbWluaW11bTogMVxuICAgICAqXG4gICAgICogICBhY3RpdmF0ZTogKHN0YXRlKSAtPiAjIC4uLlxuICAgICAqICAgIyAuLi5cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFNlZSBbcGFja2FnZSBkb2NzXShodHRwOi8vZmxpZ2h0LW1hbnVhbC5hdG9tLmlvL2hhY2tpbmctYXRvbS9zZWN0aW9ucy9wYWNrYWdlLXdvcmQtY291bnQvKSBmb3JcbiAgICAgKiBtb3JlIGluZm8uXG4gICAgICpcbiAgICAgKiAjIyBDb25maWcgU2NoZW1hc1xuICAgICAqXG4gICAgICogV2UgdXNlIFtqc29uIHNjaGVtYV0oaHR0cDovL2pzb24tc2NoZW1hLm9yZykgd2hpY2ggYWxsb3dzIHlvdSB0byBkZWZpbmUgeW91ciB2YWx1ZSdzXG4gICAgICogZGVmYXVsdCwgdGhlIHR5cGUgaXQgc2hvdWxkIGJlLCBldGMuIEEgc2ltcGxlIGV4YW1wbGU6XG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiAjIFdlIHdhbnQgdG8gcHJvdmlkZSBhbiBgZW5hYmxlVGhpbmdgLCBhbmQgYSBgdGhpbmdWb2x1bWVgXG4gICAgICogY29uZmlnOlxuICAgICAqICAgZW5hYmxlVGhpbmc6XG4gICAgICogICAgIHR5cGU6ICdib29sZWFuJ1xuICAgICAqICAgICBkZWZhdWx0OiBmYWxzZVxuICAgICAqICAgdGhpbmdWb2x1bWU6XG4gICAgICogICAgIHR5cGU6ICdpbnRlZ2VyJ1xuICAgICAqICAgICBkZWZhdWx0OiA1XG4gICAgICogICAgIG1pbmltdW06IDFcbiAgICAgKiAgICAgbWF4aW11bTogMTFcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFRoZSB0eXBlIGtleXdvcmQgYWxsb3dzIGZvciB0eXBlIGNvZXJjaW9uIGFuZCB2YWxpZGF0aW9uLiBJZiBhIGB0aGluZ1ZvbHVtZWAgaXNcbiAgICAgKiBzZXQgdG8gYSBzdHJpbmcgYCcxMCdgLCBpdCB3aWxsIGJlIGNvZXJjZWQgaW50byBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogYXRvbS5jb25maWcuc2V0KCdteS1wYWNrYWdlLnRoaW5nVm9sdW1lJywgJzEwJylcbiAgICAgKiBhdG9tLmNvbmZpZy5nZXQoJ215LXBhY2thZ2UudGhpbmdWb2x1bWUnKSAjIC0+IDEwXG4gICAgICpcbiAgICAgKiAjIEl0IHJlc3BlY3RzIHRoZSBtaW4gLyBtYXhcbiAgICAgKiBhdG9tLmNvbmZpZy5zZXQoJ215LXBhY2thZ2UudGhpbmdWb2x1bWUnLCAnNDAwJylcbiAgICAgKiBhdG9tLmNvbmZpZy5nZXQoJ215LXBhY2thZ2UudGhpbmdWb2x1bWUnKSAjIC0+IDExXG4gICAgICpcbiAgICAgKiAjIElmIGl0IGNhbm5vdCBiZSBjb2VyY2VkLCB0aGUgdmFsdWUgd2lsbCBub3QgYmUgc2V0XG4gICAgICogYXRvbS5jb25maWcuc2V0KCdteS1wYWNrYWdlLnRoaW5nVm9sdW1lJywgJ2NhdHMnKVxuICAgICAqIGF0b20uY29uZmlnLmdldCgnbXktcGFja2FnZS50aGluZ1ZvbHVtZScpICMgLT4gMTFcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBTdXBwb3J0ZWQgVHlwZXNcbiAgICAgKlxuICAgICAqIFRoZSBgdHlwZWAga2V5d29yZCBjYW4gYmUgYSBzdHJpbmcgd2l0aCBhbnkgb25lIG9mIHRoZSBmb2xsb3dpbmcuIFlvdSBjYW4gYWxzb1xuICAgICAqIGNoYWluIHRoZW0gYnkgc3BlY2lmeWluZyBtdWx0aXBsZSBpbiBhbiBhbiBhcnJheS4gRm9yIGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGNvbmZpZzpcbiAgICAgKiAgIHNvbWVTZXR0aW5nOlxuICAgICAqICAgICB0eXBlOiBbJ2Jvb2xlYW4nLCAnaW50ZWdlciddXG4gICAgICogICAgIGRlZmF1bHQ6IDVcbiAgICAgKlxuICAgICAqICMgVGhlblxuICAgICAqIGF0b20uY29uZmlnLnNldCgnbXktcGFja2FnZS5zb21lU2V0dGluZycsICd0cnVlJylcbiAgICAgKiBhdG9tLmNvbmZpZy5nZXQoJ215LXBhY2thZ2Uuc29tZVNldHRpbmcnKSAjIC0+IHRydWVcbiAgICAgKlxuICAgICAqIGF0b20uY29uZmlnLnNldCgnbXktcGFja2FnZS5zb21lU2V0dGluZycsICcxMicpXG4gICAgICogYXRvbS5jb25maWcuZ2V0KCdteS1wYWNrYWdlLnNvbWVTZXR0aW5nJykgIyAtPiAxMlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBzdHJpbmdcbiAgICAgKlxuICAgICAqIFZhbHVlcyBtdXN0IGJlIGEgc3RyaW5nLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogY29uZmlnOlxuICAgICAqICAgc29tZVNldHRpbmc6XG4gICAgICogICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICogICAgIGRlZmF1bHQ6ICdoZWxsbydcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyMgaW50ZWdlclxuICAgICAqXG4gICAgICogVmFsdWVzIHdpbGwgYmUgY29lcmNlZCBpbnRvIGludGVnZXIuIFN1cHBvcnRzIHRoZSAob3B0aW9uYWwpIGBtaW5pbXVtYCBhbmRcbiAgICAgKiBgbWF4aW11bWAga2V5cy5cbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqICAgY29uZmlnOlxuICAgICAqICAgICBzb21lU2V0dGluZzpcbiAgICAgKiAgICAgICB0eXBlOiAnaW50ZWdlcidcbiAgICAgKiAgICAgICBkZWZhdWx0OiA1XG4gICAgICogICAgICAgbWluaW11bTogMVxuICAgICAqICAgICAgIG1heGltdW06IDExXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIG51bWJlclxuICAgICAqXG4gICAgICogVmFsdWVzIHdpbGwgYmUgY29lcmNlZCBpbnRvIGEgbnVtYmVyLCBpbmNsdWRpbmcgcmVhbCBudW1iZXJzLiBTdXBwb3J0cyB0aGVcbiAgICAgKiAob3B0aW9uYWwpIGBtaW5pbXVtYCBhbmQgYG1heGltdW1gIGtleXMuXG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBjb25maWc6XG4gICAgICogICBzb21lU2V0dGluZzpcbiAgICAgKiAgICAgdHlwZTogJ251bWJlcidcbiAgICAgKiAgICAgZGVmYXVsdDogNS4zXG4gICAgICogICAgIG1pbmltdW06IDEuNVxuICAgICAqICAgICBtYXhpbXVtOiAxMS41XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiAjIyMjIGJvb2xlYW5cbiAgICAgKlxuICAgICAqIFZhbHVlcyB3aWxsIGJlIGNvZXJjZWQgaW50byBhIEJvb2xlYW4uIGAndHJ1ZSdgIGFuZCBgJ2ZhbHNlJ2Agd2lsbCBiZSBjb2VyY2VkIGludG9cbiAgICAgKiBhIGJvb2xlYW4uIE51bWJlcnMsIGFycmF5cywgb2JqZWN0cywgYW5kIGFueXRoaW5nIGVsc2Ugd2lsbCBub3QgYmUgY29lcmNlZC5cbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGNvbmZpZzpcbiAgICAgKiAgIHNvbWVTZXR0aW5nOlxuICAgICAqICAgICB0eXBlOiAnYm9vbGVhbidcbiAgICAgKiAgICAgZGVmYXVsdDogZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyMgYXJyYXlcbiAgICAgKlxuICAgICAqIFZhbHVlIG11c3QgYmUgYW4gQXJyYXkuIFRoZSB0eXBlcyBvZiB0aGUgdmFsdWVzIGNhbiBiZSBzcGVjaWZpZWQgYnkgYVxuICAgICAqIHN1YnNjaGVtYSBpbiB0aGUgYGl0ZW1zYCBrZXkuXG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBjb25maWc6XG4gICAgICogICBzb21lU2V0dGluZzpcbiAgICAgKiAgICAgdHlwZTogJ2FycmF5J1xuICAgICAqICAgICBkZWZhdWx0OiBbMSwgMiwgM11cbiAgICAgKiAgICAgaXRlbXM6XG4gICAgICogICAgICAgdHlwZTogJ2ludGVnZXInXG4gICAgICogICAgICAgbWluaW11bTogMS41XG4gICAgICogICAgICAgbWF4aW11bTogMTEuNVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBjb2xvclxuICAgICAqXG4gICAgICogVmFsdWVzIHdpbGwgYmUgY29lcmNlZCBpbnRvIGEge0NvbG9yfSB3aXRoIGByZWRgLCBgZ3JlZW5gLCBgYmx1ZWAsIGFuZCBgYWxwaGFgXG4gICAgICogcHJvcGVydGllcyB0aGF0IGFsbCBoYXZlIG51bWVyaWMgdmFsdWVzLiBgcmVkYCwgYGdyZWVuYCwgYGJsdWVgIHdpbGwgYmUgaW5cbiAgICAgKiB0aGUgcmFuZ2UgMCB0byAyNTUgYW5kIGB2YWx1ZWAgd2lsbCBiZSBpbiB0aGUgcmFuZ2UgMCB0byAxLiBWYWx1ZXMgY2FuIGJlIGFueVxuICAgICAqIHZhbGlkIENTUyBjb2xvciBmb3JtYXQgc3VjaCBhcyBgI2FiY2AsIGAjYWJjZGVmYCwgYHdoaXRlYCxcbiAgICAgKiBgcmdiKDUwLCAxMDAsIDE1MClgLCBhbmQgYHJnYmEoMjUsIDc1LCAxMjUsIC43NSlgLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogY29uZmlnOlxuICAgICAqICAgc29tZVNldHRpbmc6XG4gICAgICogICAgIHR5cGU6ICdjb2xvcidcbiAgICAgKiAgICAgZGVmYXVsdDogJ3doaXRlJ1xuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyBvYmplY3QgLyBHcm91cGluZyBvdGhlciB0eXBlc1xuICAgICAqXG4gICAgICogQSBjb25maWcgc2V0dGluZyB3aXRoIHRoZSB0eXBlIGBvYmplY3RgIGFsbG93cyBncm91cGluZyBhIHNldCBvZiBjb25maWdcbiAgICAgKiBzZXR0aW5ncy4gVGhlIGdyb3VwIHdpbGwgYmUgdmlzdWFseSBzZXBhcmF0ZWQgYW5kIGhhcyBpdHMgb3duIGdyb3VwIGhlYWRsaW5lLlxuICAgICAqIFRoZSBzdWIgb3B0aW9ucyBtdXN0IGJlIGxpc3RlZCB1bmRlciBhIGBwcm9wZXJ0aWVzYCBrZXkuXG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBjb25maWc6XG4gICAgICogICBzb21lU2V0dGluZzpcbiAgICAgKiAgICAgdHlwZTogJ29iamVjdCdcbiAgICAgKiAgICAgcHJvcGVydGllczpcbiAgICAgKiAgICAgICBteUNoaWxkSW50T3B0aW9uOlxuICAgICAqICAgICAgICAgdHlwZTogJ2ludGVnZXInXG4gICAgICogICAgICAgICBtaW5pbXVtOiAxLjVcbiAgICAgKiAgICAgICAgIG1heGltdW06IDExLjVcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBPdGhlciBTdXBwb3J0ZWQgS2V5c1xuICAgICAqXG4gICAgICogIyMjIyBlbnVtXG4gICAgICpcbiAgICAgKiBBbGwgdHlwZXMgc3VwcG9ydCBhbiBgZW51bWAga2V5LCB3aGljaCBsZXRzIHlvdSBzcGVjaWZ5IGFsbCB0aGUgdmFsdWVzIHRoZVxuICAgICAqIHNldHRpbmcgY2FuIHRha2UuIGBlbnVtYCBtYXkgYmUgYW4gYXJyYXkgb2YgYWxsb3dlZCB2YWx1ZXMgKG9mIHRoZSBzcGVjaWZpZWRcbiAgICAgKiB0eXBlKSwgb3IgYW4gYXJyYXkgb2Ygb2JqZWN0cyB3aXRoIGB2YWx1ZWAgYW5kIGBkZXNjcmlwdGlvbmAgcHJvcGVydGllcywgd2hlcmVcbiAgICAgKiB0aGUgYHZhbHVlYCBpcyBhbiBhbGxvd2VkIHZhbHVlLCBhbmQgdGhlIGBkZXNjcmlwdGlvbmAgaXMgYSBkZXNjcmlwdGl2ZSBzdHJpbmdcbiAgICAgKiB1c2VkIGluIHRoZSBzZXR0aW5ncyB2aWV3LlxuICAgICAqXG4gICAgICogSW4gdGhpcyBleGFtcGxlLCB0aGUgc2V0dGluZyBtdXN0IGJlIG9uZSBvZiB0aGUgNCBpbnRlZ2VyczpcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGNvbmZpZzpcbiAgICAgKiAgIHNvbWVTZXR0aW5nOlxuICAgICAqICAgICB0eXBlOiAnaW50ZWdlcidcbiAgICAgKiAgICAgZGVmYXVsdDogNFxuICAgICAqICAgICBlbnVtOiBbMiwgNCwgNiwgOF1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEluIHRoaXMgZXhhbXBsZSwgdGhlIHNldHRpbmcgbXVzdCBiZSBlaXRoZXIgJ2Zvbycgb3IgJ2JhcicsIHdoaWNoIGFyZVxuICAgICAqIHByZXNlbnRlZCB1c2luZyB0aGUgcHJvdmlkZWQgZGVzY3JpcHRpb25zIGluIHRoZSBzZXR0aW5ncyBwYW5lOlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogY29uZmlnOlxuICAgICAqICAgc29tZVNldHRpbmc6XG4gICAgICogICAgIHR5cGU6ICdzdHJpbmcnXG4gICAgICogICAgIGRlZmF1bHQ6ICdmb28nXG4gICAgICogICAgIGVudW06IFtcbiAgICAgKiAgICAgICB7dmFsdWU6ICdmb28nLCBkZXNjcmlwdGlvbjogJ0ZvbyBtb2RlLiBZb3Ugd2FudCB0aGlzLid9XG4gICAgICogICAgICAge3ZhbHVlOiAnYmFyJywgZGVzY3JpcHRpb246ICdCYXIgbW9kZS4gTm9ib2R5IHdhbnRzIHRoYXQhJ31cbiAgICAgKiAgICAgXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVXNhZ2U6XG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBhdG9tLmNvbmZpZy5zZXQoJ215LXBhY2thZ2Uuc29tZVNldHRpbmcnLCAnMicpXG4gICAgICogYXRvbS5jb25maWcuZ2V0KCdteS1wYWNrYWdlLnNvbWVTZXR0aW5nJykgIyAtPiAyXG4gICAgICpcbiAgICAgKiAjIHdpbGwgbm90IHNldCB2YWx1ZXMgb3V0c2lkZSBvZiB0aGUgZW51bSB2YWx1ZXNcbiAgICAgKiBhdG9tLmNvbmZpZy5zZXQoJ215LXBhY2thZ2Uuc29tZVNldHRpbmcnLCAnMycpXG4gICAgICogYXRvbS5jb25maWcuZ2V0KCdteS1wYWNrYWdlLnNvbWVTZXR0aW5nJykgIyAtPiAyXG4gICAgICpcbiAgICAgKiAjIElmIGl0IGNhbm5vdCBiZSBjb2VyY2VkLCB0aGUgdmFsdWUgd2lsbCBub3QgYmUgc2V0XG4gICAgICogYXRvbS5jb25maWcuc2V0KCdteS1wYWNrYWdlLnNvbWVTZXR0aW5nJywgJzQnKVxuICAgICAqIGF0b20uY29uZmlnLmdldCgnbXktcGFja2FnZS5zb21lU2V0dGluZycpICMgLT4gNFxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMjIyB0aXRsZSBhbmQgZGVzY3JpcHRpb25cbiAgICAgKlxuICAgICAqIFRoZSBzZXR0aW5ncyB2aWV3IHdpbGwgdXNlIHRoZSBgdGl0bGVgIGFuZCBgZGVzY3JpcHRpb25gIGtleXMgdG8gZGlzcGxheSB5b3VyXG4gICAgICogY29uZmlnIHNldHRpbmcgaW4gYSByZWFkYWJsZSB3YXkuIEJ5IGRlZmF1bHQgdGhlIHNldHRpbmdzIHZpZXcgaHVtYW5pemVzIHlvdXJcbiAgICAgKiBjb25maWcga2V5LCBzbyBgc29tZVNldHRpbmdgIGJlY29tZXMgYFNvbWUgU2V0dGluZ2AuIEluIHNvbWUgY2FzZXMsIHRoaXMgaXNcbiAgICAgKiBjb25mdXNpbmcgZm9yIHVzZXJzLCBhbmQgYSBtb3JlIGRlc2NyaXB0aXZlIHRpdGxlIGlzIHVzZWZ1bC5cbiAgICAgKlxuICAgICAqIERlc2NyaXB0aW9ucyB3aWxsIGJlIGRpc3BsYXllZCBiZWxvdyB0aGUgdGl0bGUgaW4gdGhlIHNldHRpbmdzIHZpZXcuXG4gICAgICpcbiAgICAgKiBGb3IgYSBncm91cCBvZiBjb25maWcgc2V0dGluZ3MgdGhlIGh1bWFuaXplZCBrZXkgb3IgdGhlIHRpdGxlIGFuZCB0aGVcbiAgICAgKiBkZXNjcmlwdGlvbiBhcmUgdXNlZCBmb3IgdGhlIGdyb3VwIGhlYWRsaW5lLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogY29uZmlnOlxuICAgICAqICAgc29tZVNldHRpbmc6XG4gICAgICogICAgIHRpdGxlOiAnU2V0dGluZyBNYWduaXR1ZGUnXG4gICAgICogICAgIGRlc2NyaXB0aW9uOiAnVGhpcyB3aWxsIGFmZmVjdCB0aGUgYmxhaCBhbmQgdGhlIG90aGVyIGJsYWgnXG4gICAgICogICAgIHR5cGU6ICdpbnRlZ2VyJ1xuICAgICAqICAgICBkZWZhdWx0OiA0XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBfX05vdGVfXzogWW91IHNob3VsZCBzdHJpdmUgdG8gYmUgc28gY2xlYXIgaW4geW91ciBuYW1pbmcgb2YgdGhlIHNldHRpbmcgdGhhdFxuICAgICAqIHlvdSBkbyBub3QgbmVlZCB0byBzcGVjaWZ5IGEgdGl0bGUgb3IgZGVzY3JpcHRpb24hXG4gICAgICpcbiAgICAgKiBEZXNjcmlwdGlvbnMgYWxsb3cgYSBzdWJzZXQgb2ZcbiAgICAgKiBbTWFya2Rvd24gZm9ybWF0dGluZ10oaHR0cHM6Ly9oZWxwLmdpdGh1Yi5jb20vYXJ0aWNsZXMvZ2l0aHViLWZsYXZvcmVkLW1hcmtkb3duLykuXG4gICAgICogU3BlY2lmaWNhbGx5LCB5b3UgbWF5IHVzZSB0aGUgZm9sbG93aW5nIGluIGNvbmZpZ3VyYXRpb24gc2V0dGluZyBkZXNjcmlwdGlvbnM6XG4gICAgICpcbiAgICAgKiAqICoqYm9sZCoqIC0gYCoqYm9sZCoqYFxuICAgICAqICogKml0YWxpY3MqIC0gYCppdGFsaWNzKmBcbiAgICAgKiAqIFtsaW5rc10oaHR0cHM6Ly9hdG9tLmlvKSAtIGBbbGlua3NdKGh0dHBzOi8vYXRvbS5pbylgXG4gICAgICogKiBgY29kZSBzcGFuc2AgLSBgXFxgY29kZSBzcGFuc1xcYGBcbiAgICAgKiAqIGxpbmUgYnJlYWtzIC0gYGxpbmUgYnJlYWtzPGJyLz5gXG4gICAgICogKiB+fnN0cmlrZXRocm91Z2h+fiAtIGB+fnN0cmlrZXRocm91Z2h+fmBcbiAgICAgKlxuICAgICAqICMjIyMgb3JkZXJcbiAgICAgKlxuICAgICAqIFRoZSBzZXR0aW5ncyB2aWV3IG9yZGVycyB5b3VyIHNldHRpbmdzIGFscGhhYmV0aWNhbGx5LiBZb3UgY2FuIG92ZXJyaWRlIHRoaXNcbiAgICAgKiBvcmRlcmluZyB3aXRoIHRoZSBvcmRlciBrZXkuXG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBjb25maWc6XG4gICAgICogICB6U2V0dGluZzpcbiAgICAgKiAgICAgdHlwZTogJ2ludGVnZXInXG4gICAgICogICAgIGRlZmF1bHQ6IDRcbiAgICAgKiAgICAgb3JkZXI6IDFcbiAgICAgKiAgIGFTZXR0aW5nOlxuICAgICAqICAgICB0eXBlOiAnaW50ZWdlcidcbiAgICAgKiAgICAgZGVmYXVsdDogNFxuICAgICAqICAgICBvcmRlcjogMlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogIyMgTWFuaXB1bGF0aW5nIHZhbHVlcyBvdXRzaWRlIHlvdXIgY29uZmlndXJhdGlvbiBzY2hlbWFcbiAgICAgKlxuICAgICAqIEl0IGlzIHBvc3NpYmxlIHRvIG1hbmlwdWxhdGUoYGdldGAsIGBzZXRgLCBgb2JzZXJ2ZWAgZXRjKSB2YWx1ZXMgdGhhdCBkbyBub3RcbiAgICAgKiBhcHBlYXIgaW4geW91ciBjb25maWd1cmF0aW9uIHNjaGVtYS4gRm9yIGV4YW1wbGUsIGlmIHRoZSBjb25maWcgc2NoZW1hIG9mIHRoZVxuICAgICAqIHBhY2thZ2UgJ3NvbWUtcGFja2FnZScgaXNcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGNvbmZpZzpcbiAgICAgKiBzb21lU2V0dGluZzpcbiAgICAgKiAgIHR5cGU6ICdib29sZWFuJ1xuICAgICAqICAgZGVmYXVsdDogZmFsc2VcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFlvdSBjYW4gc3RpbGwgZG8gdGhlIGZvbGxvd2luZ1xuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogbGV0IG90aGVyU2V0dGluZyAgPSBhdG9tLmNvbmZpZy5nZXQoJ3NvbWUtcGFja2FnZS5vdGhlclNldHRpbmcnKVxuICAgICAqIGF0b20uY29uZmlnLnNldCgnc29tZS1wYWNrYWdlLnN0aWxsQW5vdGhlclNldHRpbmcnLCBvdGhlclNldHRpbmcgKiA1KVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW4gb3RoZXIgd29yZHMsIGlmIGEgZnVuY3Rpb24gYXNrcyBmb3IgYSBga2V5LXBhdGhgLCB0aGF0IHBhdGggZG9lc24ndCBoYXZlIHRvXG4gICAgICogYmUgZGVzY3JpYmVkIGluIHRoZSBjb25maWcgc2NoZW1hIGZvciB0aGUgcGFja2FnZSBvciBhbnkgcGFja2FnZS4gSG93ZXZlciwgYXNcbiAgICAgKiBoaWdobGlnaHRlZCBpbiB0aGUgYmVzdCBwcmFjdGljZXMgc2VjdGlvbiwgeW91IGFyZSBhZHZpc2VkIGFnYWluc3QgZG9pbmcgdGhlXG4gICAgICogYWJvdmUuXG4gICAgICpcbiAgICAgKiAjIyBCZXN0IHByYWN0aWNlc1xuICAgICAqXG4gICAgICogKiBEb24ndCBkZXBlbmQgb24gKG9yIHdyaXRlIHRvKSBjb25maWd1cmF0aW9uIGtleXMgb3V0c2lkZSBvZiB5b3VyIGtleXBhdGguXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvY29uZmlnLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2NvbmZpZy5jb2ZmZWUjTDM2OVxuICAgICAqL1xuICAgIGNsYXNzIENvbmZpZyB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBsaXN0ZW5lciBmb3IgY2hhbmdlcyB0byBhIGdpdmVuIGtleSBwYXRoLiBUaGlzIGlzIGRpZmZlcmVudFxuICAgICAgICAgKiB0aGFuIHs6Om9uRGlkQ2hhbmdlfSBpbiB0aGF0IGl0IHdpbGwgaW1tZWRpYXRlbHkgY2FsbCB5b3VyIGNhbGxiYWNrIHdpdGggdGhlXG4gICAgICAgICAqIGN1cnJlbnQgdmFsdWUgb2YgdGhlIGNvbmZpZyBlbnRyeS5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIEV4YW1wbGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIFlvdSBtaWdodCB3YW50IHRvIGJlIG5vdGlmaWVkIHdoZW4gdGhlIHRoZW1lcyBjaGFuZ2UuIFdlJ2xsIHdhdGNoXG4gICAgICAgICAqIGBjb3JlLnRoZW1lc2AgZm9yIGNoYW5nZXNcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgY29mZmVlXG4gICAgICAgICAqIGF0b20uY29uZmlnLm9ic2VydmUgJ2NvcmUudGhlbWVzJywgKHZhbHVlKSAtPlxuICAgICAgICAgKiAgICMgZG8gc3R1ZmYgd2l0aCB2YWx1ZVxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHtTdHJpbmd9IG5hbWUgb2YgdGhlIGtleSB0byBvYnNlcnZlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGNhbGwgd2hlbiB0aGUgdmFsdWUgb2YgdGhlIGtleSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5cyBvbiB3aGljaCB5b3UgY2FuIGNhbGxcbiAgICAgICAgYC5kaXNwb3NlKClgIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZShrZXlQYXRoOiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QsIGNhbGxiYWNrPzogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgbGlzdGVuZXIgZm9yIGNoYW5nZXMgdG8gYSBnaXZlbiBrZXkgcGF0aC4gSWYgYGtleVBhdGhgIGlzXG4gICAgICAgICAqIG5vdCBzcGVjaWZpZWQsIHlvdXIgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgb24gY2hhbmdlcyB0byBhbnkga2V5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gbmFtZSBvZiB0aGUga2V5IHRvIG9ic2VydmUuIE11c3QgYmUgc3BlY2lmaWVkIGlmIGBzY29wZURlc2NyaXB0b3JgIGlzIHNwZWNpZmllZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gY2FsbCB3aGVuIHRoZSB2YWx1ZSBvZiB0aGUga2V5IGNoYW5nZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzIG9uIHdoaWNoIHlvdSBjYW4gY2FsbFxuICAgICAgICBgLmRpc3Bvc2UoKWAgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZShrZXlQYXRoPzogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0LCBjYWxsYmFjaz86IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgc2V0dGluZyBmb3IgdGhlIGdpdmVuIGtleS5cbiAgICAgICAgICpcbiAgICAgICAgICogIyMjIEV4YW1wbGVzXG4gICAgICAgICAqXG4gICAgICAgICAqIFlvdSBtaWdodCB3YW50IHRvIGtub3cgd2hhdCB0aGVtZXMgYXJlIGVuYWJsZWQsIHNvIGNoZWNrIGBjb3JlLnRoZW1lc2BcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgY29mZmVlXG4gICAgICAgICAqIGF0b20uY29uZmlnLmdldCgnY29yZS50aGVtZXMnKVxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogV2l0aCBzY29wZSBkZXNjcmlwdG9ycyB5b3UgY2FuIGdldCBzZXR0aW5ncyB3aXRoaW4gYSBzcGVjaWZpYyBlZGl0b3JcbiAgICAgICAgICogc2NvcGUuIEZvciBleGFtcGxlLCB5b3UgbWlnaHQgd2FudCB0byBrbm93IGBlZGl0b3IudGFiTGVuZ3RoYCBmb3IgcnVieVxuICAgICAgICAgKiBmaWxlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBgY29mZmVlXG4gICAgICAgICAqIGF0b20uY29uZmlnLmdldCgnZWRpdG9yLnRhYkxlbmd0aCcsIHNjb3BlOiBbJ3NvdXJjZS5ydWJ5J10pICMgPT4gMlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBzZXR0aW5nIGluIHJ1YnkgZmlsZXMgbWlnaHQgYmUgZGlmZmVyZW50IHRoYW4gdGhlIGdsb2JhbCB0YWJMZW5ndGggc2V0dGluZ1xuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBjb2ZmZWVcbiAgICAgICAgICogYXRvbS5jb25maWcuZ2V0KCdlZGl0b3IudGFiTGVuZ3RoJykgIyA9PiA0XG4gICAgICAgICAqIGF0b20uY29uZmlnLmdldCgnZWRpdG9yLnRhYkxlbmd0aCcsIHNjb3BlOiBbJ3NvdXJjZS5ydWJ5J10pICMgPT4gMlxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBnZXQgdGhlIGxhbmd1YWdlIHNjb3BlIGRlc2NyaXB0b3IgdmlhXG4gICAgICAgICAqIHtUZXh0RWRpdG9yOjpnZXRSb290U2NvcGVEZXNjcmlwdG9yfS4gVGhpcyB3aWxsIGdldCB0aGUgc2V0dGluZyBzcGVjaWZpY2FsbHlcbiAgICAgICAgICogZm9yIHRoZSBlZGl0b3IncyBsYW5ndWFnZS5cbiAgICAgICAgICpcbiAgICAgICAgICogYGBgY29mZmVlXG4gICAgICAgICAqIGF0b20uY29uZmlnLmdldCgnZWRpdG9yLnRhYkxlbmd0aCcsIHNjb3BlOiBAZWRpdG9yLmdldFJvb3RTY29wZURlc2NyaXB0b3IoKSkgIyA9PiAyXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKlxuICAgICAgICAgKiBBZGRpdGlvbmFsbHksIHlvdSBjYW4gZ2V0IHRoZSBzZXR0aW5nIGF0IHRoZSBzcGVjaWZpYyBjdXJzb3IgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYGNvZmZlZVxuICAgICAgICAgKiBzY29wZURlc2NyaXB0b3IgPSBAZWRpdG9yLmdldExhc3RDdXJzb3IoKS5nZXRTY29wZURlc2NyaXB0b3IoKVxuICAgICAgICAgKiBhdG9tLmNvbmZpZy5nZXQoJ2VkaXRvci50YWJMZW5ndGgnLCBzY29wZTogc2NvcGVEZXNjcmlwdG9yKSAjID0+IDJcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gbmFtZSBvZiB0aGUga2V5IHRvIHJldHJpZXZlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgdGhlIHZhbHVlIGZyb20gQXRvbSdzIGRlZmF1bHQgc2V0dGluZ3MsIHRoZSB1c2VyJ3MgY29uZmlndXJhdGlvblxuICAgICAgICBmaWxlIGluIHRoZSB0eXBlIHNwZWNpZmllZCBieSB0aGUgY29uZmlndXJhdGlvbiBzY2hlbWEuXG4gICAgICAgICAqL1xuICAgICAgICBnZXQoa2V5UGF0aDogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBvZiB0aGUgdmFsdWVzIGZvciB0aGUgZ2l2ZW4ga2V5LXBhdGgsIGFsb25nIHdpdGggdGhlaXJcbiAgICAgICAgICogYXNzb2NpYXRlZCBzY29wZSBzZWxlY3Rvci5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBrZXkgdG8gcmV0cmlldmVcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHNlZSB0aGUgYG9wdGlvbnNgIGFyZ3VtZW50IHRvIHs6OmdldH1cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge09iamVjdH1zIHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuXG4gICAgICAgICogYHNjb3BlRGVzY3JpcHRvcmAgVGhlIHtTY29wZURlc2NyaXB0b3J9IHdpdGggd2hpY2ggdGhlIHZhbHVlIGlzIGFzc29jaWF0ZWRcbiAgICAgICAgKiBgdmFsdWVgIFRoZSB2YWx1ZSBmb3IgdGhlIGtleS1wYXRoXG4gICAgICAgICAqL1xuICAgICAgICBnZXRBbGwoa2V5UGF0aDogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSB2YWx1ZSBmb3IgYSBjb25maWd1cmF0aW9uIHNldHRpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgdmFsdWUgaXMgc3RvcmVkIGluIEF0b20ncyBpbnRlcm5hbCBjb25maWd1cmF0aW9uIGZpbGUuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIyBFeGFtcGxlc1xuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgbWlnaHQgd2FudCB0byBjaGFuZ2UgdGhlIHRoZW1lcyBwcm9ncmFtbWF0aWNhbGx5OlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBjb2ZmZWVcbiAgICAgICAgICogYXRvbS5jb25maWcuc2V0KCdjb3JlLnRoZW1lcycsIFsnYXRvbS1saWdodC11aScsICdhdG9tLWxpZ2h0LXN5bnRheCddKVxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBhbHNvIHNldCBzY29wZWQgc2V0dGluZ3MuIEZvciBleGFtcGxlLCB5b3UgbWlnaHQgd2FudCBjaGFuZ2UgdGhlXG4gICAgICAgICAqIGBlZGl0b3IudGFiTGVuZ3RoYCBvbmx5IGZvciBydWJ5IGZpbGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBjb2ZmZWVcbiAgICAgICAgICogYXRvbS5jb25maWcuZ2V0KCdlZGl0b3IudGFiTGVuZ3RoJykgIyA9PiA0XG4gICAgICAgICAqIGF0b20uY29uZmlnLmdldCgnZWRpdG9yLnRhYkxlbmd0aCcsIHNjb3BlOiBbJ3NvdXJjZS5ydWJ5J10pICMgPT4gNFxuICAgICAgICAgKiBhdG9tLmNvbmZpZy5nZXQoJ2VkaXRvci50YWJMZW5ndGgnLCBzY29wZTogWydzb3VyY2UuanMnXSkgIyA9PiA0XG4gICAgICAgICAqXG4gICAgICAgICAqICMgU2V0IHJ1YnkgdG8gMlxuICAgICAgICAgKiBhdG9tLmNvbmZpZy5zZXQoJ2VkaXRvci50YWJMZW5ndGgnLCAyLCBzY29wZVNlbGVjdG9yOiAnLnNvdXJjZS5ydWJ5JykgIyA9PiB0cnVlXG4gICAgICAgICAqXG4gICAgICAgICAqICMgTm90aWNlIGl0J3Mgb25seSBzZXQgdG8gMiBpbiB0aGUgY2FzZSBvZiBydWJ5XG4gICAgICAgICAqIGF0b20uY29uZmlnLmdldCgnZWRpdG9yLnRhYkxlbmd0aCcpICMgPT4gNFxuICAgICAgICAgKiBhdG9tLmNvbmZpZy5nZXQoJ2VkaXRvci50YWJMZW5ndGgnLCBzY29wZTogWydzb3VyY2UucnVieSddKSAjID0+IDJcbiAgICAgICAgICogYXRvbS5jb25maWcuZ2V0KCdlZGl0b3IudGFiTGVuZ3RoJywgc2NvcGU6IFsnc291cmNlLmpzJ10pICMgPT4gNFxuICAgICAgICAgKiBgYGBcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBrZXkuXG4gICAgICAgICAqIEBwYXJhbSAgVGhlIHZhbHVlIG9mIHRoZSBzZXR0aW5nLiBQYXNzaW5nIGB1bmRlZmluZWRgIHdpbGwgcmV2ZXJ0IHRoZSBzZXR0aW5nIHRvIHRoZSBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn1cblxuICAgICAgICAqIGB0cnVlYCBpZiB0aGUgdmFsdWUgd2FzIHNldC5cbiAgICAgICAgKiBgZmFsc2VgIGlmIHRoZSB2YWx1ZSB3YXMgbm90IGFibGUgdG8gYmUgY29lcmNlZCB0byB0aGUgdHlwZSBzcGVjaWZpZWQgaW4gdGhlIHNldHRpbmcncyBzY2hlbWEuXG4gICAgICAgICAqL1xuICAgICAgICBzZXQoa2V5UGF0aDogc3RyaW5nLCB2YWx1ZTogYW55LCBvcHRpb25zPzogT2JqZWN0KTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlc3RvcmUgdGhlIHNldHRpbmcgYXQgYGtleVBhdGhgIHRvIGl0cyBkZWZhdWx0IHZhbHVlLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IG5hbWUgb2YgdGhlIGtleS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICB1bnNldChrZXlQYXRoOiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIHtBcnJheX0gb2YgYWxsIG9mIHRoZSBgc291cmNlYCB7U3RyaW5nfXMgd2l0aCB3aGljaFxuICAgICAgICAgKiBzZXR0aW5ncyBoYXZlIGJlZW4gYWRkZWQgdmlhIHs6OnNldH0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTb3VyY2VzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZSB0aGUgc2NoZW1hIGZvciBhIHNwZWNpZmljIGtleSBwYXRoLiBUaGUgc2NoZW1hIHdpbGwgdGVsbFxuICAgICAgICAgKiB5b3Ugd2hhdCB0eXBlIHRoZSBrZXlQYXRoIGV4cGVjdHMsIGFuZCBvdGhlciBtZXRhZGF0YSBhYm91dCB0aGUgY29uZmlnXG4gICAgICAgICAqIG9wdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBrZXkuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4ge09iamVjdH0gZWcuIGB7dHlwZTogJ2ludGVnZXInLCBkZWZhdWx0OiAyMywgbWluaW11bTogMX1gLlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBgbnVsbGAgd2hlbiB0aGUga2V5UGF0aCBoYXMgbm8gc2NoZW1hIHNwZWNpZmllZCwgYnV0IGlzIGFjY2Vzc2libGVcbiAgICAgICAgZnJvbSB0aGUgcm9vdCBzY2hlbWEuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTY2hlbWEoa2V5UGF0aDogc3RyaW5nKTogT2JqZWN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB7U3RyaW5nfSBwYXRoIHRvIHRoZSBjb25maWcgZmlsZSBiZWluZyB1c2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VXNlckNvbmZpZ1BhdGgoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN1cHByZXNzIGNhbGxzIHRvIGhhbmRsZXIgZnVuY3Rpb25zIHJlZ2lzdGVyZWQgd2l0aCB7OjpvbkRpZENoYW5nZX1cbiAgICAgICAgICogYW5kIHs6Om9ic2VydmV9IGZvciB0aGUgZHVyYXRpb24gb2YgYGNhbGxiYWNrYC4gQWZ0ZXIgYGNhbGxiYWNrYCBleGVjdXRlcyxcbiAgICAgICAgICogaGFuZGxlcnMgd2lsbCBiZSBjYWxsZWQgb25jZSBpZiB0aGUgdmFsdWUgZm9yIHRoZWlyIGtleS1wYXRoIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGV4ZWN1dGUgd2hpbGUgc3VwcHJlc3NpbmcgY2FsbHMgdG8gaGFuZGxlcnMuXG4gICAgICAgICAqL1xuICAgICAgICB0cmFuc2FjdChjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb3ZpZGVzIGEgcmVnaXN0cnkgZm9yIGNvbW1hbmRzIHRoYXQgeW91J2QgbGlrZSB0byBhcHBlYXIgaW4gdGhlXG4gICAgICogY29udGV4dCBtZW51LlxuICAgICAqXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIHRoZSBgYXRvbS5jb250ZXh0TWVudWBcbiAgICAgKiBnbG9iYWwuXG4gICAgICpcbiAgICAgKiAjIyBDb250ZXh0IE1lbnUgQ1NPTiBGb3JtYXRcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqICdhdG9tLXdvcmtzcGFjZSc6IFt7bGFiZWw6ICdIZWxwJywgY29tbWFuZDogJ2FwcGxpY2F0aW9uOm9wZW4tZG9jdW1lbnRhdGlvbid9XVxuICAgICAqICdhdG9tLXRleHQtZWRpdG9yJzogW3tcbiAgICAgKiAgIGxhYmVsOiAnSGlzdG9yeScsXG4gICAgICogICBzdWJtZW51OiBbXG4gICAgICogICAgIHtsYWJlbDogJ1VuZG8nLCBjb21tYW5kOidjb3JlOnVuZG8nfVxuICAgICAqICAgICB7bGFiZWw6ICdSZWRvJywgY29tbWFuZDonY29yZTpyZWRvJ31cbiAgICAgKiAgIF1cbiAgICAgKiB9XVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogSW4geW91ciBwYWNrYWdlJ3MgbWVudSBgLmNzb25gIGZpbGUgeW91IG5lZWQgdG8gc3BlY2lmeSBpdCB1bmRlciBhXG4gICAgICogYGNvbnRleHQtbWVudWAga2V5OlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogJ2NvbnRleHQtbWVudSc6XG4gICAgICogICAnYXRvbS13b3Jrc3BhY2UnOiBbe2xhYmVsOiAnSGVscCcsIGNvbW1hbmQ6ICdhcHBsaWNhdGlvbjpvcGVuLWRvY3VtZW50YXRpb24nfV1cbiAgICAgKiAgIC4uLlxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogVGhlIGZvcm1hdCBmb3IgdXNlIGluIHs6OmFkZH0gaXMgdGhlIHNhbWUgbWludXMgdGhlIGBjb250ZXh0LW1lbnVgIGtleS4gU2VlXG4gICAgICogezo6YWRkfSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9jb250ZXh0LW1lbnUtbWFuYWdlci5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9jb250ZXh0LW1lbnUtbWFuYWdlci5jb2ZmZWUjTDQyXG4gICAgICovXG4gICAgY2xhc3MgQ29udGV4dE1lbnVNYW5hZ2VyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBjb250ZXh0IG1lbnUgaXRlbXMgc2NvcGVkIGJ5IENTUyBzZWxlY3RvcnMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aG9zZSBrZXlzIGFyZSBDU1Mgc2VsZWN0b3JzIGFuZCB3aG9zZSB2YWx1ZXMgYXJlIHtBcnJheX1zIG9mIGl0ZW0ge09iamVjdH1zIGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlXG4gICAgICAgIGFkZGVkIG1lbnUgaXRlbXMuXG4gICAgICAgICAqL1xuICAgICAgICBhZGQoaXRlbXNCeVNlbGVjdG9yOiBPYmplY3QpOiBEaXNwb3NhYmxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBgQ3Vyc29yYCBjbGFzcyByZXByZXNlbnRzIHRoZSBsaXR0bGUgYmxpbmtpbmcgbGluZSBpZGVudGlmeWluZ1xuICAgICAqIHdoZXJlIHRleHQgY2FuIGJlIGluc2VydGVkLlxuICAgICAqXG4gICAgICogQ3Vyc29ycyBiZWxvbmcgdG8ge1RleHRFZGl0b3J9cyBhbmQgaGF2ZSBzb21lIG1ldGFkYXRhIGF0dGFjaGVkIGluIHRoZSBmb3JtXG4gICAgICogb2YgYSB7RGlzcGxheU1hcmtlcn0uXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvY3Vyc29yLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2N1cnNvci5jb2ZmZWUjTDE0XG4gICAgICovXG4gICAgY2xhc3MgQ3Vyc29yIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIHRoZSBjdXJzb3IgaGFzIGJlZW4gbW92ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZVBvc2l0aW9uKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiB0aGUgY3Vyc29yIGlzIGRlc3Ryb3llZFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREZXN0cm95KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiB0aGUgY3Vyc29yJ3MgdmlzaWJpbGl0eSBoYXMgY2hhbmdlZFxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VWaXNpYmlsaXR5KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyBhIGN1cnNvciB0byBhIGdpdmVuIHNjcmVlbiBwb3NpdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHthbnlbXX0ge0FycmF5fSBvZiB0d28gbnVtYmVyczogdGhlIHNjcmVlbiByb3csIGFuZCB0aGUgc2NyZWVuIGNvbHVtbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2NyZWVuUG9zaXRpb24oc2NyZWVuUG9zaXRpb246IGFueVtdLCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyB0aGUgc2NyZWVuIHBvc2l0aW9uIG9mIHRoZSBjdXJzb3IgYXMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2NyZWVuUG9zaXRpb24oKTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyBhIGN1cnNvciB0byBhIGdpdmVuIGJ1ZmZlciBwb3NpdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHthbnlbXX0ge0FycmF5fSBvZiB0d28gbnVtYmVyczogdGhlIGJ1ZmZlciByb3csIGFuZCB0aGUgYnVmZmVyIGNvbHVtbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0QnVmZmVyUG9zaXRpb24oYnVmZmVyUG9zaXRpb246IGFueVtdLCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSBjdXJyZW50IGJ1ZmZlciBwb3NpdGlvbiBhcyBhbiBBcnJheS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJ1ZmZlclBvc2l0aW9uKCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSBjdXJzb3IncyBjdXJyZW50IHNjcmVlbiByb3cuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTY3JlZW5Sb3coKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgdGhlIGN1cnNvcidzIGN1cnJlbnQgc2NyZWVuIGNvbHVtbi5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNjcmVlbkNvbHVtbigpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGN1cnNvcidzIGN1cnJlbnQgYnVmZmVyIHJvdy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJ1ZmZlclJvdygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgdGhlIGN1cnNvcidzIGN1cnJlbnQgYnVmZmVyIGNvbHVtbi5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJ1ZmZlckNvbHVtbigpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0aGUgY3Vyc29yJ3MgY3VycmVudCBidWZmZXIgcm93IG9mIHRleHQgZXhjbHVkaW5nIGl0cyBsaW5lXG4gICAgICAgIGVuZGluZy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEN1cnJlbnRCdWZmZXJMaW5lKCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnNvciBpcyBhdCB0aGUgc3RhcnQgb2YgYSBsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNBdEJlZ2lubmluZ09mTGluZSgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB3aGV0aGVyIHRoZSBjdXJzb3IgaXMgb24gdGhlIGxpbmUgcmV0dXJuIGNoYXJhY3Rlci5cbiAgICAgICAgICovXG4gICAgICAgIGlzQXRFbmRPZkxpbmUoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge0Rpc3BsYXlNYXJrZXJ9IFJldHVybnMgdGhlIHVuZGVybHlpbmcge0Rpc3BsYXlNYXJrZXJ9IGZvciB0aGUgY3Vyc29yLlxuICAgICAgICBVc2VmdWwgd2l0aCBvdmVybGF5IHtEZWNvcmF0aW9ufXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXJrZXIoKTogRGlzcGxheU1hcmtlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElkZW50aWZpZXMgaWYgdGhlIGN1cnNvciBpcyBzdXJyb3VuZGVkIGJ5IHdoaXRlc3BhY2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIFwiU3Vycm91bmRlZFwiIGhlcmUgbWVhbnMgdGhhdCB0aGUgY2hhcmFjdGVyIGRpcmVjdGx5IGJlZm9yZSBhbmQgYWZ0ZXIgdGhlXG4gICAgICAgICAqIGN1cnNvciBhcmUgYm90aCB3aGl0ZXNwYWNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIGlzU3Vycm91bmRlZEJ5V2hpdGVzcGFjZSgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBmYWxzZSBpZiB0aGUgY2hhcmFjdGVyIGJlZm9yZSBvciBhZnRlciB0aGUgY3Vyc29yIGlzXG4gICAgICAgICAqIHdoaXRlc3BhY2UuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHdoZXRoZXIgdGhlIGN1cnNvciBpcyBjdXJyZW50bHkgYmV0d2VlbiBhIHdvcmQgYW5kIG5vbi13b3JkXG4gICAgICAgIGNoYXJhY3Rlci4gVGhlIG5vbi13b3JkIGNoYXJhY3RlcnMgYXJlIGRlZmluZWQgYnkgdGhlXG4gICAgICAgIGBlZGl0b3Iubm9uV29yZENoYXJhY3RlcnNgIGNvbmZpZyB2YWx1ZS5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYSBCb29sZWFuLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNCZXR3ZWVuV29yZEFuZE5vbldvcmQoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHdoZXRoZXIgdGhpcyBjdXJzb3IgaXMgYmV0d2VlbiBhIHdvcmQncyBzdGFydCBhbmQgZW5kLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgaXNJbnNpZGVXb3JkKG9wdGlvbnM/OiBPYmplY3QpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgdGhlIGluZGVudGF0aW9uIGxldmVsIG9mIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRJbmRlbnRMZXZlbCgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIHNjb3BlIGRlc2NyaXB0b3IgZm9yIHRoZSBjdXJzb3IncyBjdXJyZW50IHBvc2l0aW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7U2NvcGVEZXNjcmlwdG9yfSBSZXR1cm5zIGEge1Njb3BlRGVzY3JpcHRvcn1cbiAgICAgICAgICovXG4gICAgICAgIGdldFNjb3BlRGVzY3JpcHRvcigpOiBTY29wZURlc2NyaXB0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0cnVlIGlmIHRoaXMgY3Vyc29yIGhhcyBubyBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXJzIGJlZm9yZVxuICAgICAgICBpdHMgY3VycmVudCBwb3NpdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGhhc1ByZWNlZGluZ0NoYXJhY3RlcnNPbkxpbmUoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogSWRlbnRpZmllcyBpZiB0aGlzIGN1cnNvciBpcyB0aGUgbGFzdCBpbiB0aGUge1RleHRFZGl0b3J9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBcIkxhc3RcIiBpcyBkZWZpbmVkIGFzIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkIGN1cnNvci5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0xhc3RDdXJzb3IoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdXAgb25lIHNjcmVlbiByb3cuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBudW1iZXIgb2Ygcm93cyB0byBtb3ZlIChkZWZhdWx0OiAxKVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVXAocm93Q291bnQ/OiBudW1iZXIsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciBkb3duIG9uZSBzY3JlZW4gcm93LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbnVtYmVyIG9mIHJvd3MgdG8gbW92ZSAoZGVmYXVsdDogMSlcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZURvd24ocm93Q291bnQ/OiBudW1iZXIsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciBsZWZ0IG9uZSBzY3JlZW4gY29sdW1uLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbnVtYmVyIG9mIGNvbHVtbnMgdG8gbW92ZSAoZGVmYXVsdDogMSlcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZUxlZnQoY29sdW1uQ291bnQ/OiBudW1iZXIsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciByaWdodCBvbmUgc2NyZWVuIGNvbHVtbi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IG51bWJlciBvZiBjb2x1bW5zIHRvIG1vdmUgKGRlZmF1bHQ6IDEpXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIG1vdmVSaWdodChjb2x1bW5Db3VudD86IG51bWJlciwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSB0b3Agb2YgdGhlIGJ1ZmZlci5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb1RvcCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYm90dG9tIG9mIHRoZSBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9Cb3R0b20oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0JlZ2lubmluZ09mU2NyZWVuTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXIgbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0JlZ2lubmluZ09mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBmaXJzdCBjaGFyYWN0ZXIgaW4gdGhlXG4gICAgICAgICAqIGxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9GaXJzdENoYXJhY3Rlck9mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgZW5kIG9mIHRoZSBsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvRW5kT2ZTY3JlZW5MaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBlbmQgb2YgdGhlIGJ1ZmZlciBsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvRW5kT2ZMaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIHdvcmQuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9CZWdpbm5pbmdPZldvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGVuZCBvZiB0aGUgd29yZC5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0VuZE9mV29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXh0IHdvcmQuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9CZWdpbm5pbmdPZk5leHRXb3JkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBwcmV2aW91cyB3b3JkIGJvdW5kYXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvUHJldmlvdXNXb3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIG5leHQgd29yZCBib3VuZGFyeS5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb05leHRXb3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIHByZXZpb3VzIHN1YndvcmQgYm91bmRhcnkuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9QcmV2aW91c1N1YndvcmRCb3VuZGFyeSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgbmV4dCBzdWJ3b3JkIGJvdW5kYXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvTmV4dFN1YndvcmRCb3VuZGFyeSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBidWZmZXIgbGluZSwgc2tpcHBpbmcgYWxsXG4gICAgICAgICAqIHdoaXRlc3BhY2UuXG4gICAgICAgICAqL1xuICAgICAgICBza2lwTGVhZGluZ1doaXRlc3BhY2UoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBwYXJhZ3JhcGhcbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0JlZ2lubmluZ09mTmV4dFBhcmFncmFwaCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcmV2aW91cyBwYXJhZ3JhcGhcbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0JlZ2lubmluZ09mUHJldmlvdXNQYXJhZ3JhcGgoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYnVmZmVyIHBvc2l0aW9uIG9mIHByZXZpb3VzIHdvcmQgYm91bmRhcnkuIEl0IG1pZ2h0IGJlIG9uXG4gICAgICAgIHRoZSBjdXJyZW50IHdvcmQsIG9yIHRoZSBwcmV2aW91cyB3b3JkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UHJldmlvdXNXb3JkQm91bmRhcnlCdWZmZXJQb3NpdGlvbihvcHRpb25zPzogT2JqZWN0KTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBidWZmZXIgcG9zaXRpb24gb2YgdGhlIG5leHQgd29yZCBib3VuZGFyeS4gSXQgbWlnaHQgYmUgb25cbiAgICAgICAgdGhlIGN1cnJlbnQgd29yZCwgb3IgdGhlIHByZXZpb3VzIHdvcmQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXROZXh0V29yZEJvdW5kYXJ5QnVmZmVyUG9zaXRpb24ob3B0aW9ucz86IE9iamVjdCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgYnVmZmVyIHBvc2l0aW9uIG9mIHdoZXJlIHRoZSBjdXJyZW50IHdvcmQgc3RhcnRzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCZWdpbm5pbmdPZkN1cnJlbnRXb3JkQnVmZmVyUG9zaXRpb24ob3B0aW9ucz86IE9iamVjdCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBidWZmZXIgcG9zaXRpb24gb2Ygd2hlcmUgdGhlIGN1cnJlbnQgd29yZCBlbmRzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRFbmRPZkN1cnJlbnRXb3JkQnVmZmVyUG9zaXRpb24ob3B0aW9ucz86IE9iamVjdCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBidWZmZXIgcG9zaXRpb24gb2Ygd2hlcmUgdGhlIG5leHQgd29yZCBzdGFydHMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgYSB7UmFuZ2V9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRCZWdpbm5pbmdPZk5leHRXb3JkQnVmZmVyUG9zaXRpb24ob3B0aW9ucz86IE9iamVjdCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSBidWZmZXIgUmFuZ2Ugb2NjdXBpZWQgYnkgdGhlIHdvcmQgbG9jYXRlZCB1bmRlciB0aGUgY3Vyc29yLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q3VycmVudFdvcmRCdWZmZXJSYW5nZShvcHRpb25zPzogT2JqZWN0KTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSBidWZmZXIgUmFuZ2UgZm9yIHRoZSBjdXJyZW50IGxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJyZW50TGluZUJ1ZmZlclJhbmdlKG9wdGlvbnM/OiBPYmplY3QpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIHJhbmdlIGZvciB0aGUgY3VycmVudCBwYXJhZ3JhcGguXG4gICAgICAgICAqXG4gICAgICAgICAqIEEgcGFyYWdyYXBoIGlzIGRlZmluZWQgYXMgYSBibG9jayBvZiB0ZXh0IHN1cnJvdW5kZWQgYnkgZW1wdHkgbGluZXMgb3IgY29tbWVudHMuXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJyZW50UGFyYWdyYXBoQnVmZmVyUmFuZ2UoKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0aGUgY2hhcmFjdGVycyBwcmVjZWRpbmcgdGhlIGN1cnNvciBpbiB0aGUgY3VycmVudCB3b3JkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q3VycmVudFdvcmRQcmVmaXgoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0cyB3aGV0aGVyIHRoZSBjdXJzb3IgaXMgdmlzaWJsZS5cbiAgICAgICAgICovXG4gICAgICAgIHNldFZpc2libGUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSBjdXJzb3IuXG4gICAgICAgICAqL1xuICAgICAgICBpc1Zpc2libGUoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGFyZSB0aGlzIGN1cnNvcidzIGJ1ZmZlciBwb3NpdGlvbiB0byBhbm90aGVyIGN1cnNvcidzIGJ1ZmZlciBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlIHtQb2ludDo6Y29tcGFyZX0gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICogQHBhcmFtIHtDdXJzb3J9IHtDdXJzb3J9IHRvIGNvbXBhcmUgYWdhaW5zdFxuICAgICAgICAgKi9cbiAgICAgICAgY29tcGFyZShvdGhlckN1cnNvcjogQ3Vyc29yKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXZlbnRzIHRoaXMgY3Vyc29yIGZyb20gY2F1c2luZyBzY3JvbGxpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhckF1dG9zY3JvbGwoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc2VsZWN0cyB0aGUgY3VycmVudCBzZWxlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhclNlbGVjdGlvbigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBSZWdFeHAgdXNlZCBieSB0aGUgY3Vyc29yIHRvIGRldGVybWluZSB3aGF0IGEgXCJ3b3JkXCIgaXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge1JlZ0V4cH0gUmV0dXJucyBhIHtSZWdFeHB9LlxuICAgICAgICAgKi9cbiAgICAgICAgd29yZFJlZ0V4cChvcHRpb25zPzogT2JqZWN0KTogUmVnRXhwO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBSZWdFeHAgdXNlZCBieSB0aGUgY3Vyc29yIHRvIGRldGVybWluZSB3aGF0IGEgXCJzdWJ3b3JkXCIgaXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge1JlZ0V4cH0gUmV0dXJucyBhIHtSZWdFeHB9LlxuICAgICAgICAgKi9cbiAgICAgICAgc3Vid29yZFJlZ0V4cChvcHRpb25zPzogT2JqZWN0KTogUmVnRXhwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBkZWNvcmF0aW9uIHRoYXQgZm9sbG93cyBhIHtEaXNwbGF5TWFya2VyfS4gQSBkZWNvcmF0aW9uIGlzXG4gICAgICogYmFzaWNhbGx5IGEgdmlzdWFsIHJlcHJlc2VudGF0aW9uIG9mIGEgbWFya2VyLiBJdCBhbGxvd3MgeW91IHRvIGFkZCBDU1NcbiAgICAgKiBjbGFzc2VzIHRvIGxpbmUgbnVtYmVycyBpbiB0aGUgZ3V0dGVyLCBsaW5lcywgYW5kIGFkZCBzZWxlY3Rpb24tbGluZSByZWdpb25zXG4gICAgICogYXJvdW5kIG1hcmtlZCByYW5nZXMgb2YgdGV4dC5cbiAgICAgKlxuICAgICAqIHtEZWNvcmF0aW9ufSBvYmplY3RzIGFyZSBub3QgbWVhbnQgdG8gYmUgY3JlYXRlZCBkaXJlY3RseSwgYnV0IGNyZWF0ZWQgd2l0aFxuICAgICAqIHtUZXh0RWRpdG9yOjpkZWNvcmF0ZU1hcmtlcn0uIGVnLlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogcmFuZ2UgPSBlZGl0b3IuZ2V0U2VsZWN0ZWRCdWZmZXJSYW5nZSgpICMgYW55IHJhbmdlIHlvdSBsaWtlXG4gICAgICogbWFya2VyID0gZWRpdG9yLm1hcmtCdWZmZXJSYW5nZShyYW5nZSlcbiAgICAgKiBkZWNvcmF0aW9uID0gZWRpdG9yLmRlY29yYXRlTWFya2VyKG1hcmtlciwge3R5cGU6ICdsaW5lJywgY2xhc3M6ICdteS1saW5lLWNsYXNzJ30pXG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBCZXN0IHByYWN0aWNlIGZvciBkZXN0cm95aW5nIHRoZSBkZWNvcmF0aW9uIGlzIGJ5IGRlc3Ryb3lpbmcgdGhlIHtEaXNwbGF5TWFya2VyfS5cbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIG1hcmtlci5kZXN0cm95KClcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFlvdSBzaG91bGQgb25seSB1c2Uge0RlY29yYXRpb246OmRlc3Ryb3l9IHdoZW4geW91IHN0aWxsIG5lZWQgb3IgZG8gbm90IG93blxuICAgICAqIHRoZSBtYXJrZXIuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvZGVjb3JhdGlvbi5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9kZWNvcmF0aW9uLmNvZmZlZSNMMzdcbiAgICAgKi9cbiAgICBjbGFzcyBEZWNvcmF0aW9uIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3kgdGhpcyBtYXJrZXIgZGVjb3JhdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogWW91IGNhbiBhbHNvIGRlc3Ryb3kgdGhlIG1hcmtlciBpZiB5b3Ugb3duIGl0LCB3aGljaCB3aWxsIGRlc3Ryb3kgdGhpc1xuICAgICAgICAgKiBkZWNvcmF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogV2hlbiB0aGUge0RlY29yYXRpb259IGlzIHVwZGF0ZWQgdmlhIHtEZWNvcmF0aW9uOjp1cGRhdGV9LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VQcm9wZXJ0aWVzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIHtEZWNvcmF0aW9ufSBpcyBkZXN0cm95ZWRcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGVzdHJveShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQW4gaWQgdW5pcXVlIGFjcm9zcyBhbGwge0RlY29yYXRpb259IG9iamVjdHNcbiAgICAgICAgICovXG4gICAgICAgIGdldElkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7RGVjb3JhdGlvbn0gUmV0dXJucyB0aGUgbWFya2VyIGFzc29jaWF0ZWQgd2l0aCB0aGlzIHtEZWNvcmF0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWFya2VyKCk6IERlY29yYXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7RGVjb3JhdGlvbn0gUmV0dXJucyB0aGUge0RlY29yYXRpb259J3MgcHJvcGVydGllcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFByb3BlcnRpZXMoKTogRGVjb3JhdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVwZGF0ZSB0aGUgbWFya2VyIHdpdGggbmV3IFByb3BlcnRpZXMuIEFsbG93cyB5b3UgdG8gY2hhbmdlIHRoZSBkZWNvcmF0aW9uJ3MgY2xhc3MuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSBlZy4gYHt0eXBlOiAnbGluZS1udW1iZXInLCBjbGFzczogJ215LW5ldy1jbGFzcyd9YFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0UHJvcGVydGllcyhuZXdQcm9wZXJ0aWVzOiBPYmplY3QpOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1hbmFnZXMgdGhlIGRlc2VyaWFsaXplcnMgdXNlZCBmb3Igc2VyaWFsaXplZCBzdGF0ZVxuICAgICAqXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIHRoZSBgYXRvbS5kZXNlcmlhbGl6ZXJzYFxuICAgICAqIGdsb2JhbC5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9kZXNlcmlhbGl6ZXItbWFuYWdlci5qc1xuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2Rlc2VyaWFsaXplci1tYW5hZ2VyLmpzI0wyNFxuICAgICAqL1xuICAgIGNsYXNzIERlc2VyaWFsaXplck1hbmFnZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgdGhlIGdpdmVuIGNsYXNzKGVzKSBhcyBkZXNlcmlhbGl6ZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge0F0b219IE9uZSBvciBtb3JlIGRlc2VyaWFsaXplcnMgdG8gcmVnaXN0ZXIuIEEgZGVzZXJpYWxpemVyIGNhbiBiZSBhbnkgb2JqZWN0IHdpdGggYSBgLm5hbWVgIHByb3BlcnR5IGFuZCBhIGAuZGVzZXJpYWxpemUoKWAgbWV0aG9kLiBBIGNvbW1vbiBhcHByb2FjaCBpcyB0byByZWdpc3RlciBhICpjb25zdHJ1Y3RvciogYXMgdGhlIGRlc2VyaWFsaXplciBmb3IgaXRzIGluc3RhbmNlcyBieSBhZGRpbmcgYSBgLmRlc2VyaWFsaXplKClgIGNsYXNzIG1ldGhvZC4gV2hlbiB5b3VyIG1ldGhvZCBpcyBjYWxsZWQsIGl0IHdpbGwgYmUgcGFzc2VkIHNlcmlhbGl6ZWQgc3RhdGUgYXMgdGhlIGZpcnN0IGFyZ3VtZW50IGFuZCB0aGUge0F0b219IGVudmlyb25tZW50IG9iamVjdCBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50LCB3aGljaCBpcyB1c2VmdWwgaWYgeW91IHdpc2ggdG8gYXZvaWQgcmVmZXJlbmNpbmcgdGhlIGBhdG9tYCBnbG9iYWwuXG4gICAgICAgICAqL1xuICAgICAgICBhZGQoLi4uZGVzZXJpYWxpemVyczoge25hbWU6IHN0cmluZywgZGVzZXJpYWxpemUoc3RhdGU6IE9iamVjdCk6IGFueX1bXSk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXNlcmlhbGl6ZSB0aGUgc3RhdGUgYW5kIHBhcmFtcy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IFRoZSBzdGF0ZSB7T2JqZWN0fSB0byBkZXNlcmlhbGl6ZS5cbiAgICAgICAgICovXG4gICAgICAgIGRlc2VyaWFsaXplKHN0YXRlOiBPYmplY3QpOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBkaXJlY3Rvcnkgb24gZGlzayB0aGF0IGNhbiBiZSB3YXRjaGVkIGZvciBjaGFuZ2VzLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2RpcmVjdG9yeS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL25vZGUtcGF0aHdhdGNoZXIvYmxvYi92Ni44LjAvc3JjL2RpcmVjdG9yeS5jb2ZmZWUjTDEzXG4gICAgICovXG4gICAgY2xhc3MgRGlyZWN0b3J5IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbmZpZ3VyZXMgYSBuZXcgRGlyZWN0b3J5IGluc3RhbmNlLCBubyBmaWxlcyBhcmUgYWNjZXNzZWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHBhdGggdG8gdGhlIGRpcmVjdG9yeVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IEEge0Jvb2xlYW59IGluZGljYXRpbmcgaWYgdGhlIHBhdGggaXMgYSBzeW1saW5rLiAoZGVmYXVsdDogZmFsc2UpXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcihkaXJlY3RvcnlQYXRoOiBzdHJpbmcsIHN5bWxpbms/OiBib29sZWFuKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgdGhlIGRpcmVjdG9yeSBvbiBkaXNrIHRoYXQgY29ycmVzcG9uZHMgdG8gYDo6Z2V0UGF0aCgpYCBpZlxuICAgICAgICAgKiBubyBzdWNoIGRpcmVjdG9yeSBhbHJlYWR5IGV4aXN0cy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IHRoYXQgZGVmYXVsdHMgdG8gYDA3NzdgLlxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEge1Byb21pc2V9IHRoYXQgcmVzb2x2ZXMgb25jZSB0aGUgZGlyZWN0b3J5IGlzIGNyZWF0ZWQgb24gZGlzay4gSXRcbiAgICAgICAgcmVzb2x2ZXMgdG8gYSBib29sZWFuIHZhbHVlIHRoYXQgaXMgdHJ1ZSBpZiB0aGUgZGlyZWN0b3J5IHdhcyBjcmVhdGVkIG9yXG4gICAgICAgIGZhbHNlIGlmIGl0IGFscmVhZHkgZXhpc3RlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZShtb2RlPzogbnVtYmVyKTogUHJvbWlzZTxhbnk+O1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBkaXJlY3RvcnkncyBjb250ZW50cyBjaGFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGRpcmVjdG9yeSdzIGNvbnRlbnRzIGNoYW5nZS5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0sIGFsd2F5cyBmYWxzZS5cbiAgICAgICAgICovXG4gICAgICAgIGlzRmlsZSgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0sIGFsd2F5cyB0cnVlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEaXJlY3RvcnkoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyBpcyBhIHN5bWJvbGljIGxpbmtcbiAgICAgICAgICovXG4gICAgICAgIGlzU3ltYm9saWNMaW5rKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHtCb29sZWFufSwgdHJ1ZSBpZiB0aGVcbiAgICAgICAgZGlyZWN0b3J5IGV4aXN0cywgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhpc3RzKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSwgdHJ1ZSBpZiB0aGUgZGlyZWN0b3J5IGV4aXN0cywgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZXhpc3RzU3luYygpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIGEge0Jvb2xlYW59LCB0cnVlIGlmIHRoaXMge0RpcmVjdG9yeX0gaXMgdGhlIHJvb3QgZGlyZWN0b3J5XG4gICAgICAgICAqIG9mIHRoZSBmaWxlc3lzdGVtLCBvciBmYWxzZSBpZiBpdCBpc24ndC5cbiAgICAgICAgICovXG4gICAgICAgIGlzUm9vdCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtYXkgaW5jbHVkZSB1bmZvbGxvd2VkIHN5bWxpbmtzIG9yIHJlbGF0aXZlIGRpcmVjdG9yeSBlbnRyaWVzLiBPciBpdFxuICAgICAgICAgKiBtYXkgYmUgZnVsbHkgcmVzb2x2ZWQsIGl0IGRlcGVuZHMgb24gd2hhdCB5b3UgZ2l2ZSBpdC5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGlyZWN0b3J5J3Mge1N0cmluZ30gcGF0aC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFBhdGgoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICpcbiAgICAgICAgICpcbiAgICAgICAgICogQWxsIHJlbGF0aXZlIGRpcmVjdG9yeSBlbnRyaWVzIGFyZSByZW1vdmVkIGFuZCBzeW1saW5rcyBhcmUgcmVzb2x2ZWQgdG9cbiAgICAgICAgICogdGhlaXIgZmluYWwgZGVzdGluYXRpb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhpcyBkaXJlY3RvcnkncyBjb21wbGV0ZWx5IHJlc29sdmVkIHtTdHJpbmd9IHBhdGguXG4gICAgICAgICAqL1xuICAgICAgICBnZXRSZWFsUGF0aFN5bmMoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUge1N0cmluZ30gYmFzZW5hbWUgb2YgdGhlIGRpcmVjdG9yeS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJhc2VOYW1lKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHJlbGF0aXZlIHtTdHJpbmd9IHBhdGggdG8gdGhlIGdpdmVuIHBhdGggZnJvbSB0aGlzXG4gICAgICAgIGRpcmVjdG9yeS5cbiAgICAgICAgICovXG4gICAgICAgIHJlbGF0aXZpemUoYW55KTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhdmVyc2UgdG8gdGhlIHBhcmVudCBkaXJlY3RvcnkuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXJlY3Rvcnl9IFJldHVybnMgYSB7RGlyZWN0b3J5fS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFBhcmVudCgpOiBEaXJlY3Rvcnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmF2ZXJzZSB3aXRoaW4gdGhpcyBEaXJlY3RvcnkgdG8gYSBjaGlsZCBGaWxlLiBUaGlzIG1ldGhvZCBkb2Vzbid0XG4gICAgICAgICAqIGFjdHVhbGx5IGNoZWNrIHRvIHNlZSBpZiB0aGUgRmlsZSBleGlzdHMsIGl0IGp1c3QgY3JlYXRlcyB0aGUgRmlsZSBvYmplY3QuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gbmFtZSBvZiBhIEZpbGUgd2l0aGluIHRoaXMgRGlyZWN0b3J5LlxuICAgICAgICAgKiBAcmV0dXJucyB7RmlsZX0gUmV0dXJucyBhIHtGaWxlfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZpbGUoZmlsZW5hbWU6IHN0cmluZyk6IEZpbGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUcmF2ZXJzZSB3aXRoaW4gdGhpcyBhIERpcmVjdG9yeSB0byBhIGNoaWxkIERpcmVjdG9yeS4gVGhpcyBtZXRob2RcbiAgICAgICAgICogZG9lc24ndCBhY3R1YWxseSBjaGVjayB0byBzZWUgaWYgdGhlIERpcmVjdG9yeSBleGlzdHMsIGl0IGp1c3QgY3JlYXRlcyB0aGVcbiAgICAgICAgICogRGlyZWN0b3J5IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBjaGlsZCBEaXJlY3RvcnkuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXJlY3Rvcnl9IFJldHVybnMgYSB7RGlyZWN0b3J5fS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFN1YmRpcmVjdG9yeShkaXJuYW1lOiBzdHJpbmcpOiBEaXJlY3Rvcnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkcyBmaWxlIGVudHJpZXMgaW4gdGhpcyBkaXJlY3RvcnkgZnJvbSBkaXNrIHN5bmNocm9ub3VzbHkuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtGaWxlfSBhbmQge0RpcmVjdG9yeX0gb2JqZWN0cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEVudHJpZXNTeW5jKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZHMgZmlsZSBlbnRyaWVzIGluIHRoaXMgZGlyZWN0b3J5IGZyb20gZGlzayBhc3luY2hyb25vdXNseS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRvIGNhbGwgd2l0aCB0aGUgZm9sbG93aW5nIGFyZ3VtZW50czpcbiAgICAgICAgICovXG4gICAgICAgIGdldEVudHJpZXMoY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZXMgaWYgdGhlIGdpdmVuIHBhdGggKHJlYWwgb3Igc3ltYm9saWMpIGlzIGluc2lkZSB0aGlzXG4gICAgICAgICAqIGRpcmVjdG9yeS4gVGhpcyBtZXRob2QgZG9lcyBub3QgYWN0dWFsbHkgY2hlY2sgaWYgdGhlIHBhdGggZXhpc3RzLCBpdCBqdXN0XG4gICAgICAgICAqIGNoZWNrcyBpZiB0aGUgcGF0aCBpcyB1bmRlciB0aGlzIGRpcmVjdG9yeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBwYXRoIHRvIGNoZWNrLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSB3aGV0aGVyIHRoZSBnaXZlbiBwYXRoIGlzIGluc2lkZSB0aGlzIGRpcmVjdG9yeS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5zKHBhdGhUb0NoZWNrOiBzdHJpbmcpOiBib29sZWFuO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBidWZmZXIgYW5ub3RhdGlvbiB0aGF0IHJlbWFpbnMgbG9naWNhbGx5IHN0YXRpb25hcnlcbiAgICAgKiBldmVuIGFzIHRoZSBidWZmZXIgY2hhbmdlcy4gVGhpcyBpcyB1c2VkIHRvIHJlcHJlc2VudCBjdXJzb3JzLCBmb2xkcywgc25pcHBldFxuICAgICAqIHRhcmdldHMsIG1pc3NwZWxsZWQgd29yZHMsIGFuZCBhbnl0aGluZyBlbHNlIHRoYXQgbmVlZHMgdG8gdHJhY2sgYSBsb2dpY2FsXG4gICAgICogbG9jYXRpb24gaW4gdGhlIGJ1ZmZlciBvdmVyIHRpbWUuXG4gICAgICpcbiAgICAgKiAjIyMgRGlzcGxheU1hcmtlciBDcmVhdGlvblxuICAgICAqXG4gICAgICogVXNlIHtEaXNwbGF5TWFya2VyTGF5ZXI6Om1hcmtCdWZmZXJSYW5nZX0gb3Ige0Rpc3BsYXlNYXJrZXJMYXllcjo6bWFya1NjcmVlblJhbmdlfVxuICAgICAqIHJhdGhlciB0aGFuIGNyZWF0aW5nIE1hcmtlcnMgZGlyZWN0bHkuXG4gICAgICpcbiAgICAgKiAjIyMgSGVhZCBhbmQgVGFpbFxuICAgICAqXG4gICAgICogTWFya2VycyBhbHdheXMgaGF2ZSBhICpoZWFkKiBhbmQgc29tZXRpbWVzIGhhdmUgYSAqdGFpbCouIElmIHlvdSB0aGluayBvZiBhXG4gICAgICogbWFya2VyIGFzIGFuIGVkaXRvciBzZWxlY3Rpb24sIHRoZSB0YWlsIGlzIHRoZSBwYXJ0IHRoYXQncyBzdGF0aW9uYXJ5IGFuZCB0aGVcbiAgICAgKiBoZWFkIGlzIHRoZSBwYXJ0IHRoYXQgbW92ZXMgd2hlbiB0aGUgbW91c2UgaXMgbW92ZWQuIEEgbWFya2VyIHdpdGhvdXQgYSB0YWlsXG4gICAgICogYWx3YXlzIHJlcG9ydHMgYW4gZW1wdHkgcmFuZ2UgYXQgdGhlIGhlYWQgcG9zaXRpb24uIEEgbWFya2VyIHdpdGggYSBoZWFkIHBvc2l0aW9uXG4gICAgICogZ3JlYXRlciB0aGFuIHRoZSB0YWlsIGlzIGluIGEgXCJub3JtYWxcIiBvcmllbnRhdGlvbi4gSWYgdGhlIGhlYWQgcHJlY2VkZXMgdGhlXG4gICAgICogdGFpbCB0aGUgbWFya2VyIGlzIGluIGEgXCJyZXZlcnNlZFwiIG9yaWVudGF0aW9uLlxuICAgICAqXG4gICAgICogIyMjIFZhbGlkaXR5XG4gICAgICpcbiAgICAgKiBNYXJrZXJzIGFyZSBjb25zaWRlcmVkICp2YWxpZCogd2hlbiB0aGV5IGFyZSBmaXJzdCBjcmVhdGVkLiBEZXBlbmRpbmcgb24gdGhlXG4gICAgICogaW52YWxpZGF0aW9uIHN0cmF0ZWd5IHlvdSBjaG9vc2UsIGNlcnRhaW4gY2hhbmdlcyB0byB0aGUgYnVmZmVyIGNhbiBjYXVzZSBhXG4gICAgICogbWFya2VyIHRvIGJlY29tZSBpbnZhbGlkLCBmb3IgZXhhbXBsZSBpZiB0aGUgdGV4dCBzdXJyb3VuZGluZyB0aGUgbWFya2VyIGlzXG4gICAgICogZGVsZXRlZC4gVGhlIHN0cmF0ZWdpZXMsIGluIG9yZGVyIG9mIGRlc2NlbmRpbmcgZnJhZ2lsaXR5OlxuICAgICAqXG4gICAgICogKiBfX25ldmVyX186IFRoZSBtYXJrZXIgaXMgbmV2ZXIgbWFya2VkIGFzIGludmFsaWQuIFRoaXMgaXMgYSBnb29kIGNob2ljZSBmb3JcbiAgICAgKiAgIG1hcmtlcnMgcmVwcmVzZW50aW5nIHNlbGVjdGlvbnMgaW4gYW4gZWRpdG9yLlxuICAgICAqICogX19zdXJyb3VuZF9fOiBUaGUgbWFya2VyIGlzIGludmFsaWRhdGVkIGJ5IGNoYW5nZXMgdGhhdCBjb21wbGV0ZWx5IHN1cnJvdW5kIGl0LlxuICAgICAqICogX19vdmVybGFwX186IFRoZSBtYXJrZXIgaXMgaW52YWxpZGF0ZWQgYnkgY2hhbmdlcyB0aGF0IHN1cnJvdW5kIHRoZVxuICAgICAqICAgc3RhcnQgb3IgZW5kIG9mIHRoZSBtYXJrZXIuIFRoaXMgaXMgdGhlIGRlZmF1bHQuXG4gICAgICogKiBfX2luc2lkZV9fOiBUaGUgbWFya2VyIGlzIGludmFsaWRhdGVkIGJ5IGNoYW5nZXMgdGhhdCBleHRlbmQgaW50byB0aGVcbiAgICAgKiAgIGluc2lkZSBvZiB0aGUgbWFya2VyLiBDaGFuZ2VzIHRoYXQgZW5kIGF0IHRoZSBtYXJrZXIncyBzdGFydCBvclxuICAgICAqICAgc3RhcnQgYXQgdGhlIG1hcmtlcidzIGVuZCBkbyBub3QgaW52YWxpZGF0ZSB0aGUgbWFya2VyLlxuICAgICAqICogX190b3VjaF9fOiBUaGUgbWFya2VyIGlzIGludmFsaWRhdGVkIGJ5IGEgY2hhbmdlIHRoYXQgdG91Y2hlcyB0aGUgbWFya2VkXG4gICAgICogICByZWdpb24gaW4gYW55IHdheSwgaW5jbHVkaW5nIGNoYW5nZXMgdGhhdCBlbmQgYXQgdGhlIG1hcmtlcidzXG4gICAgICogICBzdGFydCBvciBzdGFydCBhdCB0aGUgbWFya2VyJ3MgZW5kLiBUaGlzIGlzIHRoZSBtb3N0IGZyYWdpbGUgc3RyYXRlZ3kuXG4gICAgICpcbiAgICAgKiBTZWUge1RleHRCdWZmZXI6Om1hcmtSYW5nZX0gZm9yIHVzYWdlLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2Rpc3BsYXktbWFya2VyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vdGV4dC1idWZmZXIvYmxvYi92MTAuMy4xMi9zcmMvZGlzcGxheS1tYXJrZXIuY29mZmVlI0w0M1xuICAgICAqL1xuICAgIGNsYXNzIERpc3BsYXlNYXJrZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdHJveXMgdGhlIG1hcmtlciwgY2F1c2luZyBpdCB0byBlbWl0IHRoZSAnZGVzdHJveWVkJyBldmVudC4gT25jZVxuICAgICAgICAgKiBkZXN0cm95ZWQsIGEgbWFya2VyIGNhbm5vdCBiZSByZXN0b3JlZCBieSB1bmRvL3JlZG8gb3BlcmF0aW9ucy5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYW5kIHJldHVybnMgYSBuZXcge0Rpc3BsYXlNYXJrZXJ9IHdpdGggdGhlIHNhbWUgcHJvcGVydGllcyBhc1xuICAgICAgICAgKiB0aGlzIG1hcmtlci5cbiAgICAgICAgICpcbiAgICAgICAgICoge1NlbGVjdGlvbn0gbWFya2VycyAobWFya2VycyB3aXRoIGEgY3VzdG9tIHByb3BlcnR5IGB0eXBlOiBcInNlbGVjdGlvblwiYClcbiAgICAgICAgICogc2hvdWxkIGJlIGNvcGllZCB3aXRoIGEgZGlmZmVyZW50IGB0eXBlYCB2YWx1ZSwgZm9yIGV4YW1wbGUgd2l0aFxuICAgICAgICAgKiBgbWFya2VyLmNvcHkoe3R5cGU6IG51bGx9KWAuIE90aGVyd2lzZSwgdGhlIG5ldyBtYXJrZXIncyBzZWxlY3Rpb24gd2lsbFxuICAgICAgICAgKiBiZSBtZXJnZWQgd2l0aCB0aGlzIG1hcmtlcidzIHNlbGVjdGlvbiwgYW5kIGEgYG51bGxgIHZhbHVlIHdpbGwgYmVcbiAgICAgICAgICogcmV0dXJuZWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSBwcm9wZXJ0aWVzIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBuZXcgbWFya2VyLiBUaGUgbmV3IG1hcmtlcidzIHByb3BlcnRpZXMgYXJlIGNvbXB1dGVkIGJ5IGV4dGVuZGluZyB0aGlzIG1hcmtlcidzIHByb3BlcnRpZXMgd2l0aCBgcHJvcGVydGllc2AuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwbGF5TWFya2VyfSBSZXR1cm5zIGEge0Rpc3BsYXlNYXJrZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgY29weShwcm9wZXJ0aWVzPzogT2JqZWN0KTogRGlzcGxheU1hcmtlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgc3RhdGUgb2YgdGhlIG1hcmtlciBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBtYXJrZXIgY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBtYXJrZXIgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBtYXJrZXIgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGVzdHJveShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXJrZXIgaXMgdmFsaWQuXG4gICAgICAgIE1hcmtlcnMgY2FuIGJlIGludmFsaWRhdGVkIHdoZW4gYSByZWdpb24gc3Vycm91bmRpbmcgdGhlbSBpbiB0aGUgYnVmZmVyIGlzXG4gICAgICAgIGNoYW5nZWQuXG4gICAgICAgICAqL1xuICAgICAgICBpc1ZhbGlkKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG1hcmtlciBoYXMgYmVlblxuICAgICAgICBkZXN0cm95ZWQuIEEgbWFya2VyIGNhbiBiZSBpbnZhbGlkIHdpdGhvdXQgYmVpbmcgZGVzdHJveWVkLCBpbiB3aGljaCBjYXNlXG4gICAgICAgIHVuZG9pbmcgdGhlIGludmFsaWRhdGluZyBvcGVyYXRpb24gd291bGQgcmVzdG9yZSB0aGUgbWFya2VyLiBPbmNlIGEgbWFya2VyXG4gICAgICAgIGlzIGRlc3Ryb3llZCBieSBjYWxsaW5nIHtEaXNwbGF5TWFya2VyOjpkZXN0cm95fSwgbm8gdW5kby9yZWRvIG9wZXJhdGlvblxuICAgICAgICBjYW4gZXZlciBicmluZyBpdCBiYWNrLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEZXN0cm95ZWQoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0aGUgaGVhZCBwcmVjZWRlcyB0aGUgdGFpbC5cbiAgICAgICAgICovXG4gICAgICAgIGlzUmV2ZXJzZWQoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciBjaGFuZ2VzIHRoYXQgb2NjdXIgZXhhY3RseVxuICAgICAgICBhdCB0aGUgbWFya2VyJ3MgaGVhZCBvciB0YWlsIGNhdXNlIGl0IHRvIG1vdmUuXG4gICAgICAgICAqL1xuICAgICAgICBpc0V4Y2x1c2l2ZSgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBpbnZhbGlkYXRpb24gc3RyYXRlZ3kgZm9yIHRoaXMgbWFya2VyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBWYWxpZCB2YWx1ZXMgaW5jbHVkZTogYG5ldmVyYCwgYHN1cnJvdW5kYCwgYG92ZXJsYXBgLCBgaW5zaWRlYCwgYW5kIGB0b3VjaGAuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEludmFsaWRhdGlvblN0cmF0ZWd5KCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4ge09iamVjdH0gY29udGFpbmluZyBhbnkgY3VzdG9tIHByb3BlcnRpZXMgYXNzb2NpYXRlZCB3aXRoXG4gICAgICAgIHRoZSBtYXJrZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRQcm9wZXJ0aWVzKCk6IE9iamVjdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1lcmdlcyBhbiB7T2JqZWN0fSBjb250YWluaW5nIG5ldyBwcm9wZXJ0aWVzIGludG8gdGhlIG1hcmtlcidzXG4gICAgICAgICAqIGV4aXN0aW5nIHByb3BlcnRpZXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0UHJvcGVydGllcyhwcm9wZXJ0aWVzOiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgd2hldGhlciB0aGlzIG1hcmtlciBtYXRjaGVzIHRoZSBnaXZlbiBwYXJhbWV0ZXJzLiBUaGVcbiAgICAgICAgcGFyYW1ldGVycyBhcmUgdGhlIHNhbWUgYXMge0Rpc3BsYXlNYXJrZXJMYXllcjo6ZmluZE1hcmtlcnN9LlxuICAgICAgICAgKi9cbiAgICAgICAgbWF0Y2hlc1Byb3BlcnRpZXMoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29tcGFyZXMgdGhpcyBtYXJrZXIgdG8gYW5vdGhlciBiYXNlZCBvbiB0aGVpciByYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7RGlzcGxheU1hcmtlcn0ge0Rpc3BsYXlNYXJrZXJ9XG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgY29tcGFyZShvdGhlcjogRGlzcGxheU1hcmtlcik6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7RGlzcGxheU1hcmtlcn0ge0Rpc3BsYXlNYXJrZXJ9IG90aGVyIG1hcmtlclxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBtYXJrZXIgaXMgZXF1aXZhbGVudCB0b1xuICAgICAgICBhbm90aGVyIG1hcmtlciwgbWVhbmluZyB0aGV5IGhhdmUgdGhlIHNhbWUgcmFuZ2UgYW5kIG9wdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBpc0VxdWFsKG90aGVyOiBEaXNwbGF5TWFya2VyKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldHMgdGhlIGJ1ZmZlciByYW5nZSBvZiB0aGlzIG1hcmtlci5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJ1ZmZlclJhbmdlKCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyB0aGUgc2NyZWVuIHJhbmdlIG9mIHRoaXMgbWFya2VyLlxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgYSB7UmFuZ2V9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2NyZWVuUmFuZ2UoKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb2RpZmllcyB0aGUgYnVmZmVyIHJhbmdlIG9mIHRoaXMgbWFya2VyLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBUaGUgbmV3IHtSYW5nZX0gdG8gdXNlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSBwcm9wZXJ0aWVzIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBtYXJrZXIuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRCdWZmZXJSYW5nZShidWZmZXJSYW5nZTogUmFuZ2UsIHByb3BlcnRpZXM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW9kaWZpZXMgdGhlIHNjcmVlbiByYW5nZSBvZiB0aGlzIG1hcmtlci5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gVGhlIG5ldyB7UmFuZ2V9IHRvIHVzZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBzZXRTY3JlZW5SYW5nZShzY3JlZW5SYW5nZTogUmFuZ2UsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBidWZmZXIgcG9zaXRpb24gb2YgdGhlIG1hcmtlcidzIGhlYWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyBhIHtQb2ludH0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIZWFkQnVmZmVyUG9zaXRpb24oKTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBidWZmZXIgcG9zaXRpb24gb2YgdGhlIG1hcmtlcidzIGhlYWQuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IFRoZSBuZXcge1BvaW50fSB0byB1c2VcbiAgICAgICAgICovXG4gICAgICAgIHNldEhlYWRCdWZmZXJQb3NpdGlvbihidWZmZXJQb3NpdGlvbjogUG9pbnQpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBzY3JlZW4gcG9zaXRpb24gb2YgdGhlIG1hcmtlcidzIGhlYWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge1BvaW50fSBSZXR1cm5zIGEge1BvaW50fS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEhlYWRTY3JlZW5Qb3NpdGlvbihvcHRpb25zPzogT2JqZWN0KTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXRzIHRoZSBzY3JlZW4gcG9zaXRpb24gb2YgdGhlIG1hcmtlcidzIGhlYWQuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IFRoZSBuZXcge1BvaW50fSB0byB1c2VcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0SGVhZFNjcmVlblBvc2l0aW9uKHNjcmVlblBvc2l0aW9uOiBQb2ludCwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGJ1ZmZlciBwb3NpdGlvbiBvZiB0aGUgbWFya2VyJ3MgdGFpbC5cbiAgICAgICAgICogQHJldHVybnMge1BvaW50fSBSZXR1cm5zIGEge1BvaW50fS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFRhaWxCdWZmZXJQb3NpdGlvbigpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGJ1ZmZlciBwb3NpdGlvbiBvZiB0aGUgbWFya2VyJ3MgdGFpbC5cbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gVGhlIG5ldyB7UG9pbnR9IHRvIHVzZVxuICAgICAgICAgKi9cbiAgICAgICAgc2V0VGFpbEJ1ZmZlclBvc2l0aW9uKGJ1ZmZlclBvc2l0aW9uOiBQb2ludCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIHNjcmVlbiBwb3NpdGlvbiBvZiB0aGUgbWFya2VyJ3MgdGFpbC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGFpbFNjcmVlblBvc2l0aW9uKG9wdGlvbnM/OiBPYmplY3QpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIHNjcmVlbiBwb3NpdGlvbiBvZiB0aGUgbWFya2VyJ3MgdGFpbC5cbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gVGhlIG5ldyB7UG9pbnR9IHRvIHVzZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBzZXRUYWlsU2NyZWVuUG9zaXRpb24oc2NyZWVuUG9zaXRpb246IFBvaW50LCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgYnVmZmVyIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIncyBzdGFydC4gVGhpcyB3aWxsIGFsd2F5cyBiZVxuICAgICAgICAgKiBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHJlc3VsdCBvZiB7RGlzcGxheU1hcmtlcjo6Z2V0RW5kQnVmZmVyUG9zaXRpb259LlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3RhcnRCdWZmZXJQb3NpdGlvbigpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgc2NyZWVuIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIncyBzdGFydC4gVGhpcyB3aWxsIGFsd2F5cyBiZVxuICAgICAgICAgKiBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gdGhlIHJlc3VsdCBvZiB7RGlzcGxheU1hcmtlcjo6Z2V0RW5kU2NyZWVuUG9zaXRpb259LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyBhIHtQb2ludH0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdGFydFNjcmVlblBvc2l0aW9uKG9wdGlvbnM/OiBPYmplY3QpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgYnVmZmVyIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIncyBlbmQuIFRoaXMgd2lsbCBhbHdheXMgYmVcbiAgICAgICAgICogZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIHRoZSByZXN1bHQgb2Yge0Rpc3BsYXlNYXJrZXI6OmdldFN0YXJ0QnVmZmVyUG9zaXRpb259LlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RW5kQnVmZmVyUG9zaXRpb24oKTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIHNjcmVlbiBwb3NpdGlvbiBvZiB0aGUgbWFya2VyJ3MgZW5kLiBUaGlzIHdpbGwgYWx3YXlzIGJlXG4gICAgICAgICAqIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byB0aGUgcmVzdWx0IG9mIHtEaXNwbGF5TWFya2VyOjpnZXRTdGFydFNjcmVlblBvc2l0aW9ufS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RW5kU2NyZWVuUG9zaXRpb24ob3B0aW9ucz86IE9iamVjdCk6IFBvaW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBtYXJrZXIgaGFzIGEgdGFpbC5cbiAgICAgICAgICovXG4gICAgICAgIGhhc1RhaWwoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFBsYW50cyB0aGUgbWFya2VyJ3MgdGFpbCBhdCB0aGUgY3VycmVudCBoZWFkIHBvc2l0aW9uLiBBZnRlciBjYWxsaW5nXG4gICAgICAgICAqIHRoZSBtYXJrZXIncyB0YWlsIHBvc2l0aW9uIHdpbGwgYmUgaXRzIGhlYWQgcG9zaXRpb24gYXQgdGhlIHRpbWUgb2YgdGhlXG4gICAgICAgICAqIGNhbGwsIHJlZ2FyZGxlc3Mgb2Ygd2hlcmUgdGhlIG1hcmtlcidzIGhlYWQgaXMgbW92ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBwbGFudFRhaWwoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIG1hcmtlcidzIHRhaWwuIEFmdGVyIGNhbGxpbmcgdGhlIG1hcmtlcidzIGhlYWQgcG9zaXRpb25cbiAgICAgICAgICogd2lsbCBiZSByZXBvcnRlZCBhcyBpdHMgY3VycmVudCB0YWlsIHBvc2l0aW9uIHVudGlsIHRoZSB0YWlsIGlzIHBsYW50ZWRcbiAgICAgICAgICogYWdhaW4uXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhclRhaWwoKTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAqRXhwZXJpbWVudGFsOiogQSBjb250YWluZXIgZm9yIGEgcmVsYXRlZCBzZXQgb2YgbWFya2VycyBhdCB0aGVcbiAgICAgKiB7RGlzcGxheUxheWVyfSBsZXZlbC4gV3JhcHMgYW4gdW5kZXJseWluZyB7TWFya2VyTGF5ZXJ9IG9uIHRoZSB7VGV4dEJ1ZmZlcn0uXG4gICAgICpcbiAgICAgKiBUaGlzIEFQSSBpcyBleHBlcmltZW50YWwgYW5kIHN1YmplY3QgdG8gY2hhbmdlIG9uIGFueSByZWxlYXNlLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2Rpc3BsYXktbWFya2VyLWxheWVyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vdGV4dC1idWZmZXIvYmxvYi92MTAuMy4xMi9zcmMvZGlzcGxheS1tYXJrZXItbGF5ZXIuY29mZmVlI0wxMVxuICAgICAqL1xuICAgIGNsYXNzIERpc3BsYXlNYXJrZXJMYXllciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IHRoaXMgbGF5ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IGFsbCBtYXJrZXJzIGluIHRoaXMgbGF5ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBsYXllciBoYXMgYmVlbiBkZXN0cm95ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEZXN0cm95ZWQoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN1YnNjcmliZSB0byBiZSBub3RpZmllZCBzeW5jaHJvbm91c2x5IHdoZW4gdGhpcyBsYXllciBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9LlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREZXN0cm95KCk6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmUgdG8gYmUgbm90aWZpZWQgYXN5bmNocm9ub3VzbHkgd2hlbmV2ZXIgbWFya2VycyBhcmVcbiAgICAgICAgICogY3JlYXRlZCwgdXBkYXRlZCwgb3IgZGVzdHJveWVkIG9uIHRoaXMgbGF5ZXIuICpQcmVmZXIgdGhpcyBtZXRob2QgZm9yXG4gICAgICAgICAqIG9wdGltYWwgcGVyZm9ybWFuY2Ugd2hlbiBpbnRlcmFjdGluZyB3aXRoIGxheWVycyB0aGF0IGNvdWxkIGNvbnRhaW4gbGFyZ2VcbiAgICAgICAgICogbnVtYmVycyBvZiBtYXJrZXJzLipcbiAgICAgICAgICpcbiAgICAgICAgICogU3Vic2NyaWJlcnMgYXJlIG5vdGlmaWVkIG9uY2UsIGFzeW5jaHJvbm91c2x5IHdoZW4gYW55IG51bWJlciBvZiBjaGFuZ2VzXG4gICAgICAgICAqIG9jY3VyIGluIGEgZ2l2ZW4gdGljayBvZiB0aGUgZXZlbnQgbG9vcC4gWW91IHNob3VsZCByZS1xdWVyeSB0aGUgbGF5ZXJcbiAgICAgICAgICogdG8gZGV0ZXJtaW5lIHRoZSBzdGF0ZSBvZiBtYXJrZXJzIGluIHdoaWNoIHlvdSdyZSBpbnRlcmVzdGVkIGluLiBJdCBtYXlcbiAgICAgICAgICogYmUgY291bnRlci1pbnR1aXRpdmUsIGJ1dCB0aGlzIGlzIG11Y2ggbW9yZSBlZmZpY2llbnQgdGhhbiBzdWJzY3JpYmluZyB0b1xuICAgICAgICAgKiBldmVudHMgb24gaW5kaXZpZHVhbCBtYXJrZXJzLCB3aGljaCBhcmUgZXhwZW5zaXZlIHRvIGRlbGl2ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHdoZW4gY2hhbmdlcyBvY2N1ciBvbiB0aGlzIGxheWVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkVXBkYXRlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmUgdG8gYmUgbm90aWZpZWQgc3luY2hyb25vdXNseSB3aGVuZXZlciBtYXJrZXJzIGFyZSBjcmVhdGVkXG4gICAgICAgICAqIG9uIHRoaXMgbGF5ZXIuICpBdm9pZCB0aGlzIG1ldGhvZCBmb3Igb3B0aW1hbCBwZXJmb3JtYW5jZSB3aGVuIGludGVyYWN0aW5nXG4gICAgICAgICAqIHdpdGggbGF5ZXJzIHRoYXQgY291bGQgY29udGFpbiBsYXJnZSBudW1iZXJzIG9mIG1hcmtlcnMuKlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3Ugc2hvdWxkIHByZWZlciB7b25EaWRVcGRhdGV9IHdoZW4gc3luY2hyb25vdXMgbm90aWZpY2F0aW9ucyBhcmVuJ3RcbiAgICAgICAgICogYWJzb2x1dGVseSBuZWNlc3NhcnkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYSB7VGV4dEVkaXRvck1hcmtlcn0gd2hlbmV2ZXIgYSBuZXcgbWFya2VyIGlzIGNyZWF0ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9LlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDcmVhdGVNYXJrZXIoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG1hcmtlciB3aXRoIHRoZSBnaXZlbiBzY3JlZW4gcmFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBvciByYW5nZS1jb21wYXRpYmxlIHtBcnJheX1cbiAgICAgICAgICogQHBhcmFtICBBIGhhc2ggb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBtYXJrZXIuIFRoZXJlIGFyZSBhbHNvIHJlc2VydmVkIHByb3BlcnR5IG5hbWVzIHRoYXQgaGF2ZSBtYXJrZXItc3BlY2lmaWMgbWVhbmluZy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3BsYXlNYXJrZXJ9IFJldHVybnMgYSB7RGlzcGxheU1hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrU2NyZWVuUmFuZ2UocmFuZ2U6IFJhbmdlLCBvcHRpb25zOiBhbnkpOiBEaXNwbGF5TWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbWFya2VyIG9uIHRoaXMgbGF5ZXIgd2l0aCBpdHMgaGVhZCBhdCB0aGUgZ2l2ZW4gc2NyZWVuXG4gICAgICAgICAqIHBvc2l0aW9uIGFuZCBubyB0YWlsLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge0Rpc3BsYXlNYXJrZXJ9IFJldHVybnMgYSB7RGlzcGxheU1hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrU2NyZWVuUG9zaXRpb24oc2NyZWVuUG9zaXRpb246IFBvaW50LCBvcHRpb25zPzogT2JqZWN0KTogRGlzcGxheU1hcmtlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG1hcmtlciB3aXRoIHRoZSBnaXZlbiBidWZmZXIgcmFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBvciByYW5nZS1jb21wYXRpYmxlIHtBcnJheX1cbiAgICAgICAgICogQHBhcmFtICBBIGhhc2ggb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBtYXJrZXIuIFRoZXJlIGFyZSBhbHNvIHJlc2VydmVkIHByb3BlcnR5IG5hbWVzIHRoYXQgaGF2ZSBtYXJrZXItc3BlY2lmaWMgbWVhbmluZy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3BsYXlNYXJrZXJ9IFJldHVybnMgYSB7RGlzcGxheU1hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrQnVmZmVyUmFuZ2UocmFuZ2U6IFJhbmdlLCBvcHRpb25zOiBhbnkpOiBEaXNwbGF5TWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbWFya2VyIG9uIHRoaXMgbGF5ZXIgd2l0aCBpdHMgaGVhZCBhdCB0aGUgZ2l2ZW4gYnVmZmVyXG4gICAgICAgICAqIHBvc2l0aW9uIGFuZCBubyB0YWlsLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge0Rpc3BsYXlNYXJrZXJ9IFJldHVybnMgYSB7RGlzcGxheU1hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrQnVmZmVyUG9zaXRpb24oYnVmZmVyUG9zaXRpb246IFBvaW50LCBvcHRpb25zPzogT2JqZWN0KTogRGlzcGxheU1hcmtlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbiBleGlzdGluZyBtYXJrZXIgYnkgaXRzIGlkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcGxheU1hcmtlcn0gUmV0dXJucyBhIHtEaXNwbGF5TWFya2VyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlcigpOiBEaXNwbGF5TWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBtYXJrZXJzIGluIHRoZSBsYXllci5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge0Rpc3BsYXlNYXJrZXJ9cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlcnMoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBtYXJrZXJzIGluIHRoZSBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlckNvdW50KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmQgbWFya2VycyBpbiB0aGUgbGF5ZXIgY29uZm9ybWluZyB0byB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgZmluZHMgbWFya2VycyBiYXNlZCBvbiB0aGUgZ2l2ZW4gcHJvcGVydGllcy4gTWFya2VycyBjYW4gYmVcbiAgICAgICAgICogYXNzb2NpYXRlZCB3aXRoIGN1c3RvbSBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBjb21wYXJlZCB3aXRoIGJhc2ljIGVxdWFsaXR5LlxuICAgICAgICAgKiBJbiBhZGRpdGlvbiwgdGhlcmUgYXJlIHNldmVyYWwgc3BlY2lhbCBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBjb21wYXJlZFxuICAgICAgICAgKiB3aXRoIHRoZSByYW5nZSBvZiB0aGUgbWFya2VycyByYXRoZXIgdGhhbiB0aGVpciBwcm9wZXJ0aWVzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gY29udGFpbmluZyBwcm9wZXJ0aWVzIHRoYXQgZWFjaCByZXR1cm5lZCBtYXJrZXIgbXVzdCBzYXRpc2Z5LiBNYXJrZXJzIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggY3VzdG9tIHByb3BlcnRpZXMsIHdoaWNoIGFyZSBjb21wYXJlZCB3aXRoIGJhc2ljIGVxdWFsaXR5LiBJbiBhZGRpdGlvbiwgc2V2ZXJhbCByZXNlcnZlZCBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGZpbHRlciBtYXJrZXJzIGJhc2VkIG9uIHRoZWlyIGN1cnJlbnQgcmFuZ2U6XG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtEaXNwbGF5TWFya2VyfXNcbiAgICAgICAgICovXG4gICAgICAgIGZpbmRNYXJrZXJzKHByb3BlcnRpZXM6IE9iamVjdCk6IGFueVtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgaGFuZGxlIHRvIGEgcmVzb3VyY2UgdGhhdCBjYW4gYmUgZGlzcG9zZWQuIEZvciBleGFtcGxlLFxuICAgICAqIHtFbWl0dGVyOjpvbn0gcmV0dXJucyBkaXNwb3NhYmxlcyByZXByZXNlbnRpbmcgc3Vic2NyaXB0aW9ucy5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9kaXNwb3NhYmxlLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vZXZlbnQta2l0L2Jsb2IvdjIuMi4wL3NyYy9kaXNwb3NhYmxlLmNvZmZlZSNMNFxuICAgICAqL1xuICAgIGNsYXNzIERpc3Bvc2FibGUge1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5zdXJlIHRoYXQgYG9iamVjdGAgY29ycmVjdGx5IGltcGxlbWVudHMgdGhlIGBEaXNwb3NhYmxlYFxuICAgICAgICAgKiBjb250cmFjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHlvdSB3YW50IHRvIHBlcmZvcm0gdGhlIGNoZWNrIGFnYWluc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciBgb2JqZWN0YCBpcyBhIHZhbGlkIGBEaXNwb3NhYmxlYC5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBpc0Rpc3Bvc2FibGUob2JqZWN0OiBPYmplY3QpOiBib29sZWFuO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb25zdHJ1Y3QgYSBEaXNwb3NhYmxlXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0byBjYWxsIHdoZW4gezo6ZGlzcG9zZX0gaXMgY2FsbGVkIGZvciB0aGUgZmlyc3QgdGltZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKGRpc3Bvc2FsQWN0aW9uOiBGdW5jdGlvbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQZXJmb3JtIHRoZSBkaXNwb3NhbCBhY3Rpb24sIGluZGljYXRpbmcgdGhhdCB0aGUgcmVzb3VyY2UgYXNzb2NpYXRlZFxuICAgICAgICAgKiB3aXRoIHRoaXMgZGlzcG9zYWJsZSBpcyBubyBsb25nZXIgbmVlZGVkLlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3UgY2FuIGNhbGwgdGhpcyBtZXRob2QgbW9yZSB0aGFuIG9uY2UsIGJ1dCB0aGUgZGlzcG9zYWwgYWN0aW9uIHdpbGwgb25seVxuICAgICAgICAgKiBiZSBwZXJmb3JtZWQgdGhlIGZpcnN0IHRpbWUuXG4gICAgICAgICAqL1xuICAgICAgICBkaXNwb3NlKCk6IHZvaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXRpbGl0eSBjbGFzcyB0byBiZSB1c2VkIHdoZW4gaW1wbGVtZW50aW5nIGV2ZW50LWJhc2VkIEFQSXMgdGhhdFxuICAgICAqIGFsbG93cyBmb3IgaGFuZGxlcnMgcmVnaXN0ZXJlZCB2aWEgYDo6b25gIHRvIGJlIGludm9rZWQgd2l0aCBjYWxscyB0b1xuICAgICAqIGA6OmVtaXRgLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW50ZW5kZWQgdG8gYmUgdXNlZCBpbnRlcm5hbGx5IGJ5XG4gICAgICogY2xhc3NlcyB0aGF0IGV4cG9zZSBhbiBldmVudC1iYXNlZCBBUEkuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZTpcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGNsYXNzIFVzZXJcbiAgICAgKiAgIGNvbnN0cnVjdG9yOiAtPlxuICAgICAqICAgICBAZW1pdHRlciA9IG5ldyBFbWl0dGVyXG4gICAgICpcbiAgICAgKiAgIG9uRGlkQ2hhbmdlTmFtZTogKGNhbGxiYWNrKSAtPlxuICAgICAqICAgICBAZW1pdHRlci5vbiAnZGlkLWNoYW5nZS1uYW1lJywgY2FsbGJhY2tcbiAgICAgKlxuICAgICAqICAgc2V0TmFtZTogKG5hbWUpIC0+XG4gICAgICogICAgIGlmIG5hbWUgaXNudCBAbmFtZVxuICAgICAqICAgICAgIEBuYW1lID0gbmFtZVxuICAgICAqICAgICAgIEBlbWl0dGVyLmVtaXQgJ2RpZC1jaGFuZ2UtbmFtZScsIG5hbWVcbiAgICAgKiAgICAgQG5hbWVcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9lbWl0dGVyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vZXZlbnQta2l0L2Jsb2IvdjIuMi4wL3NyYy9lbWl0dGVyLmNvZmZlZSNMMjVcbiAgICAgKi9cbiAgICBjbGFzcyBFbWl0dGVyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnN0cnVjdCBhbiBlbWl0dGVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBgYGBjb2ZmZWVcbiAgICAgICAgICogQGVtaXR0ZXIgPSBuZXcgRW1pdHRlcigpXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsZWFyIG91dCBhbnkgZXhpc3Rpbmcgc3Vic2NyaWJlcnMuXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5zdWJzY3JpYmUgYWxsIGhhbmRsZXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzcG9zZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgdGhlIGdpdmVuIGhhbmRsZXIgZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuZXZlciBldmVudHMgYnlcbiAgICAgICAgICogdGhlIGdpdmVuIG5hbWUgYXJlIGVtaXR0ZWQgdmlhIHs6OmVtaXR9LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gbmFtaW5nIHRoZSBldmVudCB0aGF0IHlvdSB3YW50IHRvIGludm9rZSB0aGUgaGFuZGxlciB3aGVuIGVtaXR0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gaW52b2tlIHdoZW4gezo6ZW1pdH0gaXMgY2FsbGVkIHdpdGggdGhlIGdpdmVuIGV2ZW50IG5hbWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb24oZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlZ2lzdGVyIHRoZSBnaXZlbiBoYW5kbGVyIGZ1bmN0aW9uIHRvIGJlIGludm9rZWQgKmJlZm9yZSogYWxsXG4gICAgICAgICAqIG90aGVyIGhhbmRsZXJzIGV4aXN0aW5nIGF0IHRoZSB0aW1lIG9mIHN1YnNjcmlwdGlvbiB3aGVuZXZlciBldmVudHMgYnkgdGhlXG4gICAgICAgICAqIGdpdmVuIG5hbWUgYXJlIGVtaXR0ZWQgdmlhIHs6OmVtaXR9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBVc2UgdGhpcyBtZXRob2Qgd2hlbiB5b3UgbmVlZCB0byBiZSB0aGUgZmlyc3QgdG8gaGFuZGxlIGEgZ2l2ZW4gZXZlbnQuIFRoaXNcbiAgICAgICAgICogY291bGQgYmUgcmVxdWlyZWQgd2hlbiBhIGRhdGEgc3RydWN0dXJlIGluIGEgcGFyZW50IG9iamVjdCBuZWVkcyB0byBiZVxuICAgICAgICAgKiB1cGRhdGVkIGJlZm9yZSB0aGlyZC1wYXJ0eSBldmVudCBoYW5kbGVycyByZWdpc3RlcmVkIG9uIGEgY2hpbGQgb2JqZWN0IHZpYSBhXG4gICAgICAgICAqIHB1YmxpYyBBUEkgYXJlIGludm9rZWQuIFlvdXIgaGFuZGxlciBjb3VsZCBpdHNlbGYgYmUgcHJlZW1wdGVkIHZpYVxuICAgICAgICAgKiBzdWJzZXF1ZW50IGNhbGxzIHRvIHRoaXMgbWV0aG9kLCBidXQgdGhpcyBjYW4gYmUgY29udHJvbGxlZCBieSBrZWVwaW5nXG4gICAgICAgICAqIG1ldGhvZHMgYmFzZWQgb24gYDo6cHJlZW1wdGAgcHJpdmF0ZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHtTdHJpbmd9IG5hbWluZyB0aGUgZXZlbnQgdGhhdCB5b3Ugd2FudCB0byBpbnZva2UgdGhlIGhhbmRsZXIgd2hlbiBlbWl0dGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGludm9rZSB3aGVuIHs6OmVtaXR9IGlzIGNhbGxlZCB3aXRoIHRoZSBnaXZlbiBldmVudCBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIHByZWVtcHQoZXZlbnROYW1lOiBzdHJpbmcsIGhhbmRsZXI6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSBoYW5kbGVycyByZWdpc3RlcmVkIHZpYSB7Ojpvbn0gZm9yIHRoZSBnaXZlbiBldmVudCBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBuYW1lIG9mIHRoZSBldmVudCB0byBlbWl0LiBIYW5kbGVycyByZWdpc3RlcmVkIHdpdGggezo6b259IGZvciB0aGUgc2FtZSBuYW1lIHdpbGwgYmUgaW52b2tlZC5cbiAgICAgICAgICogQHBhcmFtICBDYWxsYmFja3Mgd2lsbCBiZSBpbnZva2VkIHdpdGggdGhpcyB2YWx1ZSBhcyBhbiBhcmd1bWVudC5cbiAgICAgICAgICovXG4gICAgICAgIGVtaXQoZXZlbnROYW1lOiBzdHJpbmcsIHZhbHVlPzogYW55KTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGFuIGluZGl2aWR1YWwgZmlsZSB0aGF0IGNhbiBiZSB3YXRjaGVkLCByZWFkIGZyb20sIGFuZFxuICAgICAqIHdyaXR0ZW4gdG8uXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvZmlsZS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL25vZGUtcGF0aHdhdGNoZXIvYmxvYi92Ni44LjAvc3JjL2ZpbGUuY29mZmVlI0wxOFxuICAgICAqL1xuICAgIGNsYXNzIEZpbGUge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29uZmlndXJlcyBhIG5ldyBGaWxlIGluc3RhbmNlLCBubyBmaWxlcyBhcmUgYWNjZXNzZWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IGNvbnRhaW5pbmcgdGhlIGFic29sdXRlIHBhdGggdG8gdGhlIGZpbGVcbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBBIHtCb29sZWFufSBpbmRpY2F0aW5nIGlmIHRoZSBwYXRoIGlzIGEgc3ltbGluayAoZGVmYXVsdDogZmFsc2UpLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3RydWN0b3IoZmlsZVBhdGg6IHN0cmluZywgc3ltbGluazogYm9vbGVhbik7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIHRoZSBmaWxlIG9uIGRpc2sgdGhhdCBjb3JyZXNwb25kcyB0byBgOjpnZXRQYXRoKClgIGlmIG5vXG4gICAgICAgICAqIHN1Y2ggZmlsZSBhbHJlYWR5IGV4aXN0cy5cbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHtQcm9taXNlfSB0aGF0IHJlc29sdmVzIG9uY2UgdGhlIGZpbGUgaXMgY3JlYXRlZCBvbiBkaXNrLiBJdFxuICAgICAgICByZXNvbHZlcyB0byBhIGJvb2xlYW4gdmFsdWUgdGhhdCBpcyB0cnVlIGlmIHRoZSBmaWxlIHdhcyBjcmVhdGVkIG9yIGZhbHNlIGlmXG4gICAgICAgIGl0IGFscmVhZHkgZXhpc3RlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZSgpOiBQcm9taXNlPGFueT47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIGZpbGUncyBjb250ZW50cyBjaGFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGZpbGUncyBjb250ZW50cyBjaGFuZ2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2UoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgZmlsZSdzIHBhdGggY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgZmlsZSdzIHBhdGggY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZFJlbmFtZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBmaWxlIGlzIGRlbGV0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGZpbGUgaXMgZGVsZXRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZERlbGV0ZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIHdpdGggdGhlIHdhdGNoLlxuICAgICAgICAgKiBXaGVuIHlvdXIgY2FsbGJhY2sgaGFzIGJlZW4gaW52b2tlZCwgdGhlIGZpbGUgd2lsbCBoYXZlIHVuc3Vic2NyaWJlZCBmcm9tXG4gICAgICAgICAqIHRoZSBmaWxlIHdhdGNoZXMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgICAgICovXG4gICAgICAgIG9uV2lsbFRocm93V2F0Y2hFcnJvcihjYWxsYmFjazogRnVuY3Rpb24pOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0sIGFsd2F5cyB0cnVlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNGaWxlKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSwgYWx3YXlzIGZhbHNlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEaXJlY3RvcnkoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciBvciBub3QgdGhpcyBpcyBhIHN5bWJvbGljIGxpbmtcbiAgICAgICAgICovXG4gICAgICAgIGlzU3ltYm9saWNMaW5rKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHtCb29sZWFufSwgdHJ1ZSBpZiB0aGUgZmlsZVxuICAgICAgICBleGlzdHMsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgICAgICovXG4gICAgICAgIGV4aXN0cygpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0sIHRydWUgaWYgdGhlIGZpbGUgZXhpc3RzLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuICAgICAgICBleGlzdHNTeW5jKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIFNIQS0xIGRpZ2VzdCBvZiB0aGlzIGZpbGVcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIHtTdHJpbmd9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGlnZXN0KCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgU0hBLTEgZGlnZXN0IG9mIHRoaXMgZmlsZVxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uXG4gICAgICAgICAqL1xuICAgICAgICBnZXREaWdlc3RTeW5jKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGZpbGUncyBjaGFyYWN0ZXIgc2V0IGVuY29kaW5nIG5hbWUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gZW5jb2RpbmcgdG8gdXNlIChkZWZhdWx0OiAndXRmOCcpXG4gICAgICAgICAqL1xuICAgICAgICBzZXRFbmNvZGluZyhlbmNvZGluZzogc3RyaW5nKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHtTdHJpbmd9IGVuY29kaW5nIG5hbWUgZm9yIHRoaXMgZmlsZSAoZGVmYXVsdDogJ3V0ZjgnKS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEVuY29kaW5nKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHtTdHJpbmd9IHBhdGggZm9yIHRoZSBmaWxlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGF0aCgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoaXMgZmlsZSdzIGNvbXBsZXRlbHkgcmVzb2x2ZWQge1N0cmluZ30gcGF0aC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFJlYWxQYXRoU3luYygpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEgcHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIHRoZSBmaWxlJ3MgY29tcGxldGVseSByZXNvbHZlZCB7U3RyaW5nfSBwYXRoLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVhbFBhdGgoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIHRoZSB7U3RyaW5nfSBmaWxlbmFtZSB3aXRob3V0IGFueSBkaXJlY3RvcnkgaW5mb3JtYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCYXNlTmFtZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0dXJuIHRoZSB7RGlyZWN0b3J5fSB0aGF0IGNvbnRhaW5zIHRoaXMgZmlsZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFBhcmVudCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZHMgdGhlIGNvbnRlbnRzIG9mIHRoZSBmaWxlLlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IEEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0byByZXF1aXJlIGEgZGlyZWN0IHJlYWQgb3IgaWYgYSBjYWNoZWQgY29weSBpcyBhY2NlcHRhYmxlLlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB0byBhIFN0cmluZy5cbiAgICAgICAgICovXG4gICAgICAgIHJlYWQoZmx1c2hDYWNoZTogYm9vbGVhbik6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgc3RyZWFtIHRvIHJlYWQgdGhlIGNvbnRlbnQgb2YgdGhlIGZpbGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtSZWFkU3RyZWFtfSBSZXR1cm5zIGEge1JlYWRTdHJlYW19IG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVJlYWRTdHJlYW0oKTogUmVhZFN0cmVhbTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE92ZXJ3cml0ZXMgdGhlIGZpbGUgd2l0aCB0aGUgZ2l2ZW4gdGV4dC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSB0ZXh0IHRvIHdyaXRlIHRvIHRoZSB1bmRlcmx5aW5nIGZpbGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSB7UHJvbWlzZX0gdGhhdCByZXNvbHZlcyB3aGVuIHRoZSBmaWxlIGhhcyBiZWVuIHdyaXR0ZW4uXG4gICAgICAgICAqL1xuICAgICAgICB3cml0ZSh0ZXh0OiBzdHJpbmcpOiBQcm9taXNlPGFueT47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhIHN0cmVhbSB0byB3cml0ZSBjb250ZW50IHRvIHRoZSBmaWxlLlxuICAgICAgICAgKiBAcmV0dXJucyB7V3JpdGVTdHJlYW19IFJldHVybnMgYSB7V3JpdGVTdHJlYW19IG9iamVjdC5cbiAgICAgICAgICovXG4gICAgICAgIGNyZWF0ZVdyaXRlU3RyZWFtKCk6IFdyaXRlU3RyZWFtO1xuICAgICAgICAvKipcbiAgICAgICAgICogT3ZlcndyaXRlcyB0aGUgZmlsZSB3aXRoIHRoZSBnaXZlbiB0ZXh0LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHRleHQgdG8gd3JpdGUgdG8gdGhlIHVuZGVybHlpbmcgZmlsZS5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgLlxuICAgICAgICAgKi9cbiAgICAgICAgd3JpdGVTeW5jKHRleHQ6IHN0cmluZyk6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIHRoZSB1bmRlcmx5aW5nIGdpdCBvcGVyYXRpb25zIHBlcmZvcm1lZCBieSBBdG9tLlxuICAgICAqXG4gICAgICogVGhpcyBjbGFzcyBzaG91bGRuJ3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5IGJ1dCBpbnN0ZWFkIGJ5IGFjY2Vzc2luZyB0aGVcbiAgICAgKiBgYXRvbS5wcm9qZWN0YCBnbG9iYWwgYW5kIGNhbGxpbmcgYGdldFJlcG9zaXRvcmllcygpYC4gTm90ZSB0aGF0IHRoaXMgd2lsbFxuICAgICAqIG9ubHkgYmUgYXZhaWxhYmxlIHdoZW4gdGhlIHByb2plY3QgaXMgYmFja2VkIGJ5IGEgR2l0IHJlcG9zaXRvcnkuXG4gICAgICpcbiAgICAgKiBUaGlzIGNsYXNzIGhhbmRsZXMgc3VibW9kdWxlcyBhdXRvbWF0aWNhbGx5IGJ5IHRha2luZyBhIGBwYXRoYCBhcmd1bWVudCB0byBtYW55XG4gICAgICogb2YgdGhlIG1ldGhvZHMuICBUaGlzIGBwYXRoYCBhcmd1bWVudCB3aWxsIGRldGVybWluZSB3aGljaCB1bmRlcmx5aW5nXG4gICAgICogcmVwb3NpdG9yeSBpcyB1c2VkLlxuICAgICAqXG4gICAgICogRm9yIGEgcmVwb3NpdG9yeSB3aXRoIHN1Ym1vZHVsZXMgdGhpcyB3b3VsZCBoYXZlIHRoZSBmb2xsb3dpbmcgb3V0Y29tZTpcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIHJlcG8gPSBhdG9tLnByb2plY3QuZ2V0UmVwb3NpdG9yaWVzKClbMF1cbiAgICAgKiByZXBvLmdldFNob3J0SGVhZCgpICMgJ21hc3RlcidcbiAgICAgKiByZXBvLmdldFNob3J0SGVhZCgndmVuZG9yL3BhdGgvdG8vYS9zdWJtb2R1bGUnKSAjICdkZWFkMTIzNCdcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9naXQtcmVwb3NpdG9yeS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9naXQtcmVwb3NpdG9yeS5jb2ZmZWUjTDQ0XG4gICAgICovXG4gICAgY2xhc3MgR2l0UmVwb3NpdG9yeSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IEdpdFJlcG9zaXRvcnkgaW5zdGFuY2UuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCB0byB0aGUgR2l0IHJlcG9zaXRvcnkgdG8gb3Blbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIG9wdGlvbmFsIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7R2l0UmVwb3NpdG9yeX0gUmV0dXJucyBhIHtHaXRSZXBvc2l0b3J5fSBpbnN0YW5jZSBvciBgbnVsbGAgaWYgdGhlIHJlcG9zaXRvcnkgY291bGQgbm90IGJlIG9wZW5lZC5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyBvcGVuKHBhdGg6IHN0cmluZywgb3B0aW9uczogT2JqZWN0KTogR2l0UmVwb3NpdG9yeTtcblxuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdHJveSB0aGlzIHtHaXRSZXBvc2l0b3J5fSBvYmplY3QuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgZGVzdHJveXMgYW55IHRhc2tzIGFuZCBzdWJzY3JpcHRpb25zIGFuZCByZWxlYXNlcyB0aGUgdW5kZXJseWluZ1xuICAgICAgICAgKiBsaWJnaXQyIHJlcG9zaXRvcnkgaGFuZGxlLiBUaGlzIG1ldGhvZCBpcyBpZGVtcG90ZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyBpZiB0aGlzIHJlcG9zaXRvcnkgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEZXN0cm95ZWQoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGlzIEdpdFJlcG9zaXRvcnkncyBkZXN0cm95KCkgbWV0aG9kXG4gICAgICAgICAqIGlzIGludm9rZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZERlc3Ryb3koY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHNwZWNpZmljIGZpbGUncyBzdGF0dXMgaGFzXG4gICAgICAgICAqIGNoYW5nZWQuIFdoZW4gYSBmaWxlIGlzIHVwZGF0ZWQsIHJlbG9hZGVkLCBldGMsIGFuZCB0aGUgc3RhdHVzIGNoYW5nZXMsIHRoaXNcbiAgICAgICAgICogd2lsbCBiZSBmaXJlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQ2hhbmdlU3RhdHVzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBtdWx0aXBsZSBmaWxlcycgc3RhdHVzZXMgaGF2ZVxuICAgICAgICAgKiBjaGFuZ2VkLiBGb3IgZXhhbXBsZSwgb24gd2luZG93IGZvY3VzLCB0aGUgc3RhdHVzIG9mIGFsbCB0aGUgcGF0aHMgaW4gdGhlXG4gICAgICAgICAqIHJlcG8gaXMgY2hlY2tlZC4gSWYgYW55IG9mIHRoZW0gaGF2ZSBjaGFuZ2VkLCB0aGlzIHdpbGwgYmUgZmlyZWQuIENhbGxcbiAgICAgICAgICogezo6Z2V0UGF0aFN0YXR1cyhwYXRoKX0gdG8gZ2V0IHRoZSBzdGF0dXMgZm9yIHlvdXIgcGF0aCBvZiBjaG9pY2UuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZVN0YXR1c2VzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtTdHJpbmd9IGluZGljYXRpbmcgdGhlIHR5cGUgb2YgdmVyc2lvbiBjb250cm9sIHN5c3RlbSB1c2VkIGJ5XG4gICAgICAgICAqIHRoaXMgcmVwb3NpdG9yeS5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYFwiZ2l0XCJgLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VHlwZSgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB7U3RyaW5nfSBwYXRoIG9mIHRoZSByZXBvc2l0b3J5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGF0aCgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB7U3RyaW5nfSB3b3JraW5nIGRpcmVjdG9yeSBwYXRoIG9mIHRoZSByZXBvc2l0b3J5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0V29ya2luZ0RpcmVjdG9yeSgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0cnVlIGlmIGF0IHRoZSByb290LCBmYWxzZSBpZiBpbiBhIHN1YmZvbGRlciBvZiB0aGVcbiAgICAgICAgcmVwb3NpdG9yeS5cbiAgICAgICAgICovXG4gICAgICAgIGlzUHJvamVjdEF0Um9vdCgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNYWtlcyBhIHBhdGggcmVsYXRpdmUgdG8gdGhlIHJlcG9zaXRvcnkncyB3b3JraW5nIGRpcmVjdG9yeS5cbiAgICAgICAgICovXG4gICAgICAgIHJlbGF0aXZpemUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGJyYW5jaCBleGlzdHMuXG4gICAgICAgICAqL1xuICAgICAgICBoYXNCcmFuY2goKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIGEgc2hvcnRlbmVkIHZlcnNpb24gb2YgdGhlIEhFQUQgcmVmZXJlbmNlIHZhbHVlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIHJlbW92ZXMgdGhlIGxlYWRpbmcgc2VnbWVudHMgb2YgYHJlZnMvaGVhZHNgLCBgcmVmcy90YWdzYCwgb3JcbiAgICAgICAgICogYHJlZnMvcmVtb3Rlc2AuICBJdCBhbHNvIHNob3J0ZW5zIHRoZSBTSEEtMSBvZiBhIGRldGFjaGVkIGBIRUFEYCB0byA3XG4gICAgICAgICAqIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBbiBvcHRpb25hbCB7U3RyaW5nfSBwYXRoIGluIHRoZSByZXBvc2l0b3J5IHRvIGdldCB0aGlzIGluZm9ybWF0aW9uIGZvciwgb25seSBuZWVkZWQgaWYgdGhlIHJlcG9zaXRvcnkgY29udGFpbnMgc3VibW9kdWxlcy5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHtTdHJpbmd9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2hvcnRIZWFkKHBhdGg6IHN0cmluZyk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBnaXZlbiBwYXRoIGEgc3VibW9kdWxlIGluIHRoZSByZXBvc2l0b3J5P1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhdGggdG8gY2hlY2suXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNTdWJtb2R1bGUocGF0aDogc3RyaW5nKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gYnJhbmNoIHJlZmVyZW5jZSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhdGggaW4gdGhlIHJlcG9zaXRvcnkgdG8gZ2V0IHRoaXMgaW5mb3JtYXRpb24gZm9yLCBvbmx5IG5lZWRlZCBpZiB0aGUgcmVwb3NpdG9yeSBjb250YWlucyBzdWJtb2R1bGVzLlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0aGUgbnVtYmVyIG9mIGNvbW1pdHMgYmVoaW5kIHRoZSBjdXJyZW50IGJyYW5jaCBpcyBmcm9tIHRoZVxuICAgICAgICBpdHMgdXBzdHJlYW0gcmVtb3RlIGJyYW5jaC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEFoZWFkQmVoaW5kQ291bnQocmVmZXJlbmNlOiBzdHJpbmcsIHBhdGg6IHN0cmluZyk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY2FjaGVkIGFoZWFkL2JlaGluZCBjb21taXQgY291bnRzIGZvciB0aGUgY3VycmVudCBicmFuY2gnc1xuICAgICAgICAgKiB1cHN0cmVhbSBicmFuY2guXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBbiBvcHRpb25hbCB7U3RyaW5nfSBwYXRoIGluIHRoZSByZXBvc2l0b3J5IHRvIGdldCB0aGlzIGluZm9ybWF0aW9uIGZvciwgb25seSBuZWVkZWQgaWYgdGhlIHJlcG9zaXRvcnkgaGFzIHN1Ym1vZHVsZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG5cbiAgICAgICAgKiBgYWhlYWRgICBUaGUge051bWJlcn0gb2YgY29tbWl0cyBhaGVhZC5cbiAgICAgICAgKiBgYmVoaW5kYCBUaGUge051bWJlcn0gb2YgY29tbWl0cyBiZWhpbmQuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDYWNoZWRVcHN0cmVhbUFoZWFkQmVoaW5kQ291bnQocGF0aDogc3RyaW5nKTogT2JqZWN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBrZXkgZm9yIHRoZSBjb25maWd1cmF0aW9uIHRvIGxvb2t1cC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEFuIG9wdGlvbmFsIHtTdHJpbmd9IHBhdGggaW4gdGhlIHJlcG9zaXRvcnkgdG8gZ2V0IHRoaXMgaW5mb3JtYXRpb24gZm9yLCBvbmx5IG5lZWRlZCBpZiB0aGUgcmVwb3NpdG9yeSBoYXMgc3VibW9kdWxlcy5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgdGhlIGdpdCBjb25maWd1cmF0aW9uIHZhbHVlIHNwZWNpZmllZCBieSB0aGUga2V5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q29uZmlnVmFsdWUoa2V5OiBzdHJpbmcsIHBhdGg6IHN0cmluZyk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBwYXRoIGluIHRoZSByZXBvc2l0b3J5IHRvIGdldCB0aGlzIGluZm9ybWF0aW9uIGZvciwgb25seSBuZWVkZWQgaWYgdGhlIHJlcG9zaXRvcnkgaGFzIHN1Ym1vZHVsZXMuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSBvcmlnaW4gdXJsIG9mIHRoZSByZXBvc2l0b3J5LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0T3JpZ2luVVJMKHBhdGg/OiBzdHJpbmcpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQW4gb3B0aW9uYWwge1N0cmluZ30gcGF0aCBpbiB0aGUgcmVwbyB0byBnZXQgdGhpcyBpbmZvcm1hdGlvbiBmb3IsIG9ubHkgbmVlZGVkIGlmIHRoZSByZXBvc2l0b3J5IGNvbnRhaW5zIHN1Ym1vZHVsZXMuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSB1cHN0cmVhbSBicmFuY2ggZm9yIHRoZSBjdXJyZW50IEhFQUQsIG9yIG51bGwgaWYgdGhlcmVcbiAgICAgICAgaXMgbm8gdXBzdHJlYW0gYnJhbmNoIGZvciB0aGUgY3VycmVudCBIRUFELlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30gYnJhbmNoIG5hbWUgc3VjaCBhcyBgcmVmcy9yZW1vdGVzL29yaWdpbi9tYXN0ZXJgLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VXBzdHJlYW1CcmFuY2gocGF0aDogc3RyaW5nKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0cyBhbGwgdGhlIGxvY2FsIGFuZCByZW1vdGUgcmVmZXJlbmNlcy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEFuIG9wdGlvbmFsIHtTdHJpbmd9IHBhdGggaW4gdGhlIHJlcG9zaXRvcnkgdG8gZ2V0IHRoaXMgaW5mb3JtYXRpb24gZm9yLCBvbmx5IG5lZWRlZCBpZiB0aGUgcmVwb3NpdG9yeSBoYXMgc3VibW9kdWxlcy5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcblxuICAgICAgICAqIGBoZWFkc2AgICBBbiB7QXJyYXl9IG9mIGhlYWQgcmVmZXJlbmNlIG5hbWVzLlxuICAgICAgICAqIGByZW1vdGVzYCBBbiB7QXJyYXl9IG9mIHJlbW90ZSByZWZlcmVuY2UgbmFtZXMuXG4gICAgICAgICogYHRhZ3NgICAgIEFuIHtBcnJheX0gb2YgdGFnIHJlZmVyZW5jZSBuYW1lcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFJlZmVyZW5jZXMocGF0aDogc3RyaW5nKTogT2JqZWN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSByZWZlcmVuY2UgdG8gZ2V0IHRoZSB0YXJnZXQgb2YuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBbiBvcHRpb25hbCB7U3RyaW5nfSBwYXRoIGluIHRoZSByZXBvIHRvIGdldCB0aGUgcmVmZXJlbmNlIHRhcmdldCBmb3IuIE9ubHkgbmVlZGVkIGlmIHRoZSByZXBvc2l0b3J5IGNvbnRhaW5zIHN1Ym1vZHVsZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGN1cnJlbnQge1N0cmluZ30gU0hBIGZvciB0aGUgZ2l2ZW4gcmVmZXJlbmNlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVmZXJlbmNlVGFyZ2V0KHJlZmVyZW5jZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhdGggdG8gY2hlY2suXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHBhdGggaXMgbW9kaWZpZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IHRoYXQncyB0cnVlIGlmIHRoZSBgcGF0aGAgaXMgbW9kaWZpZWQuXG4gICAgICAgICAqL1xuICAgICAgICBpc1BhdGhNb2RpZmllZChwYXRoOiBzdHJpbmcpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBwYXRoIHRvIGNoZWNrLlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBwYXRoIGlzIG5ldy5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCdzIHRydWUgaWYgdGhlIGBwYXRoYCBpcyBuZXcuXG4gICAgICAgICAqL1xuICAgICAgICBpc1BhdGhOZXcocGF0aDogc3RyaW5nKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBnaXZlbiBwYXRoIGlnbm9yZWQ/XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCB0byBjaGVjay5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCdzIHRydWUgaWYgdGhlIGBwYXRoYCBpcyBpZ25vcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNQYXRoSWdub3JlZChwYXRoOiBzdHJpbmcpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBzdGF0dXMgb2YgYSBkaXJlY3RvcnkgaW4gdGhlIHJlcG9zaXRvcnkncyB3b3JraW5nIGRpcmVjdG9yeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBwYXRoIHRvIGNoZWNrLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBzdGF0dXMuIFRoaXMgdmFsdWUgY2FuIGJlIHBhc3NlZCB0b1xuICAgICAgICB7Ojppc1N0YXR1c01vZGlmaWVkfSBvciB7Ojppc1N0YXR1c05ld30gdG8gZ2V0IG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXREaXJlY3RvcnlTdGF0dXMocGF0aDogc3RyaW5nKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBzdGF0dXMgb2YgYSBzaW5nbGUgcGF0aCBpbiB0aGUgcmVwb3NpdG9yeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gcmVwb3NpdG9yeS1yZWxhdGl2ZSBwYXRoLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBzdGF0dXMuIFRoaXMgdmFsdWUgY2FuIGJlIHBhc3NlZCB0b1xuICAgICAgICB7Ojppc1N0YXR1c01vZGlmaWVkfSBvciB7Ojppc1N0YXR1c05ld30gdG8gZ2V0IG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRQYXRoU3RhdHVzKHBhdGg6IHN0cmluZyk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgY2FjaGVkIHN0YXR1cyBmb3IgdGhlIGdpdmVuIHBhdGguXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IHBhdGggaW4gdGhlIHJlcG9zaXRvcnksIHJlbGF0aXZlIG9yIGFic29sdXRlLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEgc3RhdHVzIHtOdW1iZXJ9IG9yIG51bGwgaWYgdGhlIHBhdGggaXMgbm90IGluIHRoZSBjYWNoZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldENhY2hlZFBhdGhTdGF0dXMocGF0aDogc3RyaW5nKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBzdGF0dXMuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHN0YXR1cyBpbmRpY2F0ZXMgbW9kaWZpY2F0aW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSB0aGF0J3MgdHJ1ZSBpZiB0aGUgYHN0YXR1c2AgaW5kaWNhdGVzIG1vZGlmaWNhdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGlzU3RhdHVzTW9kaWZpZWQoc3RhdHVzOiBudW1iZXIpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBzdGF0dXMuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHN0YXR1cyBpbmRpY2F0ZXMgYSBuZXcgcGF0aC5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCdzIHRydWUgaWYgdGhlIGBzdGF0dXNgIGluZGljYXRlcyBhIG5ldyBwYXRoLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNTdGF0dXNOZXcoc3RhdHVzOiBudW1iZXIpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmV0cmlldmVzIHRoZSBudW1iZXIgb2YgbGluZXMgYWRkZWQgYW5kIHJlbW92ZWQgdG8gYSBwYXRoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGNvbXBhcmVzIHRoZSB3b3JraW5nIGRpcmVjdG9yeSBjb250ZW50cyBvZiB0aGUgcGF0aCB0byB0aGUgYEhFQURgXG4gICAgICAgICAqIHZlcnNpb24uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCB0byBjaGVjay5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcblxuICAgICAgICAqIGBhZGRlZGAgVGhlIHtOdW1iZXJ9IG9mIGFkZGVkIGxpbmVzLlxuICAgICAgICAqIGBkZWxldGVkYCBUaGUge051bWJlcn0gb2YgZGVsZXRlZCBsaW5lcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldERpZmZTdGF0cyhwYXRoOiBzdHJpbmcpOiBPYmplY3Q7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXRyaWV2ZXMgdGhlIGxpbmUgZGlmZnMgY29tcGFyaW5nIHRoZSBgSEVBRGAgdmVyc2lvbiBvZiB0aGUgZ2l2ZW5cbiAgICAgICAgICogcGF0aCBhbmQgdGhlIGdpdmVuIHRleHQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCByZWxhdGl2ZSB0byB0aGUgcmVwb3NpdG9yeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSB0byBjb21wYXJlIGFnYWluc3QgdGhlIGBIRUFEYCBjb250ZW50c1xuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiBodW5rIHtPYmplY3R9cyB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcblxuICAgICAgICAqIGBvbGRTdGFydGAgVGhlIGxpbmUge051bWJlcn0gb2YgdGhlIG9sZCBodW5rLlxuICAgICAgICAqIGBuZXdTdGFydGAgVGhlIGxpbmUge051bWJlcn0gb2YgdGhlIG5ldyBodW5rLlxuICAgICAgICAqIGBvbGRMaW5lc2AgVGhlIHtOdW1iZXJ9IG9mIGxpbmVzIGluIHRoZSBvbGQgaHVuay5cbiAgICAgICAgKiBgbmV3TGluZXNgIFRoZSB7TnVtYmVyfSBvZiBsaW5lcyBpbiB0aGUgbmV3IGh1bmtcbiAgICAgICAgICovXG4gICAgICAgIGdldExpbmVEaWZmcyhwYXRoOiBzdHJpbmcsIHRleHQ6IHN0cmluZyk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzdG9yZSB0aGUgY29udGVudHMgb2YgYSBwYXRoIGluIHRoZSB3b3JraW5nIGRpcmVjdG9yeSBhbmQgaW5kZXhcbiAgICAgICAgICogdG8gdGhlIHZlcnNpb24gYXQgYEhFQURgLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIGlzIGVzc2VudGlhbGx5IHRoZSBzYW1lIGFzIHJ1bm5pbmc6XG4gICAgICAgICAqXG4gICAgICAgICAqIGBgYHNoXG4gICAgICAgICAqICAgZ2l0IHJlc2V0IEhFQUQgLS0gPHBhdGg+XG4gICAgICAgICAqICAgZ2l0IGNoZWNrb3V0IEhFQUQgLS0gPHBhdGg+XG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhdGggdG8gY2hlY2tvdXQuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IHRoYXQncyB0cnVlIGlmIHRoZSBtZXRob2Qgd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICAgICAqL1xuICAgICAgICBjaGVja291dEhlYWQocGF0aDogc3RyaW5nKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENoZWNrcyBvdXQgYSBicmFuY2ggaW4geW91ciByZXBvc2l0b3J5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHJlZmVyZW5jZSB0byBjaGVja291dC5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBBIHtCb29sZWFufSB2YWx1ZSB3aGljaCwgaWYgdHJ1ZSBjcmVhdGVzIHRoZSBuZXcgcmVmZXJlbmNlIGlmIGl0IGRvZXNuJ3QgZXhpc3QuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgQm9vbGVhbiB0aGF0J3MgdHJ1ZSBpZiB0aGUgbWV0aG9kIHdhcyBzdWNjZXNzZnVsLlxuICAgICAgICAgKi9cbiAgICAgICAgY2hlY2tvdXRSZWZlcmVuY2UocmVmZXJlbmNlOiBzdHJpbmcsIGNyZWF0ZTogYm9vbGVhbik6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHcmFtbWFyIHRoYXQgdG9rZW5pemVzIGxpbmVzIG9mIHRleHQuXG4gICAgICpcbiAgICAgKiBUaGlzIGNsYXNzIHNob3VsZCBub3QgYmUgaW5zdGFudGlhdGVkIGRpcmVjdGx5IGJ1dCBpbnN0ZWFkIG9idGFpbmVkIGZyb21cbiAgICAgKiBhIHtHcmFtbWFyUmVnaXN0cnl9IGJ5IGNhbGxpbmcge0dyYW1tYXJSZWdpc3RyeTo6bG9hZEdyYW1tYXJ9LlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2dyYW1tYXIuY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS9maXJzdC1tYXRlL2Jsb2IvdjYuMy4wL3NyYy9ncmFtbWFyLmNvZmZlZSNMMTlcbiAgICAgKi9cbiAgICBjbGFzcyBHcmFtbWFyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGlzIGdyYW1tYXIgaXMgdXBkYXRlZCBkdWUgdG8gYVxuICAgICAgICAgKiBncmFtbWFyIGl0IGRlcGVuZHMgb24gYmVpbmcgYWRkZWQgb3IgcmVtb3ZlZCBmcm9tIHRoZSByZWdpc3RyeS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBjYWxsIHdoZW4gdGhpcyBncmFtbWFyIGlzIHVwZGF0ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRVcGRhdGUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRva2VuaXplIGFsbCBsaW5lcyBpbiB0aGUgZ2l2ZW4gdGV4dC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gY29udGFpbmluZyBvbmUgb3IgbW9yZSBsaW5lcy5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2YgdG9rZW4gYXJyYXlzIGZvciBlYWNoIGxpbmUgdG9rZW5pemVkLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9rZW5pemVMaW5lcyh0ZXh0OiBzdHJpbmcpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRva2VuaXplIHRoZSBsaW5lIG9mIHRleHQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IG9mIHRleHQgdG8gdG9rZW5pemUuXG4gICAgICAgICAqIEBwYXJhbSB7YW55W119IEFuIG9wdGlvbmFsIHtBcnJheX0gb2YgcnVsZXMgcHJldmlvdXNseSByZXR1cm5lZCBmcm9tIHRoaXMgbWV0aG9kLiBUaGlzIHNob3VsZCBiZSBudWxsIHdoZW4gdG9rZW5pemluZyB0aGUgZmlyc3QgbGluZSBpbiB0aGUgZmlsZS5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBBIG9wdGlvbmFsIHtCb29sZWFufSBkZW5vdGluZyB3aGV0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGxpbmUgaW4gdGhlIGZpbGUgd2hpY2ggZGVmYXVsdHMgdG8gYGZhbHNlYC4gVGhpcyBzaG91bGQgYmUgYHRydWVgIHdoZW4gdG9rZW5pemluZyB0aGUgZmlyc3QgbGluZSBpbiB0aGUgZmlsZS5cbiAgICAgICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiB7T2JqZWN0fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgcHJvcGVydGllczpcblxuICAgICAgICAqIGBsaW5lYCBUaGUge1N0cmluZ30gb2YgdGV4dCB0aGF0IHdhcyB0b2tlbml6ZWQuXG4gICAgICAgICogYHRhZ3NgIEFuIHtBcnJheX0gb2YgaW50ZWdlciBzY29wZSBpZHMgYW5kIHN0cmluZ3MuIFBvc2l0aXZlIGlkc1xuICAgICAgICAgIGluZGljYXRlIHRoZSBiZWdpbm5pbmcgb2YgYSBzY29wZSwgYW5kIG5lZ2F0aXZlIHRhZ3MgaW5kaWNhdGUgdGhlIGVuZC5cbiAgICAgICAgICBUbyByZXNvbHZlIGlkcyB0byBzY29wZSBuYW1lcywgY2FsbCB7R3JhbW1hclJlZ2lzdHJ5OjpzY29wZUZvcklkfSB3aXRoIHRoZVxuICAgICAgICAgIGFic29sdXRlIHZhbHVlIG9mIHRoZSBpZC5cbiAgICAgICAgKiBgdG9rZW5zYCBUaGlzIGlzIGEgZHluYW1pYyBwcm9wZXJ0eS4gSW52b2tpbmcgaXQgd2lsbCBpbmN1ciBhZGRpdGlvbmFsXG4gICAgICAgICAgb3ZlcmhlYWQsIGJ1dCB3aWxsIGF1dG9tYXRpY2FsbHkgdHJhbnNsYXRlIHRoZSBgdGFnc2AgaW50byB0b2tlbiBvYmplY3RzXG4gICAgICAgICAgd2l0aCBgdmFsdWVgIGFuZCBgc2NvcGVzYCBwcm9wZXJ0aWVzLlxuICAgICAgICAqIGBydWxlU3RhY2tgIEFuIHtBcnJheX0gb2YgcnVsZXMgcmVwcmVzZW50aW5nIHRoZSB0b2tlbml6ZWQgc3RhdGUgYXQgdGhlXG4gICAgICAgICAgZW5kIG9mIHRoZSBsaW5lLiBUaGVzZSBzaG91bGQgYmUgcGFzc2VkIGJhY2sgaW50byB0aGlzIG1ldGhvZCB3aGVuXG4gICAgICAgICAgdG9rZW5pemluZyB0aGUgbmV4dCBsaW5lIGluIHRoZSBmaWxlLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9rZW5pemVMaW5lKGxpbmU6IHN0cmluZywgcnVsZVN0YWNrOiBhbnlbXSwgZmlyc3RMaW5lOiBib29sZWFuKTogT2JqZWN0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlZ2lzdHJ5IGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgZ3JhbW1hcnMuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvZ3JhbW1hci1yZWdpc3RyeS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2ZpcnN0LW1hdGUvYmxvYi92Ni4zLjAvc3JjL2dyYW1tYXItcmVnaXN0cnkuY29mZmVlI0wxMVxuICAgICAqL1xuICAgIGNsYXNzIEdyYW1tYXJSZWdpc3RyeSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBncmFtbWFyIGlzIGFkZGVkIHRvIHRoZSByZWdpc3RyeS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBjYWxsIHdoZW4gYSBncmFtbWFyIGlzIGFkZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkR3JhbW1hcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIGEgZ3JhbW1hciBpcyB1cGRhdGVkIGR1ZSB0byBhIGdyYW1tYXJcbiAgICAgICAgICogaXQgZGVwZW5kcyBvbiBiZWluZyBhZGRlZCBvciByZW1vdmVkIGZyb20gdGhlIHJlZ2lzdHJ5LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGNhbGwgd2hlbiBhIGdyYW1tYXIgaXMgdXBkYXRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZFVwZGF0ZUdyYW1tYXIoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbGwgdGhlIGdyYW1tYXJzIGluIHRoaXMgcmVnaXN0cnkuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhIG5vbi1lbXB0eSB7QXJyYXl9IG9mIHtHcmFtbWFyfSBpbnN0YW5jZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRHcmFtbWFycygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIGdyYW1tYXIgd2l0aCB0aGUgZ2l2ZW4gc2NvcGUgbmFtZS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gc3VjaCBhcyBgXCJzb3VyY2UuanNcImAuXG4gICAgICAgICAqIEByZXR1cm5zIHtHcmFtbWFyfSBSZXR1cm5zIGEge0dyYW1tYXJ9IG9yIC5cbiAgICAgICAgICovXG4gICAgICAgIGdyYW1tYXJGb3JTY29wZU5hbWUoc2NvcGVOYW1lOiBzdHJpbmcpOiBHcmFtbWFyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgZ3JhbW1hciB0byB0aGlzIHJlZ2lzdHJ5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBBICdncmFtbWFyLWFkZGVkJyBldmVudCBpcyBlbWl0dGVkIGFmdGVyIHRoZSBncmFtbWFyIGlzIGFkZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0dyYW1tYXJ9IFRoZSB7R3JhbW1hcn0gdG8gYWRkLiBUaGlzIHNob3VsZCBiZSBhIHZhbHVlIHByZXZpb3VzbHkgcmV0dXJuZWQgZnJvbSB7OjpyZWFkR3JhbW1hcn0gb3Igezo6cmVhZEdyYW1tYXJTeW5jfS5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZVxuICAgICAgICBncmFtbWFyLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkR3JhbW1hcihncmFtbWFyOiBHcmFtbWFyKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZSB0aGUgZ3JhbW1hciB3aXRoIHRoZSBnaXZlbiBzY29wZSBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSBzdWNoIGFzIGBcInNvdXJjZS5qc1wiYC5cbiAgICAgICAgICogQHJldHVybnMge0dyYW1tYXJ9IFJldHVybnMgdGhlIHJlbW92ZWQge0dyYW1tYXJ9IG9yIC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbW92ZUdyYW1tYXJGb3JTY29wZU5hbWUoc2NvcGVOYW1lOiBzdHJpbmcpOiBHcmFtbWFyO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVhZCBhIGdyYW1tYXIgc3luY2hyb25vdXNseSBidXQgZG9uJ3QgYWRkIGl0IHRvIHRoZSByZWdpc3RyeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gYWJzb2x1dGUgZmlsZSBwYXRoIHRvIGEgZ3JhbW1hciBmaWxlLlxuICAgICAgICAgKiBAcmV0dXJucyB7R3JhbW1hcn0gUmV0dXJucyBhIHtHcmFtbWFyfS5cbiAgICAgICAgICovXG4gICAgICAgIHJlYWRHcmFtbWFyU3luYyhncmFtbWFyUGF0aDogc3RyaW5nKTogR3JhbW1hcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlYWQgYSBncmFtbWFyIGFzeW5jaHJvbm91c2x5IGJ1dCBkb24ndCBhZGQgaXQgdG8gdGhlIHJlZ2lzdHJ5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSBhYnNvbHV0ZSBmaWxlIHBhdGggdG8gYSBncmFtbWFyIGZpbGUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0byBjYWxsIHdoZW4gcmVhZCB3aXRoIHRoZSBmb2xsb3dpbmcgYXJndW1lbnRzOlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyAuXG4gICAgICAgICAqL1xuICAgICAgICByZWFkR3JhbW1hcihncmFtbWFyUGF0aDogc3RyaW5nLCBjYWxsYmFjazogRnVuY3Rpb24pOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWFkIGEgZ3JhbW1hciBzeW5jaHJvbm91c2x5IGFuZCBhZGQgaXQgdG8gdGhpcyByZWdpc3RyeS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gYWJzb2x1dGUgZmlsZSBwYXRoIHRvIGEgZ3JhbW1hciBmaWxlLlxuICAgICAgICAgKiBAcmV0dXJucyB7R3JhbW1hcn0gUmV0dXJucyBhIHtHcmFtbWFyfS5cbiAgICAgICAgICovXG4gICAgICAgIGxvYWRHcmFtbWFyU3luYyhncmFtbWFyUGF0aDogc3RyaW5nKTogR3JhbW1hcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlYWQgYSBncmFtbWFyIGFzeW5jaHJvbm91c2x5IGFuZCBhZGQgaXQgdG8gdGhlIHJlZ2lzdHJ5LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSBhYnNvbHV0ZSBmaWxlIHBhdGggdG8gYSBncmFtbWFyIGZpbGUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0byBjYWxsIHdoZW4gbG9hZGVkIHdpdGggdGhlIGZvbGxvd2luZyBhcmd1bWVudHM6XG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIC5cbiAgICAgICAgICovXG4gICAgICAgIGxvYWRHcmFtbWFyKGdyYW1tYXJQYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiBGdW5jdGlvbik6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgZ3V0dGVyIHdpdGhpbiBhIHtUZXh0RWRpdG9yfS5cbiAgICAgKlxuICAgICAqIFNlZSB7VGV4dEVkaXRvcjo6YWRkR3V0dGVyfSBmb3IgaW5mb3JtYXRpb24gb24gY3JlYXRpbmcgYSBndXR0ZXIuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvZ3V0dGVyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2d1dHRlci5jb2ZmZWUjTDlcbiAgICAgKi9cbiAgICBjbGFzcyBHdXR0ZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdHJveXMgdGhlIGd1dHRlci5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIHRoZSBndXR0ZXIncyB2aXNpYmlsaXR5IGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZVZpc2libGUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIHRoZSBndXR0ZXIgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREZXN0cm95KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBIaWRlIHRoZSBndXR0ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBoaWRlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaG93IHRoZSBndXR0ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBzaG93KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ3V0dGVyIGlzIHZpc2libGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNWaXNpYmxlKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBkZWNvcmF0aW9uIHRoYXQgdHJhY2tzIGEge0Rpc3BsYXlNYXJrZXJ9LiBXaGVuIHRoZSBtYXJrZXIgbW92ZXMsXG4gICAgICAgICAqIGlzIGludmFsaWRhdGVkLCBvciBpcyBkZXN0cm95ZWQsIHRoZSBkZWNvcmF0aW9uIHdpbGwgYmUgdXBkYXRlZCB0byByZWZsZWN0XG4gICAgICAgICAqIHRoZSBtYXJrZXIncyBzdGF0ZS5cbiAgICAgICAgICogQHBhcmFtIHtEaXNwbGF5TWFya2VyfSBBIHtEaXNwbGF5TWFya2VyfSB5b3Ugd2FudCB0aGlzIGRlY29yYXRpb24gdG8gZm9sbG93LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gcmVwcmVzZW50aW5nIHRoZSBkZWNvcmF0aW9uLiBJdCBpcyBwYXNzZWQgdG8ge1RleHRFZGl0b3I6OmRlY29yYXRlTWFya2VyfSBhcyBpdHMgYGRlY29yYXRpb25QYXJhbXNgIGFuZCBzbyBzdXBwb3J0cyBhbGwgb3B0aW9ucyBkb2N1bWVudGVkIHRoZXJlLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGVjb3JhdGlvbn0gUmV0dXJucyBhIHtEZWNvcmF0aW9ufSBvYmplY3RcbiAgICAgICAgICovXG4gICAgICAgIGRlY29yYXRlTWFya2VyKG1hcmtlcjogRGlzcGxheU1hcmtlciwgZGVjb3JhdGlvblBhcmFtczogT2JqZWN0KTogRGVjb3JhdGlvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBIaXN0b3J5IG1hbmFnZXIgZm9yIHJlbWVtYmVyaW5nIHdoaWNoIHByb2plY3RzIGhhdmUgYmVlbiBvcGVuZWQuXG4gICAgICpcbiAgICAgKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGFsd2F5cyBhdmFpbGFibGUgYXMgdGhlIGBhdG9tLmhpc3RvcnlgIGdsb2JhbC5cbiAgICAgKlxuICAgICAqIFRoZSBwcm9qZWN0IGhpc3RvcnkgaXMgdXNlZCB0byBlbmFibGUgdGhlICdSZW9wZW4gUHJvamVjdCcgbWVudS5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9oaXN0b3J5LW1hbmFnZXIuanNcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9oaXN0b3J5LW1hbmFnZXIuanMjTDEwXG4gICAgICovXG4gICAgY2xhc3MgSGlzdG9yeU1hbmFnZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogT2J0YWluIGEgbGlzdCBvZiBwcmV2aW91c2x5IG9wZW5lZCBwcm9qZWN0cy5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge0hpc3RvcnlQcm9qZWN0fSBvYmplY3RzLCBtb3N0IHJlY2VudCBmaXJzdC5cbiAgICAgICAgICovXG4gICAgICAgIGdldFByb2plY3RzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xlYXIgYWxsIHByb2plY3RzIGZyb20gdGhlIGhpc3RvcnkuXG4gICAgICAgICAqXG4gICAgICAgICAqIE5vdGU6IFRoaXMgaXMgbm90IGEgcHJpdmFjeSBmdW5jdGlvbiAtIG90aGVyIHRyYWNlcyB3aWxsIHN0aWxsIGV4aXN0LFxuICAgICAgICAgKiBlLmcuIHdpbmRvdyBzdGF0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyUHJvamVjdHMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgbGlzdCBvZiBwcm9qZWN0cyBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VQcm9qZWN0cyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFsbG93cyBjb21tYW5kcyB0byBiZSBhc3NvY2lhdGVkIHdpdGgga2V5c3Ryb2tlcyBpbiBhXG4gICAgICogY29udGV4dC1zZW5zaXRpdmUgd2F5LiBJbiBBdG9tLCB5b3UgY2FuIGFjY2VzcyBhIGdsb2JhbCBpbnN0YW5jZSBvZiB0aGlzXG4gICAgICogb2JqZWN0IHZpYSBgYXRvbS5rZXltYXBzYC5cbiAgICAgKlxuICAgICAqIEtleSBiaW5kaW5ncyBhcmUgcGxhaW4gSmF2YVNjcmlwdCBvYmplY3RzIGNvbnRhaW5pbmcgKipDU1Mgc2VsZWN0b3JzKiogYXNcbiAgICAgKiB0aGVpciB0b3AgbGV2ZWwga2V5cywgdGhlbiAqKmtleXN0cm9rZSBwYXR0ZXJucyoqIG1hcHBlZCB0byBjb21tYW5kcy5cbiAgICAgKlxuICAgICAqIGBgYGNzb25cbiAgICAgKiAnLndvcmtzcGFjZSc6XG4gICAgICogICAnY3RybC1sJzogJ3BhY2thZ2U6ZG8tc29tZXRoaW5nJ1xuICAgICAqICAgJ2N0cmwteic6ICdwYWNrYWdlOmRvLXNvbWV0aGluZy1lbHNlJ1xuICAgICAqICcubWluaS5lZGl0b3InOlxuICAgICAqICAgJ2VudGVyJzogJ2NvcmU6Y29uZmlybSdcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFdoZW4gYSBrZXlzdHJva2Ugc2VxdWVuY2UgbWF0Y2hlcyBhIGJpbmRpbmcgaW4gYSBnaXZlbiBjb250ZXh0LCBhIGN1c3RvbSBET01cbiAgICAgKiBldmVudCB3aXRoIGEgdHlwZSBiYXNlZCBvbiB0aGUgY29tbWFuZCBpcyBkaXNwYXRjaGVkIG9uIHRoZSB0YXJnZXQgb2YgdGhlXG4gICAgICoga2V5Ym9hcmQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBUbyBtYXRjaCBhIGtleXN0cm9rZSBzZXF1ZW5jZSwgdGhlIGtleW1hcCBzdGFydHMgYXQgdGhlIHRhcmdldCBlbGVtZW50IGZvciB0aGVcbiAgICAgKiBrZXlib2FyZCBldmVudC4gSXQgbG9va3MgZm9yIGtleSBiaW5kaW5ncyBhc3NvY2lhdGVkIHdpdGggc2VsZWN0b3JzIHRoYXQgbWF0Y2hcbiAgICAgKiB0aGUgdGFyZ2V0IGVsZW1lbnQuIElmIG11bHRpcGxlIG1hdGNoLCB0aGUgbW9zdCBzcGVjaWZpYyBpcyBzZWxlY3RlZC4gSWYgdGhlcmVcbiAgICAgKiBpcyBhIHRpZSBpbiBzcGVjaWZpY2l0eSwgdGhlIG1vc3QgcmVjZW50bHkgYWRkZWQgYmluZGluZyB3aW5zLiBJZiBubyBiaW5kaW5nc1xuICAgICAqIGFyZSBmb3VuZCBmb3IgdGhlIGV2ZW50cyB0YXJnZXQsIHRoZSBzZWFyY2ggaXMgcmVwZWF0ZWQgYWdhaW4gZm9yIHRoZSB0YXJnZXQnc1xuICAgICAqIHBhcmVudCBub2RlIGFuZCBzbyBvbiByZWN1cnNpdmVseSB1bnRpbCBhIGJpbmRpbmcgaXMgZm91bmQgb3Igd2UgdHJhdmVyc2Ugb2ZmXG4gICAgICogdGhlIHRvcCBvZiB0aGUgZG9jdW1lbnQuXG4gICAgICpcbiAgICAgKiBXaGVuIGEgYmluZGluZyBpcyBmb3VuZCwgaXRzIGNvbW1hbmQgZXZlbnQgaXMgYWx3YXlzIGRpc3BhdGNoZWQgb24gdGhlXG4gICAgICogb3JpZ2luYWwgdGFyZ2V0IG9mIHRoZSBrZXlib2FyZCBldmVudCwgZXZlbiBpZiB0aGUgbWF0Y2hpbmcgZWxlbWVudCBpcyBoaWdoZXJcbiAgICAgKiB1cCBpbiB0aGUgRE9NLiBJbiBhZGRpdGlvbiwgYC5wcmV2ZW50RGVmYXVsdCgpYCBpcyBjYWxsZWQgb24gdGhlIGtleWJvYXJkXG4gICAgICogZXZlbnQgdG8gcHJldmVudCB0aGUgYnJvd3NlciBmcm9tIHRha2luZyBhY3Rpb24uIGAucHJldmVudERlZmF1bHRgIGlzIG9ubHlcbiAgICAgKiBjYWxsZWQgaWYgYSBtYXRjaGluZyBiaW5kaW5nIGlzIGZvdW5kLlxuICAgICAqXG4gICAgICogQ29tbWFuZCBldmVudCBvYmplY3RzIGhhdmUgYSBub24tc3RhbmRhcmQgbWV0aG9kIGNhbGxlZCBgLmFib3J0S2V5QmluZGluZygpYC5cbiAgICAgKiBJZiB5b3VyIGNvbW1hbmQgaGFuZGxlciBpcyBpbnZva2VkIGJ1dCB5b3UgcHJvZ3JhbW1hdGljYWxseSBkZXRlcm1pbmUgdGhhdCBub1xuICAgICAqIGFjdGlvbiBjYW4gYmUgdGFrZW4gYW5kIHlvdSB3YW50IHRvIGFsbG93IG90aGVyIGJpbmRpbmdzIHRvIGJlIG1hdGNoZWQsIGNhbGxcbiAgICAgKiBgLmFib3J0S2V5QmluZGluZygpYCBvbiB0aGUgZXZlbnQgb2JqZWN0LiBBbiBleGFtcGxlIG9mIHdoZXJlIHRoaXMgaXMgdXNlZnVsXG4gICAgICogaXMgYmluZGluZyBzbmlwcGV0IGV4cGFuc2lvbiB0byBgdGFiYC4gSWYgYHNuaXBwZXRzOmV4cGFuZGAgaXMgaW52b2tlZCB3aGVuXG4gICAgICogdGhlIGN1cnNvciBkb2VzIG5vdCBmb2xsb3cgYSB2YWxpZCBzbmlwcGV0IHByZWZpeCwgd2UgYWJvcnQgdGhlIGJpbmRpbmcgYW5kXG4gICAgICogYWxsb3cgYHRhYmAgdG8gYmUgaGFuZGxlZCBieSB0aGUgZGVmYXVsdCBoYW5kbGVyLCB3aGljaCBpbnNlcnRzIHdoaXRlc3BhY2UuXG4gICAgICpcbiAgICAgKiBNdWx0aS1rZXlzdHJva2UgYmluZGluZ3MgYXJlIHBvc3NpYmxlLiBJZiBhIHNlcXVlbmNlIG9mIG9uZSBvciBtb3JlIGtleXN0cm9rZXNcbiAgICAgKiAqcGFydGlhbGx5KiBtYXRjaGVzIGEgbXVsdGkta2V5c3Ryb2tlIGJpbmRpbmcsIHRoZSBrZXltYXAgZW50ZXJzIGEgcGVuZGluZ1xuICAgICAqIHN0YXRlLiBUaGUgcGVuZGluZyBzdGF0ZSBpcyB0ZXJtaW5hdGVkIG9uIHRoZSBuZXh0IGtleXN0cm9rZSwgb3IgYWZ0ZXJcbiAgICAgKiB7OjpwYXJ0aWFsTWF0Y2hUaW1lb3V0fSBtaWxsaXNlY29uZHMgaGFzIGVsYXBzZWQuIFdoZW4gdGhlIHBlbmRpbmcgc3RhdGUgaXNcbiAgICAgKiB0ZXJtaW5hdGVkIHZpYSBhIHRpbWVvdXQgb3IgYSBrZXlzdHJva2UgdGhhdCBsZWFkcyB0byBubyBtYXRjaGVzLCB0aGUgbG9uZ2VzdFxuICAgICAqIGFtYmlndW91cyBiaW5kaW5ncyB0aGF0IGNhdXNlZCB0aGUgcGVuZGluZyBzdGF0ZSBhcmUgdGVtcG9yYXJpbHkgZGlzYWJsZWQgYW5kXG4gICAgICogdGhlIHByZXZpb3VzIGtleXN0cm9rZXMgYXJlIHJlcGxheWVkLiBJZiB0aGVyZSBpcyBhbWJpZ3VpdHkgYWdhaW4gZHVyaW5nIHRoZVxuICAgICAqIHJlcGxheSwgdGhlIG5leHQgbG9uZ2VzdCBiaW5kaW5ncyBhcmUgZGlzYWJsZWQgYW5kIHRoZSBrZXlzdHJva2VzIGFyZSByZXBsYXllZFxuICAgICAqIGFnYWluLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL2tleW1hcC1tYW5hZ2VyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS1rZXltYXAvYmxvYi92Ny4xLjIwL3NyYy9rZXltYXAtbWFuYWdlci5jb2ZmZWUjTDY2XG4gICAgICovXG4gICAgY2xhc3MgS2V5bWFwTWFuYWdlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBrZXlkb3duIERPTSBldmVudCBmb3IgdGVzdGluZyBwdXJwb3Nlcy5cbiAgICAgICAgICogQHBhcmFtICBUaGUga2V5IG9yIGtleUlkZW50aWZpZXIgb2YgdGhlIGV2ZW50LiBGb3IgZXhhbXBsZSwgYCdhJ2AsIGAnMSdgLCBgJ2VzY2FwZSdgLCBgJ2JhY2tzcGFjZSdgLCBldGMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSBjb250YWluaW5nIGFueSBvZiB0aGUgZm9sbG93aW5nOlxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIGJ1aWxkS2V5ZG93bkV2ZW50KGtleTogYW55LCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IEtleW1hcE1hbmFnZXIuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSBjb250YWluaW5nIHByb3BlcnRpZXMgdG8gYXNzaWduIHRvIHRoZSBrZXltYXAuICBZb3UgY2FuIHBhc3MgY3VzdG9tIHByb3BlcnRpZXMgdG8gYmUgdXNlZCBieSBleHRlbnNpb24gbWV0aG9kcy4gVGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzIGFyZSBhbHNvIHN1cHBvcnRlZDpcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKG9wdGlvbnM6IE9iamVjdCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhciBhbGwgcmVnaXN0ZXJlZCBrZXkgYmluZGluZ3MgYW5kIGVucXVldWVkIGtleXN0cm9rZXMuIEZvciB1c2VcbiAgICAgICAgICogaW4gdGVzdHMuXG4gICAgICAgICAqL1xuICAgICAgICBjbGVhcigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW53YXRjaCBhbGwgd2F0Y2hlZCBwYXRocy5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBvbmUgb3IgbW9yZSBrZXlzdHJva2VzIGNvbXBsZXRlbHlcbiAgICAgICAgICogbWF0Y2ggYSBrZXkgYmluZGluZy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiBrZXlzdHJva2VzIG1hdGNoIGEgYmluZGluZy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZE1hdGNoQmluZGluZyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIG9uZSBvciBtb3JlIGtleXN0cm9rZXMgcGFydGlhbGx5XG4gICAgICAgICAqIG1hdGNoIGEgYmluZGluZy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiBrZXlzdHJva2VzIHBhcnRpYWxseSBtYXRjaCBhIGJpbmRpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRQYXJ0aWFsbHlNYXRjaEJpbmRpbmdzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gb25lIG9yIG1vcmUga2V5c3Ryb2tlcyBmYWlsIHRvIG1hdGNoXG4gICAgICAgICAqIGFueSBiaW5kaW5ncy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiBrZXlzdHJva2VzIGZhaWwgdG8gbWF0Y2ggYW55IGJpbmRpbmdzLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRmFpbFRvTWF0Y2hCaW5kaW5nKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBrZXltYXAgZmlsZSBub3QgYWJsZSB0byBiZSBsb2FkZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gYSBrZXltYXAgZmlsZSBpcyB1bmxvYWRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZEZhaWxUb1JlYWRGaWxlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgc2V0cyBvZiBrZXkgYmluZGluZ3MgZ3JvdXBlZCBieSBDU1Mgc2VsZWN0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9ICh1c3VhbGx5IGEgcGF0aCkgdW5pcXVlbHkgaWRlbnRpZnlpbmcgdGhlIGdpdmVuIGJpbmRpbmdzIHNvIHRoZXkgY2FuIGJlIHJlbW92ZWQgbGF0ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aG9zZSB0b3AtbGV2ZWwga2V5cyBwb2ludCBhdCBzdWItb2JqZWN0cyBtYXBwaW5nIGtleXN0cm9rZSBwYXR0ZXJucyB0byBjb21tYW5kcy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gdXNlZCB0byBzb3J0IGtleWJpbmRpbmdzIHdoaWNoIGhhdmUgdGhlIHNhbWUgc3BlY2lmaWNpdHkuIERlZmF1bHRzIHRvIGAwYC5cbiAgICAgICAgICovXG4gICAgICAgIGFkZChzb3VyY2U6IHN0cmluZywgYmluZGluZ3M6IE9iamVjdCwgcHJpb3JpdHk6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYWxsIGN1cnJlbnQga2V5IGJpbmRpbmdzLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7S2V5QmluZGluZ31zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0S2V5QmluZGluZ3MoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGtleSBiaW5kaW5ncyBmb3IgYSBnaXZlbiBjb21tYW5kIGFuZCBvcHRpb25hbCB0YXJnZXQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aG9zZSBrZXlzIGNvbnN0cmFpbiB0aGUgYmluZGluZyBzZWFyY2g6XG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIGtleSBiaW5kaW5ncy5cbiAgICAgICAgICovXG4gICAgICAgIGZpbmRLZXlCaW5kaW5ncyhwYXJhbXM6IE9iamVjdCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTG9hZCB0aGUga2V5IGJpbmRpbmdzIGZyb20gdGhlIGdpdmVuIHBhdGguXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IGNvbnRhaW5pbmcgYSBwYXRoIHRvIGEgZmlsZSBvciBhIGRpcmVjdG9yeS4gSWYgdGhlIHBhdGggaXMgYSBkaXJlY3RvcnksIGFsbCBmaWxlcyBpbnNpZGUgaXQgd2lsbCBiZSBsb2FkZWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgb3B0aW9uYWwga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIGxvYWRLZXltYXAocGF0aDogc3RyaW5nLCBvcHRpb25zOiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2F1c2UgdGhlIGtleW1hcCB0byByZWxvYWQgdGhlIGtleSBiaW5kaW5ncyBmaWxlIGF0IHRoZSBnaXZlbiBwYXRoXG4gICAgICAgICAqIHdoZW5ldmVyIGl0IGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIGRvZXNuJ3QgcGVyZm9ybSB0aGUgaW5pdGlhbCBsb2FkIG9mIHRoZSBrZXkgYmluZGluZ3MgZmlsZS4gSWZcbiAgICAgICAgICogdGhhdCdzIHdoYXQgeW91J3JlIGxvb2tpbmcgZm9yLCBjYWxsIHs6OmxvYWRLZXltYXB9IHdpdGggYHdhdGNoOiB0cnVlYC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gY29udGFpbmluZyBhIHBhdGggdG8gYSBmaWxlIG9yIGEgZGlyZWN0b3J5LiBJZiB0aGUgcGF0aCBpcyBhIGRpcmVjdG9yeSwgYWxsIGZpbGVzIGluc2lkZSBpdCB3aWxsIGJlIGxvYWRlZC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IGNvbnRhaW5pbmcgdGhlIGZvbGxvd2luZyBvcHRpb25hbCBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgd2F0Y2hLZXltYXAocGF0aDogc3RyaW5nLCBvcHRpb25zOiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGlzcGF0Y2ggYSBjdXN0b20gZXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBtYXRjaGluZyBrZXkgYmluZGluZyBmb3JcbiAgICAgICAgICogdGhlIGdpdmVuIGBLZXlib2FyZEV2ZW50YCBpZiBvbmUgY2FuIGJlIGZvdW5kLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBhIG1hdGNoaW5nIGJpbmRpbmcgaXMgZm91bmQgb24gdGhlIGV2ZW50J3MgdGFyZ2V0IG9yIG9uZSBvZiBpdHNcbiAgICAgICAgICogYW5jZXN0b3JzLCBgLnByZXZlbnREZWZhdWx0KClgIGlzIGNhbGxlZCBvbiB0aGUga2V5Ym9hcmQgZXZlbnQgYW5kIHRoZVxuICAgICAgICAgKiBiaW5kaW5nJ3MgY29tbWFuZCBpcyBlbWl0dGVkIGFzIGEgY3VzdG9tIGV2ZW50IG9uIHRoZSBtYXRjaGluZyBlbGVtZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgbWF0Y2hpbmcgYmluZGluZydzIGNvbW1hbmQgaXMgJ25hdGl2ZSEnLCB0aGUgbWV0aG9kIHdpbGwgdGVybWluYXRlXG4gICAgICAgICAqIHdpdGhvdXQgY2FsbGluZyBgLnByZXZlbnREZWZhdWx0KClgIG9uIHRoZSBrZXlib2FyZCBldmVudCwgYWxsb3dpbmcgdGhlXG4gICAgICAgICAqIGJyb3dzZXIgdG8gaGFuZGxlIGl0IGFzIG5vcm1hbC5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIG1hdGNoaW5nIGJpbmRpbmcncyBjb21tYW5kIGlzICd1bnNldCEnLCB0aGUgc2VhcmNoIHdpbGwgY29udGludWUgZnJvbVxuICAgICAgICAgKiB0aGUgY3VycmVudCBlbGVtZW50J3MgcGFyZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgbWF0Y2hpbmcgYmluZGluZydzIGNvbW1hbmQgaXMgJ2Fib3J0IScsIHRoZSBzZWFyY2ggd2lsbCB0ZXJtaW5hdGVcbiAgICAgICAgICogd2l0aG91dCBkaXNwYXRjaGluZyBhIGNvbW1hbmQgZXZlbnQuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBldmVudCdzIHRhcmdldCBpcyBgZG9jdW1lbnQuYm9keWAsIGl0IHdpbGwgYmUgdHJlYXRlZCBhcyBpZiBpdHNcbiAgICAgICAgICogdGFyZ2V0IGlzIGAuZGVmYXVsdFRhcmdldGAgaWYgdGhhdCBwcm9wZXJ0eSBpcyBhc3NpZ25lZCBvbiB0aGUga2V5bWFwLlxuICAgICAgICAgKiBAcGFyYW0gIEEgYEtleWJvYXJkRXZlbnRgIG9mIHR5cGUgJ2tleWRvd24nXG4gICAgICAgICAqL1xuICAgICAgICBoYW5kbGVLZXlib2FyZEV2ZW50KGV2ZW50OiBhbnkpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVHJhbnNsYXRlIGEga2V5ZG93biBldmVudCB0byBhIGtleXN0cm9rZSBzdHJpbmcuXG4gICAgICAgICAqIEBwYXJhbSAgQSBgS2V5Ym9hcmRFdmVudGAgb2YgdHlwZSAna2V5ZG93bidcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHtTdHJpbmd9IGRlc2NyaWJpbmcgdGhlIGtleXN0cm9rZS5cbiAgICAgICAgICovXG4gICAgICAgIGtleXN0cm9rZUZvcktleWJvYXJkRXZlbnQoZXZlbnQ6IGFueSk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1c3RvbWl6ZSB0cmFuc2xhdGlvbiBvZiByYXcga2V5Ym9hcmQgZXZlbnRzIHRvIGtleXN0cm9rZSBzdHJpbmdzLlxuICAgICAgICAgKiBUaGlzIEFQSSBpcyB1c2VmdWwgZm9yIHdvcmtpbmcgYXJvdW5kIENocm9tZSBidWdzIG9yIGNoYW5naW5nIGhvdyBBdG9tXG4gICAgICAgICAqIHJlc29sdmVzIGNlcnRhaW4ga2V5IGNvbWJpbmF0aW9ucy4gSWYgbXVsdGlwbGUgcmVzb2x2ZXJzIGFyZSBpbnN0YWxsZWQsXG4gICAgICAgICAqIHRoZSBtb3N0IHJlY2VudGx5LWFkZGVkIHJlc29sdmVyIHJldHVybmluZyBhIHN0cmluZyBmb3IgYSBnaXZlbiBrZXlzdHJva2VcbiAgICAgICAgICogdGFrZXMgcHJlY2VkZW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRoYXQgcmV0dXJucyBhIGtleXN0cm9rZSB7U3RyaW5nfSBhbmQgaXMgY2FsbGVkICB3aXRoIGFuIG9iamVjdCBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gdGhhdCByZW1vdmVzIHRoZSBhZGRlZCByZXNvbHZlci5cbiAgICAgICAgICovXG4gICAgICAgIGFkZEtleXN0cm9rZVJlc29sdmVyKHJlc29sdmVyOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgYWxsb3dlZCBiZWZvcmUgcGVuZGluZyBzdGF0ZXMgY2F1c2VkXG4gICAgICAgICAqIGJ5IHBhcnRpYWwgbWF0Y2hlcyBvZiBtdWx0aS1rZXlzdHJva2UgYmluZGluZ3MgYXJlIHRlcm1pbmF0ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGFydGlhbE1hdGNoVGltZW91dCgpOiBudW1iZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIGRlY29yYXRpb24gdGhhdCBhcHBsaWVzIHRvIGV2ZXJ5IG1hcmtlciBvbiBhIGdpdmVuXG4gICAgICogbGF5ZXIuIENyZWF0ZWQgdmlhIHtUZXh0RWRpdG9yOjpkZWNvcmF0ZU1hcmtlckxheWVyfS5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9sYXllci1kZWNvcmF0aW9uLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL2xheWVyLWRlY29yYXRpb24uY29mZmVlI0w3XG4gICAgICovXG4gICAgY2xhc3MgTGF5ZXJEZWNvcmF0aW9uIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3lzIHRoZSBkZWNvcmF0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhpcyBkZWNvcmF0aW9uIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0Rlc3Ryb3llZCgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoaXMgZGVjb3JhdGlvbidzIHByb3BlcnRpZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4ge09iamVjdH0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRQcm9wZXJ0aWVzKCk6IE9iamVjdDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGlzIGRlY29yYXRpb24ncyBwcm9wZXJ0aWVzLlxuICAgICAgICAgKiBAcGFyYW0gIFNlZSB7VGV4dEVkaXRvcjo6ZGVjb3JhdGVNYXJrZXJ9IGZvciBtb3JlIGluZm9ybWF0aW9uIG9uIHRoZSBwcm9wZXJ0aWVzLiBUaGUgYHR5cGVgIG9mIGBndXR0ZXJgIGFuZCBgb3ZlcmxheWAgYXJlIG5vdCBzdXBwb3J0ZWQgb24gbGF5ZXIgZGVjb3JhdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRQcm9wZXJ0aWVzKG5ld1Byb3BlcnRpZXM6IGFueSk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdmVycmlkZSB0aGUgZGVjb3JhdGlvbiBwcm9wZXJ0aWVzIGZvciBhIHNwZWNpZmljIG1hcmtlci5cbiAgICAgICAgICogQHBhcmFtIHtEaXNwbGF5TWFya2VyfSBUaGUge0Rpc3BsYXlNYXJrZXJ9IG9yIHtNYXJrZXJ9IGZvciB3aGljaCB0byBvdmVycmlkZSBwcm9wZXJ0aWVzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gY29udGFpbmluZyBwcm9wZXJ0aWVzIHRvIGFwcGx5IHRvIHRoaXMgbWFya2VyLiBQYXNzIGBudWxsYCB0byBjbGVhciB0aGUgb3ZlcnJpZGUuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRQcm9wZXJ0aWVzRm9yTWFya2VyKG1hcmtlcjogRGlzcGxheU1hcmtlciwgcHJvcGVydGllczogT2JqZWN0KTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAqRXhwZXJpbWVudGFsOiogQSBjb250YWluZXIgZm9yIGEgcmVsYXRlZCBzZXQgb2YgbWFya2Vycy5cbiAgICAgKlxuICAgICAqIFRoaXMgQVBJIGlzIGV4cGVyaW1lbnRhbCBhbmQgc3ViamVjdCB0byBjaGFuZ2Ugb24gYW55IHJlbGVhc2UuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvbWFya2VyLWxheWVyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vdGV4dC1idWZmZXIvYmxvYi92MTAuMy4xMi9zcmMvbWFya2VyLWxheWVyLmNvZmZlZSNMMTVcbiAgICAgKi9cbiAgICBjbGFzcyBNYXJrZXJMYXllciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBjb3B5IG9mIHRoaXMgbGF5ZXIgd2l0aCBtYXJrZXJzIGluIHRoZSBzYW1lIHN0YXRlIGFuZFxuICAgICAgICAgKiBsb2NhdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBjb3B5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IHRoaXMgbGF5ZXIuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmUgYWxsIG1hcmtlcnMgZnJvbSB0aGlzIGxheWVyLlxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXIoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoaXMgbGF5ZXIgaGFzIGJlZW4gZGVzdHJveWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNEZXN0cm95ZWQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbiBleGlzdGluZyBtYXJrZXIgYnkgaXRzIGlkLlxuICAgICAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGEge01hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXJrZXIoKTogTWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBleGlzdGluZyBtYXJrZXJzIG9uIHRoZSBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtNYXJrZXJ9cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlcnMoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBtYXJrZXJzIGluIHRoZSBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlckNvdW50KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZpbmQgbWFya2VycyBpbiB0aGUgbGF5ZXIgY29uZm9ybWluZyB0byB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlIHRoZSBkb2N1bWVudGF0aW9uIGZvciB7VGV4dEJ1ZmZlcjo6ZmluZE1hcmtlcnN9LlxuICAgICAgICAgKi9cbiAgICAgICAgZmluZE1hcmtlcnMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG1hcmtlciB3aXRoIHRoZSBnaXZlbiByYW5nZS5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fVxuICAgICAgICAgKiBAcGFyYW0gIEEgaGFzaCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYXNzb2NpYXRlIHdpdGggdGhlIG1hcmtlci4gVGhlcmUgYXJlIGFsc28gcmVzZXJ2ZWQgcHJvcGVydHkgbmFtZXMgdGhhdCBoYXZlIG1hcmtlci1zcGVjaWZpYyBtZWFuaW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGEge01hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrUmFuZ2UocmFuZ2U6IFJhbmdlLCBvcHRpb25zOiBhbnkpOiBNYXJrZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBtYXJrZXIgYXQgd2l0aCBpdHMgaGVhZCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gd2l0aCBubyB0YWlsLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSB7UG9pbnR9IG9yIHBvaW50LWNvbXBhdGlibGUge0FycmF5fVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEByZXR1cm5zIHtNYXJrZXJ9IFJldHVybnMgYSB7TWFya2VyfS5cbiAgICAgICAgICovXG4gICAgICAgIG1hcmtQb3NpdGlvbihwb3NpdGlvbjogUG9pbnQsIG9wdGlvbnM/OiBPYmplY3QpOiBNYXJrZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmUgdG8gYmUgbm90aWZpZWQgYXN5bmNocm9ub3VzbHkgd2hlbmV2ZXIgbWFya2VycyBhcmVcbiAgICAgICAgICogY3JlYXRlZCwgdXBkYXRlZCwgb3IgZGVzdHJveWVkIG9uIHRoaXMgbGF5ZXIuICpQcmVmZXIgdGhpcyBtZXRob2QgZm9yXG4gICAgICAgICAqIG9wdGltYWwgcGVyZm9ybWFuY2Ugd2hlbiBpbnRlcmFjdGluZyB3aXRoIGxheWVycyB0aGF0IGNvdWxkIGNvbnRhaW4gbGFyZ2VcbiAgICAgICAgICogbnVtYmVycyBvZiBtYXJrZXJzLipcbiAgICAgICAgICpcbiAgICAgICAgICogU3Vic2NyaWJlcnMgYXJlIG5vdGlmaWVkIG9uY2UsIGFzeW5jaHJvbm91c2x5IHdoZW4gYW55IG51bWJlciBvZiBjaGFuZ2VzXG4gICAgICAgICAqIG9jY3VyIGluIGEgZ2l2ZW4gdGljayBvZiB0aGUgZXZlbnQgbG9vcC4gWW91IHNob3VsZCByZS1xdWVyeSB0aGUgbGF5ZXJcbiAgICAgICAgICogdG8gZGV0ZXJtaW5lIHRoZSBzdGF0ZSBvZiBtYXJrZXJzIGluIHdoaWNoIHlvdSdyZSBpbnRlcmVzdGVkIGluLiBJdCBtYXlcbiAgICAgICAgICogYmUgY291bnRlci1pbnR1aXRpdmUsIGJ1dCB0aGlzIGlzIG11Y2ggbW9yZSBlZmZpY2llbnQgdGhhbiBzdWJzY3JpYmluZyB0b1xuICAgICAgICAgKiBldmVudHMgb24gaW5kaXZpZHVhbCBtYXJrZXJzLCB3aGljaCBhcmUgZXhwZW5zaXZlIHRvIGRlbGl2ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggbm8gYXJndW1lbnRzIHdoZW4gY2hhbmdlcyBvY2N1ciBvbiB0aGlzIGxheWVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkVXBkYXRlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTdWJzY3JpYmUgdG8gYmUgbm90aWZpZWQgc3luY2hyb25vdXNseSB3aGVuZXZlciBtYXJrZXJzIGFyZSBjcmVhdGVkXG4gICAgICAgICAqIG9uIHRoaXMgbGF5ZXIuICpBdm9pZCB0aGlzIG1ldGhvZCBmb3Igb3B0aW1hbCBwZXJmb3JtYW5jZSB3aGVuIGludGVyYWN0aW5nXG4gICAgICAgICAqIHdpdGggbGF5ZXJzIHRoYXQgY291bGQgY29udGFpbiBsYXJnZSBudW1iZXJzIG9mIG1hcmtlcnMuKlxuICAgICAgICAgKlxuICAgICAgICAgKiBZb3Ugc2hvdWxkIHByZWZlciB7b25EaWRVcGRhdGV9IHdoZW4gc3luY2hyb25vdXMgbm90aWZpY2F0aW9ucyBhcmVuJ3RcbiAgICAgICAgICogYWJzb2x1dGVseSBuZWNlc3NhcnkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYSB7TWFya2VyfSB3aGVuZXZlciBhIG5ldyBtYXJrZXIgaXMgY3JlYXRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0uXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENyZWF0ZU1hcmtlcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3Vic2NyaWJlIHRvIGJlIG5vdGlmaWVkIHN5bmNocm9ub3VzbHkgd2hlbiB0aGlzIGxheWVyIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0uXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZERlc3Ryb3koKTogRGlzcG9zYWJsZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQcm92aWRlcyBhIHJlZ2lzdHJ5IGZvciBtZW51IGl0ZW1zIHRoYXQgeW91J2QgbGlrZSB0byBhcHBlYXIgaW4gdGhlXG4gICAgICogYXBwbGljYXRpb24gbWVudS5cbiAgICAgKlxuICAgICAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYWx3YXlzIGF2YWlsYWJsZSBhcyB0aGUgYGF0b20ubWVudWAgZ2xvYmFsLlxuICAgICAqXG4gICAgICogIyMgTWVudSBDU09OIEZvcm1hdFxuICAgICAqXG4gICAgICogSGVyZSBpcyBhbiBleGFtcGxlIGZyb20gdGhlIFt0cmVlLXZpZXddKGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL3RyZWUtdmlldy9ibG9iL21hc3Rlci9tZW51cy90cmVlLXZpZXcuY3Nvbik6XG4gICAgICpcbiAgICAgKiBgYGBjb2ZmZWVcbiAgICAgKiBbXG4gICAgICogICB7XG4gICAgICogICAgICdsYWJlbCc6ICdWaWV3J1xuICAgICAqICAgICAnc3VibWVudSc6IFtcbiAgICAgKiAgICAgICB7ICdsYWJlbCc6ICdUb2dnbGUgVHJlZSBWaWV3JywgJ2NvbW1hbmQnOiAndHJlZS12aWV3OnRvZ2dsZScgfVxuICAgICAqICAgICBdXG4gICAgICogICB9XG4gICAgICogICB7XG4gICAgICogICAgICdsYWJlbCc6ICdQYWNrYWdlcydcbiAgICAgKiAgICAgJ3N1Ym1lbnUnOiBbXG4gICAgICogICAgICAgJ2xhYmVsJzogJ1RyZWUgVmlldydcbiAgICAgKiAgICAgICAnc3VibWVudSc6IFtcbiAgICAgKiAgICAgICAgIHsgJ2xhYmVsJzogJ0ZvY3VzJywgJ2NvbW1hbmQnOiAndHJlZS12aWV3OnRvZ2dsZS1mb2N1cycgfVxuICAgICAqICAgICAgICAgeyAnbGFiZWwnOiAnVG9nZ2xlJywgJ2NvbW1hbmQnOiAndHJlZS12aWV3OnRvZ2dsZScgfVxuICAgICAqICAgICAgICAgeyAnbGFiZWwnOiAnUmV2ZWFsIEFjdGl2ZSBGaWxlJywgJ2NvbW1hbmQnOiAndHJlZS12aWV3OnJldmVhbC1hY3RpdmUtZmlsZScgfVxuICAgICAqICAgICAgICAgeyAnbGFiZWwnOiAnVG9nZ2xlIFRyZWUgU2lkZScsICdjb21tYW5kJzogJ3RyZWUtdmlldzp0b2dnbGUtc2lkZScgfVxuICAgICAqICAgICAgIF1cbiAgICAgKiAgICAgXVxuICAgICAqICAgfVxuICAgICAqIF1cbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIFVzZSBpbiB5b3VyIHBhY2thZ2UncyBtZW51IGAuY3NvbmAgZmlsZSByZXF1aXJlcyB0aGF0IHlvdSBwbGFjZSB5b3VyIG1lbnVcbiAgICAgKiBzdHJ1Y3R1cmUgdW5kZXIgYSBgbWVudWAga2V5LlxuICAgICAqXG4gICAgICogYGBgY29mZmVlXG4gICAgICogJ21lbnUnOiBbXG4gICAgICogICB7XG4gICAgICogICAgICdsYWJlbCc6ICdWaWV3J1xuICAgICAqICAgICAnc3VibWVudSc6IFtcbiAgICAgKiAgICAgICB7ICdsYWJlbCc6ICdUb2dnbGUgVHJlZSBWaWV3JywgJ2NvbW1hbmQnOiAndHJlZS12aWV3OnRvZ2dsZScgfVxuICAgICAqICAgICBdXG4gICAgICogICB9XG4gICAgICogXVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogU2VlIHs6OmFkZH0gZm9yIG1vcmUgaW5mbyBhYm91dCBhZGRpbmcgbWVudSdzIGRpcmVjdGx5LlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL21lbnUtbWFuYWdlci5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9tZW51LW1hbmFnZXIuY29mZmVlI0w2MVxuICAgICAqL1xuICAgIGNsYXNzIE1lbnVNYW5hZ2VyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBhcHBsaWNhdGlvbiBtZW51LlxuICAgICAgICAgKiBAcGFyYW0ge2FueVtdfSBBbiB7QXJyYXl9IG9mIG1lbnUgaXRlbSB7T2JqZWN0fXMgY29udGFpbmluZyB0aGUga2V5czpcbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gcmVtb3ZlIHRoZVxuICAgICAgICBhZGRlZCBtZW51IGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkKGl0ZW1zOiBhbnlbXSk6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWZyZXNoZXMgdGhlIGN1cnJlbnRseSB2aXNpYmxlIG1lbnUuXG4gICAgICAgICAqL1xuICAgICAgICB1cGRhdGUoKTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG5vdGlmaWNhdGlvbiB0byB0aGUgdXNlciBjb250YWluaW5nIGEgbWVzc2FnZSBhbmQgdHlwZS5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9ub3RpZmljYXRpb24uY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS9hdG9tL2Jsb2IvdjEuMTUuMC9zcmMvbm90aWZpY2F0aW9uLmNvZmZlZSNMNlxuICAgICAqL1xuICAgIGNsYXNzIE5vdGlmaWNhdGlvbiB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIG5vdGlmaWNhdGlvbiBpcyBkaXNtaXNzZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIG5vdGlmaWNhdGlvbiBpcyBkaXNtaXNzZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREaXNtaXNzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIG5vdGlmaWNhdGlvbiBpcyBkaXNwbGF5ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIG5vdGlmaWNhdGlvbiBpcyBkaXNwbGF5ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREaXNwbGF5KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB7U3RyaW5nfSB0eXBlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VHlwZSgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB7U3RyaW5nfSBtZXNzYWdlLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWVzc2FnZSgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNtaXNzZXMgdGhlIG5vdGlmaWNhdGlvbiwgcmVtb3ZpbmcgaXQgZnJvbSB0aGUgVUkuIENhbGxpbmcgdGhpcyBwcm9ncmFtbWF0aWNhbGx5XG4gICAgICAgICAqIHdpbGwgY2FsbCBhbGwgY2FsbGJhY2tzIGFkZGVkIHZpYSBgb25EaWREaXNtaXNzYC5cbiAgICAgICAgICovXG4gICAgICAgIGRpc21pc3MoKTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG5vdGlmaWNhdGlvbiBtYW5hZ2VyIHVzZWQgdG8gY3JlYXRlIHtOb3RpZmljYXRpb259cyB0byBiZSBzaG93blxuICAgICAqIHRvIHRoZSB1c2VyLlxuICAgICAqXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIHRoZSBgYXRvbS5ub3RpZmljYXRpb25zYFxuICAgICAqIGdsb2JhbC5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9ub3RpZmljYXRpb24tbWFuYWdlci5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9ub3RpZmljYXRpb24tbWFuYWdlci5jb2ZmZWUjTDEwXG4gICAgICovXG4gICAgY2xhc3MgTm90aWZpY2F0aW9uTWFuYWdlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIGFmdGVyIGEgbm90aWZpY2F0aW9uIGhhcyBiZWVuIGFkZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgbm90aWZpY2F0aW9uIGlzIGFkZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkTm90aWZpY2F0aW9uKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBzdWNjZXNzIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4gb3B0aW9ucyB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIGFkZFN1Y2Nlc3MobWVzc2FnZTogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBhbiBpbmZvcm1hdGlvbmFsIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4gb3B0aW9ucyB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIGFkZEluZm8obWVzc2FnZTogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBhIHdhcm5pbmcgbm90aWZpY2F0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSBtZXNzYWdlXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiBvcHRpb25zIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkV2FybmluZyhtZXNzYWdlOiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGFuIGVycm9yIG5vdGlmaWNhdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gbWVzc2FnZVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4gb3B0aW9ucyB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIGFkZEVycm9yKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBmYXRhbCBlcnJvciBub3RpZmljYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IG1lc3NhZ2VcbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIG9wdGlvbnMge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBhZGRGYXRhbEVycm9yKG1lc3NhZ2U6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYWxsIHRoZSBub3RpZmljYXRpb25zLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7Tm90aWZpY2F0aW9ufXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXROb3RpZmljYXRpb25zKCk6IGFueVtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvYWRzIGFuZCBhY3RpdmF0ZXMgYSBwYWNrYWdlJ3MgbWFpbiBtb2R1bGUgYW5kIHJlc291cmNlcyBzdWNoIGFzXG4gICAgICogc3R5bGVzaGVldHMsIGtleW1hcHMsIGdyYW1tYXIsIGVkaXRvciBwcm9wZXJ0aWVzLCBhbmQgbWVudXMuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvcGFja2FnZS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9wYWNrYWdlLmNvZmZlZSNMMTdcbiAgICAgKi9cbiAgICBjbGFzcyBQYWNrYWdlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhbGwgcGFja2FnZXMgaGF2ZSBiZWVuIGFjdGl2YXRlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGVhY3RpdmF0ZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXJlIGFsbCBuYXRpdmUgbW9kdWxlcyBkZXBlbmRlZCBvbiBieSB0aGlzIHBhY2thZ2UgY29ycmVjdGx5XG4gICAgICAgICAqIGNvbXBpbGVkIGFnYWluc3QgdGhlIGN1cnJlbnQgdmVyc2lvbiBvZiBBdG9tP1xuICAgICAgICAgKlxuICAgICAgICAgKiBJbmNvbXBhdGlibGUgcGFja2FnZXMgY2Fubm90IGJlIGFjdGl2YXRlZC5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0sIHRydWUgaWYgY29tcGF0aWJsZSwgZmFsc2UgaWYgaW5jb21wYXRpYmxlLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNDb21wYXRpYmxlKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWJ1aWxkIG5hdGl2ZSBtb2R1bGVzIGluIHRoaXMgcGFja2FnZSdzIGRlcGVuZGVuY2llcyBmb3IgdGhlXG4gICAgICAgICAqIGN1cnJlbnQgdmVyc2lvbiBvZiBBdG9tLlxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEge1Byb21pc2V9IHRoYXQgcmVzb2x2ZXMgd2l0aCBhbiBvYmplY3QgY29udGFpbmluZyBgY29kZWAsXG4gICAgICAgIGBzdGRvdXRgLCBhbmQgYHN0ZGVycmAgcHJvcGVydGllcyBiYXNlZCBvbiB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICAgIGBhcG0gcmVidWlsZGAgb24gdGhlIHBhY2thZ2UuXG4gICAgICAgICAqL1xuICAgICAgICByZWJ1aWxkKCk6IFByb21pc2U8YW55PjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElmIGEgcHJldmlvdXMgcmVidWlsZCBmYWlsZWQsIGdldCB0aGUgY29udGVudHMgb2Ygc3RkZXJyLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30gb3IgbnVsbCBpZiBubyBwcmV2aW91cyBidWlsZCBmYWlsdXJlIG9jY3VycmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QnVpbGRGYWlsdXJlT3V0cHV0KCk6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWNrYWdlIG1hbmFnZXIgZm9yIGNvb3JkaW5hdGluZyB0aGUgbGlmZWN5Y2xlIG9mIEF0b20gcGFja2FnZXMuXG4gICAgICpcbiAgICAgKiBBbiBpbnN0YW5jZSBvZiB0aGlzIGNsYXNzIGlzIGFsd2F5cyBhdmFpbGFibGUgYXMgdGhlIGBhdG9tLnBhY2thZ2VzYCBnbG9iYWwuXG4gICAgICpcbiAgICAgKiBQYWNrYWdlcyBjYW4gYmUgbG9hZGVkLCBhY3RpdmF0ZWQsIGFuZCBkZWFjdGl2YXRlZCwgYW5kIHVubG9hZGVkOlxuICAgICAqXG4gICAgICogKiBMb2FkaW5nIGEgcGFja2FnZSByZWFkcyBhbmQgcGFyc2VzIHRoZSBwYWNrYWdlJ3MgbWV0YWRhdGEgYW5kIHJlc291cmNlc1xuICAgICAqICAgc3VjaCBhcyBrZXltYXBzLCBtZW51cywgc3R5bGVzaGVldHMsIGV0Yy5cbiAgICAgKiAqIEFjdGl2YXRpbmcgYSBwYWNrYWdlIHJlZ2lzdGVycyB0aGUgbG9hZGVkIHJlc291cmNlcyBhbmQgY2FsbHMgYGFjdGl2YXRlKClgXG4gICAgICogICBvbiB0aGUgcGFja2FnZSdzIG1haW4gbW9kdWxlLlxuICAgICAqICogRGVhY3RpdmF0aW5nIGEgcGFja2FnZSB1bnJlZ2lzdGVycyB0aGUgcGFja2FnZSdzIHJlc291cmNlcyAgYW5kIGNhbGxzXG4gICAgICogICBgZGVhY3RpdmF0ZSgpYCBvbiB0aGUgcGFja2FnZSdzIG1haW4gbW9kdWxlLlxuICAgICAqICogVW5sb2FkaW5nIGEgcGFja2FnZSByZW1vdmVzIGl0IGNvbXBsZXRlbHkgZnJvbSB0aGUgcGFja2FnZSBtYW5hZ2VyLlxuICAgICAqXG4gICAgICogUGFja2FnZXMgY2FuIGJlIGVuYWJsZWQvZGlzYWJsZWQgdmlhIHRoZSBgY29yZS5kaXNhYmxlZFBhY2thZ2VzYCBjb25maWdcbiAgICAgKiBzZXR0aW5ncyBhbmQgYWxzbyBieSBjYWxsaW5nIGBlbmFibGVQYWNrYWdlKCkvZGlzYWJsZVBhY2thZ2UoKWAuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvcGFja2FnZS1tYW5hZ2VyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL3BhY2thZ2UtbWFuYWdlci5jb2ZmZWUjTDMwXG4gICAgICovXG4gICAgY2xhc3MgUGFja2FnZU1hbmFnZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIGFsbCBwYWNrYWdlcyBoYXZlIGJlZW4gbG9hZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRMb2FkSW5pdGlhbFBhY2thZ2VzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYWxsIHBhY2thZ2VzIGhhdmUgYmVlbiBhY3RpdmF0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZEFjdGl2YXRlSW5pdGlhbFBhY2thZ2VzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBwYWNrYWdlIGlzIGFjdGl2YXRlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRvIGJlIGludm9rZWQgd2hlbiBhIHBhY2thZ2UgaXMgYWN0aXZhdGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWN0aXZhdGVQYWNrYWdlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBwYWNrYWdlIGlzIGRlYWN0aXZhdGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdG8gYmUgaW52b2tlZCB3aGVuIGEgcGFja2FnZSBpcyBkZWFjdGl2YXRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZERlYWN0aXZhdGVQYWNrYWdlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSBwYWNrYWdlIGlzIGxvYWRlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRvIGJlIGludm9rZWQgd2hlbiBhIHBhY2thZ2UgaXMgbG9hZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkTG9hZFBhY2thZ2UoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhY2thZ2UgaXMgdW5sb2FkZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0byBiZSBpbnZva2VkIHdoZW4gYSBwYWNrYWdlIGlzIHVubG9hZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkVW5sb2FkUGFja2FnZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBwYXRoIHRvIHRoZSBhcG0gY29tbWFuZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVXNlcyB0aGUgdmFsdWUgb2YgdGhlIGBjb3JlLmFwbVBhdGhgIGNvbmZpZyBzZXR0aW5nIGlmIGl0IGV4aXN0cy5cbiAgICAgICAgICpcbiAgICAgICAgICogUmV0dXJuIGEge1N0cmluZ30gZmlsZSBwYXRoIHRvIGFwbS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEFwbVBhdGgoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcGF0aHMgYmVpbmcgdXNlZCB0byBsb29rIGZvciBwYWNrYWdlcy5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1N0cmluZ30gZGlyZWN0b3J5IHBhdGhzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGFja2FnZURpclBhdGhzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVzb2x2ZSB0aGUgZ2l2ZW4gcGFja2FnZSBuYW1lIHRvIGEgcGF0aCBvbiBkaXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBSZXR1cm4gYSB7U3RyaW5nfSBmb2xkZXIgcGF0aCBvciB1bmRlZmluZWQgaWYgaXQgY291bGQgbm90IGJlIHJlc29sdmVkLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhY2thZ2UgbmFtZS5cbiAgICAgICAgICovXG4gICAgICAgIHJlc29sdmVQYWNrYWdlUGF0aChuYW1lOiBzdHJpbmcpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHBhY2thZ2Ugd2l0aCB0aGUgZ2l2ZW4gbmFtZSBidW5kbGVkIHdpdGggQXRvbT9cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBwYWNrYWdlIG5hbWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNCdW5kbGVkUGFja2FnZShuYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogRW5hYmxlIHRoZSBwYWNrYWdlIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGFja2FnZSBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7UGFja2FnZX0gUmV0dXJucyB0aGUge1BhY2thZ2V9IHRoYXQgd2FzIGVuYWJsZWQgb3IgbnVsbCBpZiBpdCBpc24ndCBsb2FkZWQuXG4gICAgICAgICAqL1xuICAgICAgICBlbmFibGVQYWNrYWdlKG5hbWU6IHN0cmluZyk6IFBhY2thZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEaXNhYmxlIHRoZSBwYWNrYWdlIHdpdGggdGhlIGdpdmVuIG5hbWUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGFja2FnZSBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7UGFja2FnZX0gUmV0dXJucyB0aGUge1BhY2thZ2V9IHRoYXQgd2FzIGRpc2FibGVkIG9yIG51bGwgaWYgaXQgaXNuJ3QgbG9hZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZGlzYWJsZVBhY2thZ2UobmFtZTogc3RyaW5nKTogUGFja2FnZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElzIHRoZSBwYWNrYWdlIHdpdGggdGhlIGdpdmVuIG5hbWUgZGlzYWJsZWQ/XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGFja2FnZSBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIGlzUGFja2FnZURpc2FibGVkKG5hbWU6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYW4ge0FycmF5fSBvZiBhbGwgdGhlIGFjdGl2ZSB7UGFja2FnZX1zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlUGFja2FnZXMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgYWN0aXZlIHtQYWNrYWdlfSB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhY2thZ2UgbmFtZS5cbiAgICAgICAgICogQHJldHVybnMge1BhY2thZ2V9IFJldHVybnMgYSB7UGFja2FnZX0gb3IgLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlUGFja2FnZShuYW1lOiBzdHJpbmcpOiBQYWNrYWdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHtQYWNrYWdlfSB3aXRoIHRoZSBnaXZlbiBuYW1lIGFjdGl2ZT9cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSB7U3RyaW5nfSBwYWNrYWdlIG5hbWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNQYWNrYWdlQWN0aXZlKG5hbWU6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgcGFja2FnZSBhY3RpdmF0aW9uIGhhcyBvY2N1cnJlZC5cbiAgICAgICAgICovXG4gICAgICAgIGhhc0FjdGl2YXRlZEluaXRpYWxQYWNrYWdlcygpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIHtBcnJheX0gb2YgYWxsIHRoZSBsb2FkZWQge1BhY2thZ2V9c1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TG9hZGVkUGFja2FnZXMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbG9hZGVkIHtQYWNrYWdlfSB3aXRoIHRoZSBnaXZlbiBuYW1lLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhY2thZ2UgbmFtZS5cbiAgICAgICAgICogQHJldHVybnMge1BhY2thZ2V9IFJldHVybnMgYSB7UGFja2FnZX0gb3IgLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TG9hZGVkUGFja2FnZShuYW1lOiBzdHJpbmcpOiBQYWNrYWdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHBhY2thZ2Ugd2l0aCB0aGUgZ2l2ZW4gbmFtZSBsb2FkZWQ/XG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGFja2FnZSBuYW1lLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIGlzUGFja2FnZUxvYWRlZChuYW1lOiBzdHJpbmcpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHBhY2thZ2UgbG9hZGluZyBoYXMgb2NjdXJyZWQuXG4gICAgICAgICAqL1xuICAgICAgICBoYXNMb2FkZWRJbml0aWFsUGFja2FnZXMoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtTdHJpbmd9cyBvZiBhbGwgdGhlIGF2YWlsYWJsZSBwYWNrYWdlIHBhdGhzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QXZhaWxhYmxlUGFja2FnZVBhdGhzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1N0cmluZ31zIG9mIGFsbCB0aGUgYXZhaWxhYmxlIHBhY2thZ2UgbmFtZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRBdmFpbGFibGVQYWNrYWdlTmFtZXMoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7U3RyaW5nfXMgb2YgYWxsIHRoZSBhdmFpbGFibGUgcGFja2FnZSBtZXRhZGF0YS5cbiAgICAgICAgICovXG4gICAgICAgIGdldEF2YWlsYWJsZVBhY2thZ2VNZXRhZGF0YSgpOiBhbnlbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIGNvbnRhaW5lciBmb3IgcHJlc2VudGluZyBjb250ZW50IGluIHRoZSBjZW50ZXIgb2YgdGhlIHdvcmtzcGFjZS5cbiAgICAgKiBQYW5lcyBjYW4gY29udGFpbiBtdWx0aXBsZSBpdGVtcywgb25lIG9mIHdoaWNoIGlzICphY3RpdmUqIGF0IGEgZ2l2ZW4gdGltZS5cbiAgICAgKiBUaGUgdmlldyBjb3JyZXNwb25kaW5nIHRvIHRoZSBhY3RpdmUgaXRlbSBpcyBkaXNwbGF5ZWQgaW4gdGhlIGludGVyZmFjZS4gSW5cbiAgICAgKiB0aGUgZGVmYXVsdCBjb25maWd1cmF0aW9uLCB0YWJzIGFyZSBhbHNvIGRpc3BsYXllZCBmb3IgZWFjaCBpdGVtLlxuICAgICAqXG4gICAgICogRWFjaCBwYW5lIG1heSBhbHNvIGNvbnRhaW4gb25lICpwZW5kaW5nKiBpdGVtLiBXaGVuIGEgcGVuZGluZyBpdGVtIGlzIGFkZGVkXG4gICAgICogdG8gYSBwYW5lLCBpdCB3aWxsIHJlcGxhY2UgdGhlIGN1cnJlbnRseSBwZW5kaW5nIGl0ZW0sIGlmIGFueSwgaW5zdGVhZCBvZlxuICAgICAqIHNpbXBseSBiZWluZyBhZGRlZC4gSW4gdGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiwgdGhlIHRleHQgaW4gdGhlIHRhYiBmb3JcbiAgICAgKiBwZW5kaW5nIGl0ZW1zIGlzIHNob3duIGluIGl0YWxpY3MuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvcGFuZS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9wYW5lLmNvZmZlZSNMMThcbiAgICAgKi9cbiAgICBjbGFzcyBQYW5lIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgcGFuZSByZXNpemVzXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2hlbiBwYW5lJ3MgZmxleFNjYWxlIHByb3BlcnR5IGNoYW5nZXMuXG4gICAgICAgICAqIFVzZSB7OjpnZXRGbGV4U2NhbGV9IHRvIGdldCB0aGUgY3VycmVudCB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGFuZSBpcyByZXNpemVkXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoICcuZGlzcG9zZSgpJyBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VGbGV4U2NhbGUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2l0aCB0aGUgY3VycmVudCBhbmQgZnV0dXJlIHZhbHVlcyBvZlxuICAgICAgICAgKiB7OjpnZXRGbGV4U2NhbGV9LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aXRoIHRoZSBjdXJyZW50IGFuZCBmdXR1cmUgdmFsdWVzIG9mIHRoZSB7OjpnZXRGbGV4U2NhbGV9IHByb3BlcnR5LlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9ic2VydmVGbGV4U2NhbGUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgcGFuZSBpcyBhY3RpdmF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBnaXZlbiBjYWxsYmFjayB3aWxsIGJlIGludm9rZWQgd2hlbmV2ZXIgezo6YWN0aXZhdGV9IGlzIGNhbGxlZCBvbiB0aGVcbiAgICAgICAgICogcGFuZSwgZXZlbiBpZiBpdCBpcyBhbHJlYWR5IGFjdGl2ZSBhdCB0aGUgdGltZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGFuZSBpcyBhY3RpdmF0ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRBY3RpdmF0ZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBiZWZvcmUgdGhlIHBhbmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBiZWZvcmUgdGhlIHBhbmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uV2lsbERlc3Ryb3koY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgcGFuZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHBhbmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGVzdHJveShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSB2YWx1ZSBvZiB0aGUgezo6aXNBY3RpdmV9XG4gICAgICAgICAqIHByb3BlcnR5IGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHZhbHVlIG9mIHRoZSB7Ojppc0FjdGl2ZX0gcHJvcGVydHkgY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZUFjdGl2ZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aXRoIHRoZSBjdXJyZW50IGFuZCBmdXR1cmUgdmFsdWVzIG9mIHRoZVxuICAgICAgICAgKiB7Ojppc0FjdGl2ZX0gcHJvcGVydHkuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgYW5kIGZ1dHVyZSB2YWx1ZXMgb2YgdGhlIHs6OmlzQWN0aXZlfSBwcm9wZXJ0eS5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlQWN0aXZlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYW4gaXRlbSBpcyBhZGRlZCB0byB0aGUgcGFuZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCB3aGVuIGl0ZW1zIGFyZSBhZGRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZEFkZEl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhbiBpdGVtIGlzIHJlbW92ZWQgZnJvbSB0aGUgcGFuZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCB3aGVuIGl0ZW1zIGFyZSByZW1vdmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkUmVtb3ZlSXRlbShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBiZWZvcmUgYW4gaXRlbSBpcyByZW1vdmVkIGZyb20gdGhlIHBhbmUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggd2hlbiBpdGVtcyBhcmUgcmVtb3ZlZC5cbiAgICAgICAgICovXG4gICAgICAgIG9uV2lsbFJlbW92ZUl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhbiBpdGVtIGlzIG1vdmVkIHdpdGhpbiB0aGUgcGFuZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCB3aGVuIGl0ZW1zIGFyZSBtb3ZlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZE1vdmVJdGVtKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdpdGggYWxsIGN1cnJlbnQgYW5kIGZ1dHVyZSBpdGVtcy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCBjdXJyZW50IGFuZCBmdXR1cmUgaXRlbXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZUl0ZW1zKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIHZhbHVlIG9mIHs6OmdldEFjdGl2ZUl0ZW19XG4gICAgICAgICAqIGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggd2hlbiB0aGUgYWN0aXZlIGl0ZW0gY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZUFjdGl2ZUl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB7OjphY3RpdmF0ZU5leHRSZWNlbnRseVVzZWRJdGVtfVxuICAgICAgICAgKiBoYXMgYmVlbiBjYWxsZWQsIGVpdGhlciBpbml0aWF0aW5nIG9yIGNvbnRpbnVpbmcgYSBmb3J3YXJkIE1SVSB0cmF2ZXJzYWwgb2ZcbiAgICAgICAgICogcGFuZSBpdGVtcy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCB3aGVuIHRoZSBhY3RpdmUgaXRlbSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uQ2hvb3NlTmV4dE1SVUl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB7OjphY3RpdmF0ZVByZXZpb3VzUmVjZW50bHlVc2VkSXRlbX1cbiAgICAgICAgICogaGFzIGJlZW4gY2FsbGVkLCBlaXRoZXIgaW5pdGlhdGluZyBvciBjb250aW51aW5nIGEgcmV2ZXJzZSBNUlUgdHJhdmVyc2FsIG9mXG4gICAgICAgICAqIHBhbmUgaXRlbXMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggd2hlbiB0aGUgYWN0aXZlIGl0ZW0gY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkNob29zZUxhc3RNUlVJdGVtKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gezo6bW92ZUFjdGl2ZUl0ZW1Ub1RvcE9mU3RhY2t9XG4gICAgICAgICAqIGhhcyBiZWVuIGNhbGxlZCwgdGVybWluYXRpbmcgYW4gTVJVIHRyYXZlcnNhbCBvZiBwYW5lIGl0ZW1zIGFuZCBtb3ZpbmcgdGhlXG4gICAgICAgICAqIGN1cnJlbnQgYWN0aXZlIGl0ZW0gdG8gdGhlIHRvcCBvZiB0aGUgc3RhY2suIFR5cGljYWxseSBib3VuZCB0byBhIG1vZGlmaWVyXG4gICAgICAgICAqIChlLmcuIENUUkwpIGtleSB1cCBldmVudC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCB3aGVuIHRoZSBNUlUgdHJhdmVyc2FsIGlzIGRvbmUuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25Eb25lQ2hvb3NpbmdNUlVJdGVtKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdpdGggdGhlIGN1cnJlbnQgYW5kIGZ1dHVyZSB2YWx1ZXMgb2ZcbiAgICAgICAgICogezo6Z2V0QWN0aXZlSXRlbX0uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggdGhlIGN1cnJlbnQgYW5kIGZ1dHVyZSBhY3RpdmUgaXRlbXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZUFjdGl2ZUl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmVmb3JlIGl0ZW1zIGFyZSBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIGJlZm9yZSBpdGVtcyBhcmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0b1xuICAgICAgICB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uV2lsbERlc3Ryb3lJdGVtKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGl0ZW1zIGluIHRoaXMgcGFuZS5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2YgaXRlbXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRJdGVtcygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgYWN0aXZlIHBhbmUgaXRlbSBpbiB0aGlzIHBhbmUuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgcGFuZSBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlSXRlbSgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIGl0ZW0gYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn1cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYW4gaXRlbSBvciBgbnVsbGAgaWYgbm8gaXRlbSBleGlzdHMgYXQgdGhlIGdpdmVuIGluZGV4LlxuICAgICAgICAgKi9cbiAgICAgICAgaXRlbUF0SW5kZXgoaW5kZXg6IG51bWJlcik6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ha2VzIHRoZSBuZXh0IGl0ZW0gYWN0aXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZhdGVOZXh0SXRlbSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFrZXMgdGhlIHByZXZpb3VzIGl0ZW0gYWN0aXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZhdGVQcmV2aW91c0l0ZW0oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgdGhlIGFjdGl2ZSB0YWIgdG8gdGhlIHJpZ2h0LlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZUl0ZW1SaWdodCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSB0aGUgYWN0aXZlIHRhYiB0byB0aGUgbGVmdFxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZUl0ZW1MZWZ0KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGluZGV4IG9mIHRoZSBhY3RpdmUgaXRlbS5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlSXRlbUluZGV4KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFjdGl2YXRlIHRoZSBpdGVtIGF0IHRoZSBnaXZlbiBpbmRleC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9XG4gICAgICAgICAqL1xuICAgICAgICBhY3RpdmF0ZUl0ZW1BdEluZGV4KGluZGV4OiBudW1iZXIpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFrZSB0aGUgZ2l2ZW4gaXRlbSAqYWN0aXZlKiwgY2F1c2luZyBpdCB0byBiZSBkaXNwbGF5ZWQgYnlcbiAgICAgICAgICogdGhlIHBhbmUncyB2aWV3LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIGFjdGl2YXRlSXRlbShvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCB0aGUgZ2l2ZW4gaXRlbSB0byB0aGUgcGFuZS5cbiAgICAgICAgICogQHBhcmFtICBUaGUgaXRlbSB0byBhZGQuIEl0IGNhbiBiZSBhIG1vZGVsIHdpdGggYW4gYXNzb2NpYXRlZCB2aWV3IG9yIGEgdmlldy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSBhZGRlZCBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkSXRlbShpdGVtOiBhbnksIG9wdGlvbnM/OiBPYmplY3QpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgdGhlIGdpdmVuIGl0ZW1zIHRvIHRoZSBwYW5lLlxuICAgICAgICAgKiBAcGFyYW0ge2FueVtdfSBBbiB7QXJyYXl9IG9mIGl0ZW1zIHRvIGFkZC4gSXRlbXMgY2FuIGJlIHZpZXdzIG9yIG1vZGVscyB3aXRoIGFzc29jaWF0ZWQgdmlld3MuIEFueSBvYmplY3RzIHRoYXQgYXJlIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgcGFuZSdzIGN1cnJlbnQgaXRlbXMgd2lsbCBub3QgYmUgYWRkZWQgYWdhaW4uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBpbmRleCBhdCB3aGljaCB0byBhZGQgdGhlIGl0ZW1zLiBJZiBvbWl0dGVkLCB0aGUgaXRlbSBpcyAjICAgYWRkZWQgYWZ0ZXIgdGhlIGN1cnJlbnQgYWN0aXZlIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIGFkZGVkIGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkSXRlbXMoaXRlbXM6IGFueVtdLCBpbmRleD86IG51bWJlcik6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSB0aGUgZ2l2ZW4gaXRlbSB0byB0aGUgZ2l2ZW4gaW5kZXguXG4gICAgICAgICAqIEBwYXJhbSAgVGhlIGl0ZW0gdG8gbW92ZS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IGluZGljYXRpbmcgdGhlIGluZGV4IHRvIHdoaWNoIHRvIG1vdmUgdGhlIGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlSXRlbShpdGVtOiBhbnksIGluZGV4OiBudW1iZXIpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSB0aGUgZ2l2ZW4gaXRlbSB0byB0aGUgZ2l2ZW4gaW5kZXggb24gYW5vdGhlciBwYW5lLlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBpdGVtIHRvIG1vdmUuXG4gICAgICAgICAqIEBwYXJhbSB7UGFuZX0ge1BhbmV9IHRvIHdoaWNoIHRvIG1vdmUgdGhlIGl0ZW0uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBpbmRpY2F0aW5nIHRoZSBpbmRleCB0byB3aGljaCB0byBtb3ZlIHRoZSBpdGVtIGluIHRoZSBnaXZlbiBwYW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZUl0ZW1Ub1BhbmUoaXRlbTogYW55LCBwYW5lOiBQYW5lLCBpbmRleDogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3kgdGhlIGFjdGl2ZSBpdGVtIGFuZCBhY3RpdmF0ZSB0aGUgbmV4dCBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveUFjdGl2ZUl0ZW0oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3kgdGhlIGdpdmVuIGl0ZW0uXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBpdGVtIGlzIGFjdGl2ZSwgdGhlIG5leHQgaXRlbSB3aWxsIGJlIGFjdGl2YXRlZC4gSWYgdGhlIGl0ZW0gaXMgdGhlXG4gICAgICAgICAqIGxhc3QgaXRlbSwgdGhlIHBhbmUgd2lsbCBiZSBkZXN0cm95ZWQgaWYgdGhlIGBjb3JlLmRlc3Ryb3lFbXB0eVBhbmVzYCBjb25maWdcbiAgICAgICAgICogc2V0dGluZyBpcyBgdHJ1ZWAuXG4gICAgICAgICAqIEBwYXJhbSAgSXRlbSB0byBkZXN0cm95XG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95SXRlbShpdGVtOiBhbnkpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGVzdHJveSBhbGwgaXRlbXMuXG4gICAgICAgICAqL1xuICAgICAgICBkZXN0cm95SXRlbXMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlc3Ryb3kgYWxsIGl0ZW1zIGV4Y2VwdCBmb3IgdGhlIGFjdGl2ZSBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVzdHJveUluYWN0aXZlSXRlbXMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhdmUgdGhlIGFjdGl2ZSBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZUFjdGl2ZUl0ZW0oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21wdCB0aGUgdXNlciBmb3IgYSBsb2NhdGlvbiBhbmQgc2F2ZSB0aGUgYWN0aXZlIGl0ZW0gd2l0aCB0aGVcbiAgICAgICAgICogcGF0aCB0aGV5IHNlbGVjdC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB3aGljaCB3aWxsIGJlIGNhbGxlZCBhZnRlciB0aGUgaXRlbSBpcyBzdWNjZXNzZnVsbHkgc2F2ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlQWN0aXZlSXRlbUFzKG5leHRBY3Rpb24/OiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYXZlIHRoZSBnaXZlbiBpdGVtLlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBpdGVtIHRvIHNhdmUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gd2hpY2ggd2lsbCBiZSBjYWxsZWQgd2l0aCBubyBhcmd1bWVudCBhZnRlciB0aGUgaXRlbSBpcyBzdWNjZXNzZnVsbHkgc2F2ZWQsIG9yIHdpdGggdGhlIGVycm9yIGlmIGl0IGZhaWxlZC4gVGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIHRoYXQgb2YgYG5leHRBY3Rpb25gIG9yIGB1bmRlZmluZWRgIGlmIGl0IHdhcyBub3QgcHJvdmlkZWRcbiAgICAgICAgICovXG4gICAgICAgIHNhdmVJdGVtKGl0ZW06IGFueSwgbmV4dEFjdGlvbj86IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByb21wdCB0aGUgdXNlciBmb3IgYSBsb2NhdGlvbiBhbmQgc2F2ZSB0aGUgYWN0aXZlIGl0ZW0gd2l0aCB0aGVcbiAgICAgICAgICogcGF0aCB0aGV5IHNlbGVjdC5cbiAgICAgICAgICogQHBhcmFtICBUaGUgaXRlbSB0byBzYXZlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHdoaWNoIHdpbGwgYmUgY2FsbGVkIHdpdGggbm8gYXJndW1lbnQgYWZ0ZXIgdGhlIGl0ZW0gaXMgc3VjY2Vzc2Z1bGx5IHNhdmVkLCBvciB3aXRoIHRoZSBlcnJvciBpZiBpdCBmYWlsZWQuIFRoZSByZXR1cm4gdmFsdWUgd2lsbCBiZSB0aGF0IG9mIGBuZXh0QWN0aW9uYCBvciBgdW5kZWZpbmVkYCBpZiBpdCB3YXMgbm90IHByb3ZpZGVkXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlSXRlbUFzKGl0ZW06IGFueSwgbmV4dEFjdGlvbj86IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhdmUgYWxsIGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZUl0ZW1zKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXR1cm4gdGhlIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBVUkkgb3IgdW5kZWZpbmVkIGlmXG4gICAgICAgICAqIG5vbmUgZXhpc3RzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gY29udGFpbmluZyBhIFVSSS5cbiAgICAgICAgICovXG4gICAgICAgIGl0ZW1Gb3JVUkkodXJpOiBzdHJpbmcpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWN0aXZhdGUgdGhlIGZpcnN0IGl0ZW0gdGhhdCBtYXRjaGVzIHRoZSBnaXZlbiBVUkkuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBjb250YWluaW5nIGEgVVJJLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgYW4gaXRlbSBtYXRjaGluZyB0aGUgVVJJIHdhcyBmb3VuZC5cbiAgICAgICAgICovXG4gICAgICAgIGFjdGl2YXRlSXRlbUZvclVSSSh1cmk6IHN0cmluZyk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgcGFuZSBpcyBhY3RpdmUuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNBY3RpdmUoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ha2VzIHRoaXMgcGFuZSB0aGUgKmFjdGl2ZSogcGFuZSwgY2F1c2luZyBpdCB0byBnYWluIGZvY3VzLlxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZhdGUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsb3NlIHRoZSBwYW5lIGFuZCBkZXN0cm95IGFsbCBpdHMgaXRlbXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoaXMgaXMgdGhlIGxhc3QgcGFuZSwgYWxsIHRoZSBpdGVtcyB3aWxsIGJlIGRlc3Ryb3llZCBidXQgdGhlIHBhbmVcbiAgICAgICAgICogaXRzZWxmIHdpbGwgbm90IGJlIGRlc3Ryb3llZC5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG5ldyBwYW5lIHRvIHRoZSBsZWZ0IG9mIHRoaXMgcGFuZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZX0gUmV0dXJucyB0aGUgbmV3IHtQYW5lfS5cbiAgICAgICAgICovXG4gICAgICAgIHNwbGl0TGVmdChwYXJhbXM/OiBPYmplY3QpOiBQYW5lO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IHBhbmUgdG8gdGhlIHJpZ2h0IG9mIHRoaXMgcGFuZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZX0gUmV0dXJucyB0aGUgbmV3IHtQYW5lfS5cbiAgICAgICAgICovXG4gICAgICAgIHNwbGl0UmlnaHQocGFyYW1zPzogT2JqZWN0KTogUGFuZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSBuZXcgcGFuZSBhYm92ZSB0aGUgcmVjZWl2ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge1BhbmV9IFJldHVybnMgdGhlIG5ldyB7UGFuZX0uXG4gICAgICAgICAqL1xuICAgICAgICBzcGxpdFVwKHBhcmFtcz86IE9iamVjdCk6IFBhbmU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgbmV3IHBhbmUgYmVsb3cgdGhlIHJlY2VpdmVyLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEByZXR1cm5zIHtQYW5lfSBSZXR1cm5zIHRoZSBuZXcge1BhbmV9LlxuICAgICAgICAgKi9cbiAgICAgICAgc3BsaXREb3duKHBhcmFtcz86IE9iamVjdCk6IFBhbmU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBjb250YWluZXIgcmVwcmVzZW50aW5nIGEgcGFuZWwgb24gdGhlIGVkZ2VzIG9mIHRoZSBlZGl0b3Igd2luZG93LlxuICAgICAqIFlvdSBzaG91bGQgbm90IGNyZWF0ZSBhIGBQYW5lbGAgZGlyZWN0bHksIGluc3RlYWQgdXNlIHtXb3Jrc3BhY2U6OmFkZFRvcFBhbmVsfVxuICAgICAqIGFuZCBmcmllbmRzIHRvIGFkZCBwYW5lbHMuXG4gICAgICpcbiAgICAgKiBFeGFtcGxlczogW3RyZWUtdmlld10oaHR0cHM6Ly9naXRodWIuY29tL2F0b20vdHJlZS12aWV3KSxcbiAgICAgKiBbc3RhdHVzLWJhcl0oaHR0cHM6Ly9naXRodWIuY29tL2F0b20vc3RhdHVzLWJhciksXG4gICAgICogYW5kIFtmaW5kLWFuZC1yZXBsYWNlXShodHRwczovL2dpdGh1Yi5jb20vYXRvbS9maW5kLWFuZC1yZXBsYWNlKSBhbGwgdXNlXG4gICAgICogcGFuZWxzLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL3BhbmVsLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL3BhbmVsLmNvZmZlZSNMMTJcbiAgICAgKi9cbiAgICBjbGFzcyBQYW5lbCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXN0cm95IGFuZCByZW1vdmUgdGhpcyBwYW5lbCBmcm9tIHRoZSBVSS5cbiAgICAgICAgICovXG4gICAgICAgIGRlc3Ryb3koKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgcGFuZSBoaWRkZW4gb3Igc2hvd24uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIHBhbmUgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQ2hhbmdlVmlzaWJsZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBwYW5lIGlzIGRlc3Ryb3llZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgcGFuZSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREZXN0cm95KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0aGUgcGFuZWwncyBpdGVtLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0SXRlbSgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gaW5kaWNhdGluZyB0aGlzIHBhbmVsJ3MgcHJpb3JpdHkuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRQcmlvcml0eSgpOiBudW1iZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSB0cnVlIHdoZW4gdGhlIHBhbmVsIGlzIHZpc2libGUuXG4gICAgICAgICAqL1xuICAgICAgICBpc1Zpc2libGUoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEhpZGUgdGhpcyBwYW5lbFxuICAgICAgICAgKi9cbiAgICAgICAgaGlkZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2hvdyB0aGlzIHBhbmVsXG4gICAgICAgICAqL1xuICAgICAgICBzaG93KCk6IHZvaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHBvaW50IGluIGEgYnVmZmVyIGluIHJvdy9jb2x1bW4gY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBFdmVyeSBwdWJsaWMgbWV0aG9kIHRoYXQgdGFrZXMgYSBwb2ludCBhbHNvIGFjY2VwdHMgYSAqcG9pbnQtY29tcGF0aWJsZSpcbiAgICAgKiB7QXJyYXl9LiBUaGlzIG1lYW5zIGEgMi1lbGVtZW50IGFycmF5IGNvbnRhaW5pbmcge051bWJlcn1zIHJlcHJlc2VudGluZyB0aGVcbiAgICAgKiByb3cgYW5kIGNvbHVtbi4gU28gdGhlIGZvbGxvd2luZyBhcmUgZXF1aXZhbGVudDpcbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIG5ldyBQb2ludCgxLCAyKVxuICAgICAqIFsxLCAyXSAjIFBvaW50IGNvbXBhdGlibGUgQXJyYXlcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9wb2ludC5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL3RleHQtYnVmZmVyL2Jsb2IvdjEwLjMuMTIvc3JjL3BvaW50LmNvZmZlZSNMMTJcbiAgICAgKi9cbiAgICBjbGFzcyBQb2ludCB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHplcm8taW5kZXhlZCB7TnVtYmVyfSByZXByZXNlbnRpbmcgdGhlIHJvdyBvZiB0aGUge1BvaW50fS5cbiAgICAgICAgICovXG4gICAgICAgIHJvdzogTnVtYmVyO1xuICAgIC8qfSByZXByZXNlbnRpbmcgdGhlIHJvdyBvZiB0aGUge1BvaW50OyovXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHplcm8taW5kZXhlZCB7TnVtYmVyfSByZXByZXNlbnRpbmcgdGhlIGNvbHVtbiBvZiB0aGUge1BvaW50fS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbHVtbjogTnVtYmVyO1xuICAgIC8qfSByZXByZXNlbnRpbmcgdGhlIGNvbHVtbiBvZiB0aGUge1BvaW50OyovXG5cbiAgICAgIC8qKlxuICAgICAgICogQ29udmVydCBhbnkgcG9pbnQtY29tcGF0aWJsZSBvYmplY3QgdG8gYSB7UG9pbnR9LlxuICAgICAgICogQHBhcmFtIHtQb2ludH0gVGhpcyBjYW4gYmUgYW4gb2JqZWN0IHRoYXQncyBhbHJlYWR5IGEge1BvaW50fSwgaW4gd2hpY2ggY2FzZSBpdCdzIHNpbXBseSByZXR1cm5lZCwgb3IgYW4gYXJyYXkgY29udGFpbmluZyB0d28ge051bWJlcn1zIHJlcHJlc2VudGluZyB0aGUgcm93IGFuZCBjb2x1bW4uXG4gICAgICAgKiBAcGFyYW0gIEFuIG9wdGlvbmFsIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIGZvcmNlIHRoZSBjb3B5aW5nIG9mIG9iamVjdHMgdGhhdCBhcmUgYWxyZWFkeSBwb2ludHMuXG4gICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnM6IEEge1BvaW50fSBiYXNlZCBvbiB0aGUgZ2l2ZW4gb2JqZWN0LlxuICAgICAgICovXG4gICAgICAgIHN0YXRpYyBmcm9tT2JqZWN0KG9iamVjdDogUG9pbnQsIGNvcHk6IGFueSk6IFBvaW50O1xuICAgICAgLyoqXG4gICAgICAgKiBAcGFyYW0ge1BvaW50fSB7UG9pbnR9XG4gICAgICAgKiBAcGFyYW0ge1BvaW50fSB7UG9pbnR9XG4gICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgdGhlIGdpdmVuIHtQb2ludH0gdGhhdCBpcyBlYXJsaWVyIGluIHRoZSBidWZmZXIuXG4gICAgICAgKi9cbiAgICAgICAgc3RhdGljIG1pbihwb2ludDE6IFBvaW50LCBwb2ludDI6IFBvaW50KTogUG9pbnQ7XG5cblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0IGEge1BvaW50fSBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IHJvd1xuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gY29sdW1uXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcihyb3c6IG51bWJlciwgY29sdW1uOiBudW1iZXIpO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge1BvaW50fSBSZXR1cm5zIGEgbmV3IHtQb2ludH0gd2l0aCB0aGUgc2FtZSByb3cgYW5kIGNvbHVtbi5cbiAgICAgICAgICovXG4gICAgICAgIGNvcHkoKTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSBuZXcge1BvaW50fSB3aXRoIHRoZSByb3cgYW5kIGNvbHVtbiBuZWdhdGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgbmVnYXRlKCk6IFBvaW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFrZXMgdGhpcyBwb2ludCBpbW11dGFibGUgYW5kIHJldHVybnMgaXRzZWxmLlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYW4gaW1tdXRhYmxlIHZlcnNpb24gb2YgdGhpcyB7UG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBmcmVlemUoKTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWlsZCBhbmQgcmV0dXJuIGEgbmV3IHBvaW50IGJ5IGFkZGluZyB0aGUgcm93cyBhbmQgY29sdW1ucyBvZlxuICAgICAgICAgKiB0aGUgZ2l2ZW4gcG9pbnQuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSB3aG9zZSByb3cgYW5kIGNvbHVtbiB3aWxsIGJlIGFkZGVkIHRvIHRoaXMgcG9pbnQncyByb3cgYW5kIGNvbHVtbiB0byBidWlsZCB0aGUgcmV0dXJuZWQgcG9pbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyBhIHtQb2ludH0uXG4gICAgICAgICAqL1xuICAgICAgICB0cmFuc2xhdGUob3RoZXI6IFBvaW50KTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBCdWlsZCBhbmQgcmV0dXJuIGEgbmV3IHtQb2ludH0gYnkgdHJhdmVyc2luZyB0aGUgcm93cyBhbmQgY29sdW1uc1xuICAgICAgICAgKiBzcGVjaWZpZWQgYnkgdGhlIGdpdmVuIHBvaW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gdGhlIGRpcmVjdCwgdmVjdG9yLXN0eWxlIGFkZGl0aW9uIG9mZmVyZWQgYnlcbiAgICAgICAgICogezo6dHJhbnNsYXRlfS4gUmF0aGVyIHRoYW4gYWRkaW5nIHRoZSByb3dzIGFuZCBjb2x1bW5zIGRpcmVjdGx5LCBpdCBkZXJpdmVzXG4gICAgICAgICAqIHRoZSBuZXcgcG9pbnQgZnJvbSB0cmF2ZXJzaW5nIGluIFwidHlwZXdyaXRlciBzcGFjZVwiLiBBdCB0aGUgZW5kIG9mIGV2ZXJ5IHJvd1xuICAgICAgICAgKiB0cmF2ZXJzZWQsIGEgY2FycmlhZ2UgcmV0dXJuIG9jY3VycyB0aGF0IHJldHVybnMgdGhlIGNvbHVtbnMgdG8gMCBiZWZvcmVcbiAgICAgICAgICogY29udGludWluZyB0aGUgdHJhdmVyc2FsLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gcHJvdmlkaW5nIHRoZSByb3dzIGFuZCBjb2x1bW5zIHRvIHRyYXZlcnNlIGJ5LlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgdHJhdmVyc2Uob3RoZXI6IFBvaW50KTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9LlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBgLTFgIGlmIHRoaXMgcG9pbnQgcHJlY2VkZXMgdGhlIGFyZ3VtZW50LlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBgMGAgaWYgdGhpcyBwb2ludCBpcyBlcXVpdmFsZW50IHRvIHRoZSBhcmd1bWVudC5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYDFgIGlmIHRoaXMgcG9pbnQgZm9sbG93cyB0aGUgYXJndW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wYXJlKG90aGVyOiBQb2ludCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0aGlzIHBvaW50IGhhcyB0aGUgc2FtZSByb3dcbiAgICAgICAgYW5kIGNvbHVtbiBhcyB0aGUgZ2l2ZW4ge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0VxdWFsKG90aGVyOiBQb2ludCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9LlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBwb2ludCBwcmVjZWRlcyB0aGUgZ2l2ZW5cbiAgICAgICAge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0xlc3NUaGFuKG90aGVyOiBQb2ludCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9LlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBwb2ludCBwcmVjZWRlcyBvciBpc1xuICAgICAgICBlcXVhbCB0byB0aGUgZ2l2ZW4ge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0xlc3NUaGFuT3JFcXVhbChvdGhlcjogUG9pbnQpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gQSB7UG9pbnR9IG9yIHBvaW50LWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgcG9pbnQgZm9sbG93cyB0aGUgZ2l2ZW5cbiAgICAgICAge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0dyZWF0ZXJUaGFuKG90aGVyOiBQb2ludCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9LlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyBwb2ludCBmb2xsb3dzIG9yIGlzXG4gICAgICAgIGVxdWFsIHRvIHRoZSBnaXZlbiB7UG9pbnR9IG9yIHBvaW50LWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICovXG4gICAgICAgIGlzR3JlYXRlclRoYW5PckVxdWFsKG90aGVyOiBQb2ludCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhbiBhcnJheSBvZiB0aGlzIHBvaW50J3Mgcm93IGFuZCBjb2x1bW4uXG4gICAgICAgICAqL1xuICAgICAgICB0b0FycmF5KCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGFuIGFycmF5IG9mIHRoaXMgcG9pbnQncyByb3cgYW5kIGNvbHVtbi5cbiAgICAgICAgICovXG4gICAgICAgIHNlcmlhbGl6ZSgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgcG9pbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0b1N0cmluZygpOiBhbnk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwcmVzZW50cyBhIHByb2plY3QgdGhhdCdzIG9wZW5lZCBpbiBBdG9tLlxuICAgICAqXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIHRoZSBgYXRvbS5wcm9qZWN0YCBnbG9iYWwuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvcHJvamVjdC5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy9wcm9qZWN0LmNvZmZlZSNMMTZcbiAgICAgKi9cbiAgICBjbGFzcyBQcm9qZWN0IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgcHJvamVjdCBwYXRocyBjaGFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSBwcm9qZWN0IHBhdGhzIGNoYW5nZS5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZVBhdGhzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYSB0ZXh0IGJ1ZmZlciBpcyBhZGRlZCB0byB0aGVcbiAgICAgICAgICogcHJvamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiBhIHRleHQgYnVmZmVyIGlzIGFkZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkQnVmZmVyKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdpdGggYWxsIGN1cnJlbnQgYW5kIGZ1dHVyZSB0ZXh0XG4gICAgICAgICAqIGJ1ZmZlcnMgaW4gdGhlIHByb2plY3QuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdpdGggY3VycmVudCBhbmQgZnV0dXJlIHRleHQgYnVmZmVycy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlQnVmZmVycyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIHtBcnJheX0gb2Yge0dpdFJlcG9zaXRvcnl9cyBhc3NvY2lhdGVkIHdpdGggdGhlIHByb2plY3Qnc1xuICAgICAgICAgKiBkaXJlY3Rvcmllcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2Qgd2lsbCBiZSByZW1vdmVkIGluIDIuMCBiZWNhdXNlIGl0IGRvZXMgc3luY2hyb25vdXMgSS9PLlxuICAgICAgICAgKiBQcmVmZXIgdGhlIGZvbGxvd2luZywgd2hpY2ggZXZhbHVhdGVzIHRvIGEge1Byb21pc2V9IHRoYXQgcmVzb2x2ZXMgdG8gYW5cbiAgICAgICAgICoge0FycmF5fSBvZiB7UmVwb3NpdG9yeX0gb2JqZWN0czpcbiAgICAgICAgICpcbiAgICAgICAgICogYGBgXG4gICAgICAgICAqIFByb21pc2UuYWxsKGF0b20ucHJvamVjdC5nZXREaXJlY3RvcmllcygpLm1hcChcbiAgICAgICAgICogICAgIGF0b20ucHJvamVjdC5yZXBvc2l0b3J5Rm9yRGlyZWN0b3J5LmJpbmQoYXRvbS5wcm9qZWN0KSkpXG4gICAgICAgICAqIGBgYFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UmVwb3NpdG9yaWVzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHJlcG9zaXRvcnkgZm9yIGEgZ2l2ZW4gZGlyZWN0b3J5IGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAgKiBAcGFyYW0ge0RpcmVjdG9yeX0ge0RpcmVjdG9yeX0gZm9yIHdoaWNoIHRvIGdldCBhIHtSZXBvc2l0b3J5fS5cbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHtQcm9taXNlfSB0aGF0IHJlc29sdmVzIHdpdGggZWl0aGVyOlxuXG4gICAgICAgICoge1JlcG9zaXRvcnl9IGlmIGEgcmVwb3NpdG9yeSBjYW4gYmUgY3JlYXRlZCBmb3IgdGhlIGdpdmVuIGRpcmVjdG9yeVxuICAgICAgICAqIGBudWxsYCBpZiBubyByZXBvc2l0b3J5IGNhbiBiZSBjcmVhdGVkIGZvciB0aGUgZ2l2ZW4gZGlyZWN0b3J5LlxuICAgICAgICAgKi9cbiAgICAgICAgcmVwb3NpdG9yeUZvckRpcmVjdG9yeShkaXJlY3Rvcnk6IERpcmVjdG9yeSk6IFByb21pc2U8YW55PjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbiB7QXJyYXl9IG9mIHtTdHJpbmd9cyBjb250YWluaW5nIHRoZSBwYXRocyBvZiB0aGUgcHJvamVjdCdzXG4gICAgICAgICAqIGRpcmVjdG9yaWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGF0aHMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgcGF0aHMgb2YgdGhlIHByb2plY3QncyBkaXJlY3Rvcmllcy5cbiAgICAgICAgICogQHBhcmFtIHthbnlbXX0ge0FycmF5fSBvZiB7U3RyaW5nfSBwYXRocy5cbiAgICAgICAgICovXG4gICAgICAgIHNldFBhdGhzKHByb2plY3RQYXRoczogYW55W10pOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgcGF0aCB0byB0aGUgcHJvamVjdCdzIGxpc3Qgb2Ygcm9vdCBwYXRoc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gVGhlIHBhdGggdG8gdGhlIGRpcmVjdG9yeSB0byBhZGQuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRQYXRoKHByb2plY3RQYXRoOiBzdHJpbmcpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogcmVtb3ZlIGEgcGF0aCBmcm9tIHRoZSBwcm9qZWN0J3MgbGlzdCBvZiByb290IHBhdGhzLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gVGhlIHBhdGggdG8gcmVtb3ZlLlxuICAgICAgICAgKi9cbiAgICAgICAgcmVtb3ZlUGF0aChwcm9qZWN0UGF0aDogc3RyaW5nKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbiB7QXJyYXl9IG9mIHtEaXJlY3Rvcnl9cyBhc3NvY2lhdGVkIHdpdGggdGhpcyBwcm9qZWN0LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGlyZWN0b3JpZXMoKTogRGlyZWN0b3J5W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBhdGggdG8gdGhlIHByb2plY3QgZGlyZWN0b3J5IHRoYXQgY29udGFpbnMgdGhlIGdpdmVuIHBhdGgsXG4gICAgICAgICAqIGFuZCB0aGUgcmVsYXRpdmUgcGF0aCBmcm9tIHRoYXQgcHJvamVjdCBkaXJlY3RvcnkgdG8gdGhlIGdpdmVuIHBhdGguXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBBbiBhYnNvbHV0ZSBwYXRoLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSB3aXRoIHR3byBlbGVtZW50czpcblxuICAgICAgICAqIGBwcm9qZWN0UGF0aGAgVGhlIHtTdHJpbmd9IHBhdGggdG8gdGhlIHByb2plY3QgZGlyZWN0b3J5IHRoYXQgY29udGFpbnMgdGhlXG4gICAgICAgICAgZ2l2ZW4gcGF0aCwgb3IgYG51bGxgIGlmIG5vbmUgaXMgZm91bmQuXG4gICAgICAgICogYHJlbGF0aXZlUGF0aGAge1N0cmluZ30gVGhlIHJlbGF0aXZlIHBhdGggZnJvbSB0aGUgcHJvamVjdCBkaXJlY3RvcnkgdG9cbiAgICAgICAgICB0aGUgZ2l2ZW4gcGF0aC5cbiAgICAgICAgICovXG4gICAgICAgIHJlbGF0aXZpemVQYXRoKGZ1bGxQYXRoOiBzdHJpbmcpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZXMgd2hldGhlciB0aGUgZ2l2ZW4gcGF0aCAocmVhbCBvciBzeW1ib2xpYykgaXMgaW5zaWRlIHRoZVxuICAgICAgICAgKiBwcm9qZWN0J3MgZGlyZWN0b3J5LlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBkb2VzIG5vdCBhY3R1YWxseSBjaGVjayBpZiB0aGUgcGF0aCBleGlzdHMsIGl0IGp1c3QgY2hlY2tzIHRoZWlyXG4gICAgICAgICAqIGxvY2F0aW9ucyByZWxhdGl2ZSB0byBlYWNoIG90aGVyLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gcGF0aFxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB3aGV0aGVyIHRoZSBwYXRoIGlzIGluc2lkZSB0aGUgcHJvamVjdCdzIHJvb3QgZGlyZWN0b3J5LlxuICAgICAgICAgKi9cbiAgICAgICAgY29udGFpbnMocGF0aFRvQ2hlY2s6IHN0cmluZyk6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIGEgcmVnaW9uIGluIGEgYnVmZmVyIGluIHJvdy9jb2x1bW4gY29vcmRpbmF0ZXMuXG4gICAgICpcbiAgICAgKiBFdmVyeSBwdWJsaWMgbWV0aG9kIHRoYXQgdGFrZXMgYSByYW5nZSBhbHNvIGFjY2VwdHMgYSAqcmFuZ2UtY29tcGF0aWJsZSpcbiAgICAgKiB7QXJyYXl9LiBUaGlzIG1lYW5zIGEgMi1lbGVtZW50IGFycmF5IGNvbnRhaW5pbmcge1BvaW50fXMgb3IgcG9pbnQtY29tcGF0aWJsZVxuICAgICAqIGFycmF5cy4gU28gdGhlIGZvbGxvd2luZyBhcmUgZXF1aXZhbGVudDpcbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9yYW5nZS5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL3RleHQtYnVmZmVyL2Jsb2IvdjEwLjMuMTIvc3JjL3JhbmdlLmNvZmZlZSNMMThcbiAgICAgKi9cbiAgICBjbGFzcyBSYW5nZSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtQb2ludH0gcmVwcmVzZW50aW5nIHRoZSBzdGFydCBvZiB0aGUge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIHN0YXJ0OiBQb2ludFxuICAgIC8vfSByZXByZXNlbnRpbmcgdGhlIHN0YXJ0IG9mIHRoZSB7UmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHtQb2ludH0gcmVwcmVzZW50aW5nIHRoZSBlbmQgb2YgdGhlIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBlbmQ6IFBvaW50XG4gICAgLy99IHJlcHJlc2VudGluZyB0aGUgZW5kIG9mIHRoZSB7UmFuZ2U7XG5cbi8qKlxuICogQ29udmVydCBhbnkgcmFuZ2UtY29tcGF0aWJsZSBvYmplY3QgdG8gYSB7UmFuZ2V9LlxuICogQHBhcmFtIHtSYW5nZX0gVGhpcyBjYW4gYmUgYW4gb2JqZWN0IHRoYXQncyBhbHJlYWR5IGEge1JhbmdlfSwgaW4gd2hpY2ggY2FzZSBpdCdzIHNpbXBseSByZXR1cm5lZCwgb3IgYW4gYXJyYXkgY29udGFpbmluZyB0d28ge1BvaW50fXMgb3IgcG9pbnQtY29tcGF0aWJsZSBhcnJheXMuXG4gKiBAcGFyYW0gIEFuIG9wdGlvbmFsIGJvb2xlYW4gaW5kaWNhdGluZyB3aGV0aGVyIHRvIGZvcmNlIHRoZSBjb3B5aW5nIG9mIG9iamVjdHMgdGhhdCBhcmUgYWxyZWFkeSByYW5nZXMuy5pcbiAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJuczogQSB7UmFuZ2V9IGJhc2VkIG9uIHRoZSBnaXZlbiBvYmplY3QuXG4gKi9cbiAgc3RhdGljIGZyb21PYmplY3Qob2JqZWN0OiBSYW5nZSB8IFtQb2ludCwgUG9pbnRdIHwgW1tudW1iZXIsIG51bWJlcl0sIFtudW1iZXIsIG51bWJlcl1dLCBjb3B5PzogYm9vbGVhbik6IFJhbmdlO1xuLyoqXG4gKiBDYWxsIHRoaXMgd2l0aCB0aGUgcmVzdWx0IG9mIHtSYW5nZTo6c2VyaWFsaXplfSB0byBjb25zdHJ1Y3QgYSBuZXcgUmFuZ2UuXG4gKiBAcGFyYW0ge2FueVtdfSB7QXJyYXl9IG9mIHBhcmFtcyB0byBwYXNzIHRvIHRoZSB7Ojpjb25zdHJ1Y3Rvcn1cbiAqL1xuICBzdGF0aWMgZGVzZXJpYWxpemUoYXJyYXk6IGFueVtdKTogdm9pZDtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQ29uc3RydWN0IGEge1JhbmdlfSBvYmplY3RcbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0ge1BvaW50fSBvciBQb2ludCBjb21wYXRpYmxlIHtBcnJheX0gKGRlZmF1bHQ6IFswLDBdKVxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSB7UG9pbnR9IG9yIFBvaW50IGNvbXBhdGlibGUge0FycmF5fSAoZGVmYXVsdDogWzAsMF0pXG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3Rvcihwb2ludEE6IFBvaW50LCBwb2ludEI6IFBvaW50KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgbmV3IHJhbmdlIHdpdGggdGhlIHNhbWUgc3RhcnQgYW5kIGVuZCBwb3NpdGlvbnMuXG4gICAgICAgICAqL1xuICAgICAgICBjb3B5KCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgbmV3IHJhbmdlIHdpdGggdGhlIHN0YXJ0IGFuZCBlbmQgcG9zaXRpb25zIG5lZ2F0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBuZWdhdGUoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYSBwbGFpbiBqYXZhc2NyaXB0IG9iamVjdCByZXByZXNlbnRhdGlvbiBvZiB0aGUgcmFuZ2UuXG4gICAgICAgICAqL1xuICAgICAgICBzZXJpYWxpemUoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogSXMgdGhlIHN0YXJ0IHBvc2l0aW9uIG9mIHRoaXMgcmFuZ2UgZXF1YWwgdG8gdGhlIGVuZCBwb3NpdGlvbj9cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0VtcHR5KCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyByYW5nZSBzdGFydHMgYW5kIGVuZHMgb25cbiAgICAgICAgdGhlIHNhbWUgcm93LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNTaW5nbGVMaW5lKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIG51bWJlciBvZiByb3dzIGluIHRoaXMgcmFuZ2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFJvd0NvdW50KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCByb3dzIGluIHRoZSByYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFJvd3MoKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogRnJlZXplcyB0aGUgcmFuZ2UgYW5kIGl0cyBzdGFydCBhbmQgZW5kIHBvaW50IHNvIGl0IGJlY29tZXNcbiAgICAgICAgICogaW1tdXRhYmxlIGFuZCByZXR1cm5zIGl0c2VsZi5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGFuIGltbXV0YWJsZSB2ZXJzaW9uIG9mIHRoaXMge1JhbmdlfVxuICAgICAgICAgKi9cbiAgICAgICAgZnJlZXplKCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fVxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhIG5ldyByYW5nZSB0aGF0IGNvbnRhaW5zIHRoaXMgcmFuZ2UgYW5kIHRoZSBnaXZlbiByYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIHVuaW9uKG90aGVyUmFuZ2U6IFJhbmdlKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQnVpbGQgYW5kIHJldHVybiBhIG5ldyByYW5nZSBieSB0cmFuc2xhdGluZyB0aGlzIHJhbmdlJ3Mgc3RhcnQgYW5kXG4gICAgICAgICAqIGVuZCBwb2ludHMgYnkgdGhlIGdpdmVuIGRlbHRhKHMpLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gYnkgd2hpY2ggdG8gdHJhbnNsYXRlIHRoZSBzdGFydCBvZiB0aGlzIHJhbmdlLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gdG8gYnkgd2hpY2ggdG8gdHJhbnNsYXRlIHRoZSBlbmQgb2YgdGhpcyByYW5nZS4gSWYgb21pdHRlZCwgdGhlIGBzdGFydERlbHRhYCB3aWxsIGJlIHVzZWQgaW5zdGVhZC5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIHRyYW5zbGF0ZShzdGFydERlbHRhOiBQb2ludCwgZW5kRGVsdGEgPzogUG9pbnQpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJ1aWxkIGFuZCByZXR1cm4gYSBuZXcgcmFuZ2UgYnkgdHJhdmVyc2luZyB0aGlzIHJhbmdlJ3Mgc3RhcnQgYW5kXG4gICAgICAgICAqIGVuZCBwb2ludHMgYnkgdGhlIGdpdmVuIGRlbHRhLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUge1BvaW50Ojp0cmF2ZXJzZX0gZm9yIGRldGFpbHMgb2YgaG93IHRyYXZlcnNhbCBkaWZmZXJzIGZyb20gdHJhbnNsYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBjb250YWluaW5nIHRoZSByb3dzIGFuZCBjb2x1bW5zIHRvIHRyYXZlcnNlIHRvIGRlcml2ZSB0aGUgbmV3IHJhbmdlLlxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgYSB7UmFuZ2V9LlxuICAgICAgICAgKi9cbiAgICAgICAgdHJhdmVyc2UoZGVsdGE6IFBvaW50KTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXJlIHR3byBSYW5nZXNcbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYC0xYCBpZiB0aGlzIHJhbmdlIHN0YXJ0cyBiZWZvcmUgdGhlIGFyZ3VtZW50IG9yIGNvbnRhaW5zIGl0LlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBgMGAgaWYgdGhpcyByYW5nZSBpcyBlcXVpdmFsZW50IHRvIHRoZSBhcmd1bWVudC5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYDFgIGlmIHRoaXMgcmFuZ2Ugc3RhcnRzIGFmdGVyIHRoZSBhcmd1bWVudCBvciBpcyBjb250YWluZWQgYnkgaXQuXG4gICAgICAgICAqL1xuICAgICAgICBjb21wYXJlKG90aGVyUmFuZ2U6IFJhbmdlKTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgcmFuZ2UgaGFzIHRoZSBzYW1lIHN0YXJ0XG4gICAgICAgIGFuZCBlbmQgcG9pbnRzIGFzIHRoZSBnaXZlbiB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICovXG4gICAgICAgIGlzRXF1YWwob3RoZXJSYW5nZTogUmFuZ2UpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgcmFuZ2Ugc3RhcnRzIGFuZCBlbmRzIG9uXG4gICAgICAgIHRoZSBzYW1lIHJvdyBhcyB0aGUgYXJndW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjb3ZlcnNTYW1lUm93cyhvdGhlclJhbmdlOiBSYW5nZSk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmVzIHdoZXRoZXIgdGhpcyByYW5nZSBpbnRlcnNlY3RzIHdpdGggdGhlIGFyZ3VtZW50LlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX0gb3IgcmFuZ2UtY29tcGF0aWJsZSB7QXJyYXl9XG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0byBleGNsdWRlIGVuZHBvaW50cyAgIHdoZW4gdGVzdGluZyBmb3IgaW50ZXJzZWN0aW9uLiBEZWZhdWx0cyB0byBgZmFsc2VgLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIGludGVyc2VjdHNXaXRoKG90aGVyUmFuZ2U6IFJhbmdlLCBleGNsdXNpdmUgPzogYm9vbGVhbik6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX0gb3IgcmFuZ2UtY29tcGF0aWJsZSB7QXJyYXl9XG4gICAgICAgICAqIEBwYXJhbSAgQSBib29sZWFuIHZhbHVlIGluY2x1ZGluZyB0aGF0IHRoZSBjb250YWlubWVudCBzaG91bGQgYmUgZXhjbHVzaXZlIG9mIGVuZHBvaW50cy4gRGVmYXVsdHMgdG8gZmFsc2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0aGlzIHJhbmdlIGNvbnRhaW5zIHRoZSBnaXZlblxuICAgICAgICByYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnRhaW5zUmFuZ2Uob3RoZXJSYW5nZTogUmFuZ2UsIGV4Y2x1c2l2ZT86IGJvb2xlYW4pOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gQSB7UG9pbnR9IG9yIHBvaW50LWNvbXBhdGlibGUge0FycmF5fVxuICAgICAgICAgKiBAcGFyYW0gIEEgYm9vbGVhbiB2YWx1ZSBpbmNsdWRpbmcgdGhhdCB0aGUgY29udGFpbm1lbnQgc2hvdWxkIGJlIGV4Y2x1c2l2ZSBvZiBlbmRwb2ludHMuIERlZmF1bHRzIHRvIGZhbHNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhpcyByYW5nZSBjb250YWlucyB0aGUgZ2l2ZW5cbiAgICAgICAgcG9pbnQuXG4gICAgICAgICAqL1xuICAgICAgICBjb250YWluc1BvaW50KHBvaW50OiBQb2ludCwgZXhjbHVzaXZlPzogYW55KTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBSb3cge051bWJlcn1cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoaXMgcmFuZ2UgaW50ZXJzZWN0cyB0aGVcbiAgICAgICAgZ2l2ZW4gcm93IHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgaW50ZXJzZWN0c1Jvdyhyb3c6IG51bWJlcik6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gc3RhcnQgcm93XG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBlbmQgcm93XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0aGlzIHJhbmdlIGludGVyc2VjdHMgdGhlXG4gICAgICAgIHJvdyByYW5nZSBpbmRpY2F0ZWQgYnkgdGhlIGdpdmVuIHN0YXJ0Um93IGFuZCBlbmRSb3cge051bWJlcn1zLlxuICAgICAgICAgKi9cbiAgICAgICAgaW50ZXJzZWN0c1Jvd1JhbmdlKHN0YXJ0Um93OiBudW1iZXIsIGVuZFJvdzogbnVtYmVyKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIHRvU3RyaW5nKCk6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXcmFwcyBhbiB7QXJyYXl9IG9mIGBTdHJpbmdgcy4gVGhlIEFycmF5IGRlc2NyaWJlcyBhIHBhdGggZnJvbSB0aGVcbiAgICAgKiByb290IG9mIHRoZSBzeW50YXggdHJlZSB0byBhIHRva2VuIGluY2x1ZGluZyBfYWxsXyBzY29wZSBuYW1lcyBmb3IgdGhlIGVudGlyZVxuICAgICAqIHBhdGguXG4gICAgICpcbiAgICAgKiBNZXRob2RzIHRoYXQgdGFrZSBhIGBTY29wZURlc2NyaXB0b3JgIHdpbGwgYWxzbyBhY2NlcHQgYW4ge0FycmF5fSBvZiB7U3RyaW5nc31cbiAgICAgKiBzY29wZSBuYW1lcyBlLmcuIGBbJy5zb3VyY2UuanMnXWAuXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHVzZSBgU2NvcGVEZXNjcmlwdG9yYHMgdG8gZ2V0IGxhbmd1YWdlLXNwZWNpZmljIGNvbmZpZyBzZXR0aW5ncyB2aWFcbiAgICAgKiB7Q29uZmlnOjpnZXR9LlxuICAgICAqXG4gICAgICogWW91IHNob3VsZCBub3QgbmVlZCB0byBjcmVhdGUgYSBgU2NvcGVEZXNjcmlwdG9yYCBkaXJlY3RseS5cbiAgICAgKlxuICAgICAqICoge0VkaXRvcjo6Z2V0Um9vdFNjb3BlRGVzY3JpcHRvcn0gdG8gZ2V0IHRoZSBsYW5ndWFnZSdzIGRlc2NyaXB0b3IuXG4gICAgICogKiB7RWRpdG9yOjpzY29wZURlc2NyaXB0b3JGb3JCdWZmZXJQb3NpdGlvbn0gdG8gZ2V0IHRoZSBkZXNjcmlwdG9yIGF0IGFcbiAgICAgKiAgIHNwZWNpZmljIHBvc2l0aW9uIGluIHRoZSBidWZmZXIuXG4gICAgICogKiB7Q3Vyc29yOjpnZXRTY29wZURlc2NyaXB0b3J9IHRvIGdldCBhIGN1cnNvcidzIGRlc2NyaXB0b3IgYmFzZWQgb24gcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBTZWUgdGhlIFtzY29wZXMgYW5kIHNjb3BlIGRlc2NyaXB0b3IgZ3VpZGVdKGh0dHA6Ly9mbGlnaHQtbWFudWFsLmF0b20uaW8vYmVoaW5kLWF0b20vc2VjdGlvbnMvc2NvcGVkLXNldHRpbmdzLXNjb3Blcy1hbmQtc2NvcGUtZGVzY3JpcHRvcnMvKVxuICAgICAqIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL3Njb3BlLWRlc2NyaXB0b3IuY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS9hdG9tL2Jsb2IvdjEuMTUuMC9zcmMvc2NvcGUtZGVzY3JpcHRvci5jb2ZmZWUjTDIxXG4gICAgICovXG4gICAgY2xhc3MgU2NvcGVEZXNjcmlwdG9yIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIHtTY29wZURlc2NyaXB0b3J9IG9iamVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqL1xuICAgICAgICBjb25zdHJ1Y3RvcihvYmplY3Q6IE9iamVjdCk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7U3RyaW5nfXNcbiAgICAgICAgICovXG4gICAgICAgIGdldFNjb3Blc0FycmF5KCk6IGFueVtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcHJlc2VudHMgYSBzZWxlY3Rpb24gaW4gdGhlIHtUZXh0RWRpdG9yfS5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy9zZWxlY3Rpb24uY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS9hdG9tL2Jsb2IvdjEuMTUuMC9zcmMvc2VsZWN0aW9uLmNvZmZlZSNMMTBcbiAgICAgKi9cbiAgICBjbGFzcyBTZWxlY3Rpb24ge1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIHNlbGVjdGlvbiB3YXMgbW92ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZVJhbmdlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiB0aGUgc2VsZWN0aW9uIHdhcyBkZXN0cm95ZWRcbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGVzdHJveShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIHRoZSBzY3JlZW4ge1JhbmdlfSBmb3IgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNjcmVlblJhbmdlKCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW9kaWZpZXMgdGhlIHNjcmVlbiByYW5nZSBmb3IgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gVGhlIG5ldyB7UmFuZ2V9IHRvIHVzZS5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IG9wdGlvbnMgbWF0Y2hpbmcgdGhvc2UgZm91bmQgaW4gezo6c2V0QnVmZmVyUmFuZ2V9LlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2NyZWVuUmFuZ2Uoc2NyZWVuUmFuZ2U6IFJhbmdlLCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyB0aGUgYnVmZmVyIHtSYW5nZX0gZm9yIHRoZSBzZWxlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCdWZmZXJSYW5nZSgpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vZGlmaWVzIHRoZSBidWZmZXIge1JhbmdlfSBmb3IgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gVGhlIG5ldyB7UmFuZ2V9IHRvIHNlbGVjdC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IHdpdGggdGhlIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBzZXRCdWZmZXJSYW5nZShidWZmZXJSYW5nZTogUmFuZ2UsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgdGhlIHN0YXJ0aW5nIGFuZCBlbmRpbmcgYnVmZmVyIHJvd3MgdGhlIHNlbGVjdGlvbiBpc1xuICAgICAgICBoaWdobGlnaHRpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHR3byB7TnVtYmVyfXM6IHRoZSBzdGFydGluZyByb3csIGFuZCB0aGUgZW5kaW5nIHJvdy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEJ1ZmZlclJvd1JhbmdlKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgc2VsZWN0aW9uIGNvbnRhaW5zIGFueXRoaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNFbXB0eSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lcyBpZiB0aGUgZW5kaW5nIHBvc2l0aW9uIG9mIGEgbWFya2VyIGlzIGdyZWF0ZXIgdGhhbiB0aGVcbiAgICAgICAgICogc3RhcnRpbmcgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgY2FuIGhhcHBlbiB3aGVuLCBmb3IgZXhhbXBsZSwgeW91IGhpZ2hsaWdodCB0ZXh0IFwidXBcIiBpbiBhIHtUZXh0QnVmZmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGlzUmV2ZXJzZWQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBpcyBhIHNpbmdsZSBsaW5lIG9yIG5vdC5cbiAgICAgICAgICovXG4gICAgICAgIGlzU2luZ2xlU2NyZWVuTGluZSgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyB0aGUgdGV4dCBpbiB0aGUgc2VsZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGV4dCgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJZGVudGlmaWVzIGlmIGEgc2VsZWN0aW9uIGludGVyc2VjdHMgd2l0aCBhIGdpdmVuIGJ1ZmZlciByYW5nZS5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IHRvIGNoZWNrIGFnYWluc3QuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59XG4gICAgICAgICAqL1xuICAgICAgICBpbnRlcnNlY3RzQnVmZmVyUmFuZ2UoYnVmZmVyUmFuZ2U6IFJhbmdlKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIElkZW50aWZpZXMgaWYgYSBzZWxlY3Rpb24gaW50ZXJzZWN0cyB3aXRoIGFub3RoZXIgc2VsZWN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge1NlbGVjdGlvbn0gQSB7U2VsZWN0aW9ufSB0byBjaGVjayBhZ2FpbnN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufVxuICAgICAgICAgKi9cbiAgICAgICAgaW50ZXJzZWN0c1dpdGgob3RoZXJTZWxlY3Rpb246IFNlbGVjdGlvbik6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhcnMgdGhlIHNlbGVjdGlvbiwgbW92aW5nIHRoZSBtYXJrZXIgdG8gdGhlIGhlYWQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIGNsZWFyKG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyB0aGUgdGV4dCBmcm9tIHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiB0byBhIGdpdmVuIHNjcmVlblxuICAgICAgICAgKiBwb3NpdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gQW4gaW5zdGFuY2Ugb2Yge1BvaW50fSwgd2l0aCBhIGdpdmVuIGByb3dgIGFuZCBgY29sdW1uYC5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvU2NyZWVuUG9zaXRpb24ocG9zaXRpb246IFBvaW50KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgdGhlIHRleHQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gYSBnaXZlbiBidWZmZXJcbiAgICAgICAgICogcG9zaXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEFuIGluc3RhbmNlIG9mIHtQb2ludH0sIHdpdGggYSBnaXZlbiBgcm93YCBhbmQgYGNvbHVtbmAuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0J1ZmZlclBvc2l0aW9uKHBvc2l0aW9uOiBQb2ludCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIHRoZSB0ZXh0IG9uZSBwb3NpdGlvbiByaWdodCBvZiB0aGUgY3Vyc29yLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbnVtYmVyIG9mIGNvbHVtbnMgdG8gc2VsZWN0IChkZWZhdWx0OiAxKVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0UmlnaHQoY29sdW1uQ291bnQ/OiBudW1iZXIpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyB0aGUgdGV4dCBvbmUgcG9zaXRpb24gbGVmdCBvZiB0aGUgY3Vyc29yLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbnVtYmVyIG9mIGNvbHVtbnMgdG8gc2VsZWN0IChkZWZhdWx0OiAxKVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0TGVmdChjb2x1bW5Db3VudD86IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIGFsbCB0aGUgdGV4dCBvbmUgcG9zaXRpb24gYWJvdmUgdGhlIGN1cnNvci5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IG51bWJlciBvZiByb3dzIHRvIHNlbGVjdCAoZGVmYXVsdDogMSlcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFVwKHJvd0NvdW50PzogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IG9uZSBwb3NpdGlvbiBiZWxvdyB0aGUgY3Vyc29yLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbnVtYmVyIG9mIHJvd3MgdG8gc2VsZWN0IChkZWZhdWx0OiAxKVxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0RG93bihyb3dDb3VudD86IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIGFsbCB0aGUgdGV4dCBmcm9tIHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiB0byB0aGUgdG9wIG9mXG4gICAgICAgICAqIHRoZSBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb1RvcCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyBhbGwgdGhlIHRleHQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlIGJvdHRvbVxuICAgICAgICAgKiBvZiB0aGUgYnVmZmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9Cb3R0b20oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IGluIHRoZSBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RBbGwoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IGZyb20gdGhlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZVxuICAgICAgICAgKiBiZWdpbm5pbmcgb2YgdGhlIGxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0JlZ2lubmluZ09mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyBhbGwgdGhlIHRleHQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlIGZpcnN0XG4gICAgICAgICAqIGNoYXJhY3RlciBvZiB0aGUgbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvRmlyc3RDaGFyYWN0ZXJPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IGZyb20gdGhlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZSBlbmQgb2ZcbiAgICAgICAgICogdGhlIHNjcmVlbiBsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9FbmRPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IGZyb20gdGhlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZSBlbmQgb2ZcbiAgICAgICAgICogdGhlIGJ1ZmZlciBsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9FbmRPZkJ1ZmZlckxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgYWxsIHRoZSB0ZXh0IGZyb20gdGhlIGN1cnJlbnQgY3Vyc29yIHBvc2l0aW9uIHRvIHRoZVxuICAgICAgICAgKiBiZWdpbm5pbmcgb2YgdGhlIHdvcmQuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0JlZ2lubmluZ09mV29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyBhbGwgdGhlIHRleHQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlIGVuZCBvZlxuICAgICAgICAgKiB0aGUgd29yZC5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvRW5kT2ZXb3JkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIGFsbCB0aGUgdGV4dCBmcm9tIHRoZSBjdXJyZW50IGN1cnNvciBwb3NpdGlvbiB0byB0aGVcbiAgICAgICAgICogYmVnaW5uaW5nIG9mIHRoZSBuZXh0IHdvcmQuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0JlZ2lubmluZ09mTmV4dFdvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgdGV4dCB0byB0aGUgcHJldmlvdXMgd29yZCBib3VuZGFyeS5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvUHJldmlvdXNXb3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdHMgdGV4dCB0byB0aGUgbmV4dCB3b3JkIGJvdW5kYXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9OZXh0V29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIHRleHQgdG8gdGhlIHByZXZpb3VzIHN1YndvcmQgYm91bmRhcnkuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb1ByZXZpb3VzU3Vid29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIHRleHQgdG8gdGhlIG5leHQgc3Vid29yZCBib3VuZGFyeS5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvTmV4dFN1YndvcmRCb3VuZGFyeSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyBhbGwgdGhlIHRleHQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlXG4gICAgICAgICAqIGJlZ2lubmluZyBvZiB0aGUgbmV4dCBwYXJhZ3JhcGguXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0JlZ2lubmluZ09mTmV4dFBhcmFncmFwaCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyBhbGwgdGhlIHRleHQgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlXG4gICAgICAgICAqIGJlZ2lubmluZyBvZiB0aGUgcHJldmlvdXMgcGFyYWdyYXBoLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9CZWdpbm5pbmdPZlByZXZpb3VzUGFyYWdyYXBoKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb2RpZmllcyB0aGUgc2VsZWN0aW9uIHRvIGVuY29tcGFzcyB0aGUgY3VycmVudCB3b3JkLlxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgYSB7UmFuZ2V9LlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0V29yZCgpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4cGFuZHMgdGhlIG5ld2VzdCBzZWxlY3Rpb24gdG8gaW5jbHVkZSB0aGUgZW50aXJlIHdvcmQgb24gd2hpY2hcbiAgICAgICAgICogdGhlIGN1cnNvcnMgcmVzdHMuXG4gICAgICAgICAqL1xuICAgICAgICBleHBhbmRPdmVyV29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0cyBhbiBlbnRpcmUgbGluZSBpbiB0aGUgYnVmZmVyLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gVGhlIGxpbmUge051bWJlcn0gdG8gc2VsZWN0IChkZWZhdWx0OiB0aGUgcm93IG9mIHRoZSBjdXJzb3IpLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0TGluZShyb3c6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHBhbmRzIHRoZSBuZXdlc3Qgc2VsZWN0aW9uIHRvIGluY2x1ZGUgdGhlIGVudGlyZSBsaW5lIG9uIHdoaWNoXG4gICAgICAgICAqIHRoZSBjdXJzb3IgY3VycmVudGx5IHJlc3RzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJdCBhbHNvIGluY2x1ZGVzIHRoZSBuZXdsaW5lIGNoYXJhY3Rlci5cbiAgICAgICAgICovXG4gICAgICAgIGV4cGFuZE92ZXJMaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBsYWNlcyB0ZXh0IGF0IHRoZSBjdXJyZW50IHNlbGVjdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gcmVwcmVzZW50aW5nIHRoZSB0ZXh0IHRvIGFkZFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH0gd2l0aCBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgaW5zZXJ0VGV4dCh0ZXh0OiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGJlZm9yZSB0aGUgc2VsZWN0aW9uIGlmIHRoZSBzZWxlY3Rpb25cbiAgICAgICAgICogaXMgZW1wdHkgb3RoZXJ3aXNlIGl0IGRlbGV0ZXMgdGhlIHNlbGVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIGJhY2tzcGFjZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgc2VsZWN0aW9uIG9yLCBpZiBub3RoaW5nIGlzIHNlbGVjdGVkLCB0aGVuIGFsbFxuICAgICAgICAgKiBjaGFyYWN0ZXJzIGZyb20gdGhlIHN0YXJ0IG9mIHRoZSBzZWxlY3Rpb24gYmFjayB0byB0aGUgcHJldmlvdXMgd29yZFxuICAgICAgICAgKiBib3VuZGFyeS5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVRvUHJldmlvdXNXb3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIHNlbGVjdGlvbiBvciwgaWYgbm90aGluZyBpcyBzZWxlY3RlZCwgdGhlbiBhbGxcbiAgICAgICAgICogY2hhcmFjdGVycyBmcm9tIHRoZSBzdGFydCBvZiB0aGUgc2VsZWN0aW9uIHVwIHRvIHRoZSBuZXh0IHdvcmRcbiAgICAgICAgICogYm91bmRhcnkuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb05leHRXb3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgZnJvbSB0aGUgc3RhcnQgb2YgdGhlIHNlbGVjdGlvbiB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZVxuICAgICAgICAgKiBjdXJyZW50IHdvcmQgaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSBvdGhlcndpc2UgaXQgZGVsZXRlcyB0aGUgc2VsZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlVG9CZWdpbm5pbmdPZldvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBsaW5lIHdoaWNoIHRoZSBzZWxlY3Rpb24gYmVnaW5zIG9uXG4gICAgICAgICAqIGFsbCB0aGUgd2F5IHRocm91Z2ggdG8gdGhlIGVuZCBvZiB0aGUgc2VsZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlVG9CZWdpbm5pbmdPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgdGhlIHNlbGVjdGlvbiBvciB0aGUgbmV4dCBjaGFyYWN0ZXIgYWZ0ZXIgdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAgICAgKiBzZWxlY3Rpb24gaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eS5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSwgcmVtb3ZlcyBhbGwgdGV4dCBmcm9tIHRoZSBjdXJzb3IgdG8gdGhlXG4gICAgICAgICAqIGVuZCBvZiB0aGUgbGluZS4gSWYgdGhlIGN1cnNvciBpcyBhbHJlYWR5IGF0IHRoZSBlbmQgb2YgdGhlIGxpbmUsIGl0XG4gICAgICAgICAqIHJlbW92ZXMgdGhlIGZvbGxvd2luZyBuZXdsaW5lLiBJZiB0aGUgc2VsZWN0aW9uIGlzbid0IGVtcHR5LCBvbmx5IGRlbGV0ZXNcbiAgICAgICAgICogdGhlIGNvbnRlbnRzIG9mIHRoZSBzZWxlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb0VuZE9mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgc2VsZWN0aW9uIG9yIGFsbCBjaGFyYWN0ZXJzIGZyb20gdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAgICAgKiBzZWxlY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCB3b3JkIGlmIG5vdGhpbmcgaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb0VuZE9mV29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgc2VsZWN0aW9uIG9yIGFsbCBjaGFyYWN0ZXJzIGZyb20gdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAgICAgKiBzZWxlY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCB3b3JkIGlmIG5vdGhpbmcgaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb0JlZ2lubmluZ09mU3Vid29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgc2VsZWN0aW9uIG9yIGFsbCBjaGFyYWN0ZXJzIGZyb20gdGhlIHN0YXJ0IG9mIHRoZVxuICAgICAgICAgKiBzZWxlY3Rpb24gdG8gdGhlIGVuZCBvZiB0aGUgY3VycmVudCB3b3JkIGlmIG5vdGhpbmcgaXMgc2VsZWN0ZWQuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb0VuZE9mU3Vid29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVtb3ZlcyBvbmx5IHRoZSBzZWxlY3RlZCB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlU2VsZWN0ZWRUZXh0KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZW1vdmVzIHRoZSBsaW5lIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHNlbGVjdGlvbiBpZiB0aGUgc2VsZWN0aW9uXG4gICAgICAgICAqIGlzIGVtcHR5IHVubGVzcyB0aGUgc2VsZWN0aW9uIHNwYW5zIG11bHRpcGxlIGxpbmVzIGluIHdoaWNoIGNhc2UgYWxsIGxpbmVzXG4gICAgICAgICAqIGFyZSByZW1vdmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogSm9pbnMgdGhlIGN1cnJlbnQgbGluZSB3aXRoIHRoZSBvbmUgYmVsb3cgaXQuIExpbmVzIHdpbGxcbiAgICAgICAgICogYmUgc2VwYXJhdGVkIGJ5IGEgc2luZ2xlIHNwYWNlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGVyZSBzZWxlY3Rpb24gc3BhbnMgbW9yZSB0aGFuIG9uZSBsaW5lLCBhbGwgdGhlIGxpbmVzIGFyZSBqb2luZWQgdG9nZXRoZXIuXG4gICAgICAgICAqL1xuICAgICAgICBqb2luTGluZXMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlbW92ZXMgb25lIGxldmVsIG9mIGluZGVudCBmcm9tIHRoZSBjdXJyZW50bHkgc2VsZWN0ZWQgcm93cy5cbiAgICAgICAgICovXG4gICAgICAgIG91dGRlbnRTZWxlY3RlZFJvd3MoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGluZGVudGF0aW9uIGxldmVsIG9mIGFsbCBzZWxlY3RlZCByb3dzIHRvIHZhbHVlcyBzdWdnZXN0ZWRcbiAgICAgICAgICogYnkgdGhlIHJlbGV2YW50IGdyYW1tYXJzLlxuICAgICAgICAgKi9cbiAgICAgICAgYXV0b0luZGVudFNlbGVjdGVkUm93cygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogV3JhcHMgdGhlIHNlbGVjdGVkIGxpbmVzIGluIGNvbW1lbnRzIGlmIHRoZXkgYXJlbid0IGN1cnJlbnRseSBwYXJ0XG4gICAgICAgICAqIG9mIGEgY29tbWVudC5cbiAgICAgICAgICpcbiAgICAgICAgICogUmVtb3ZlcyB0aGUgY29tbWVudCBpZiB0aGV5IGFyZSBjdXJyZW50bHkgd3JhcHBlZCBpbiBhIGNvbW1lbnQuXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVMaW5lQ29tbWVudHMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEN1dHMgdGhlIHNlbGVjdGlvbiB1bnRpbCB0aGUgZW5kIG9mIHRoZSBzY3JlZW4gbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIGN1dFRvRW5kT2ZMaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDdXRzIHRoZSBzZWxlY3Rpb24gdW50aWwgdGhlIGVuZCBvZiB0aGUgYnVmZmVyIGxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBjdXRUb0VuZE9mQnVmZmVyTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29waWVzIHRoZSBzZWxlY3Rpb24gdG8gdGhlIGNsaXBib2FyZCBhbmQgdGhlbiBkZWxldGVzIGl0LlxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHtCb29sZWFufSAoZGVmYXVsdDogZmFsc2UpIFNlZSB7Ojpjb3B5fVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHtCb29sZWFufSAoZGVmYXVsdDogZmFsc2UpIFNlZSB7Ojpjb3B5fVxuICAgICAgICAgKi9cbiAgICAgICAgY3V0KG1haW50YWluQ2xpcGJvYXJkOiBib29sZWFuLCBmdWxsTGluZTogYm9vbGVhbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb3BpZXMgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIHRvIHRoZSBjbGlwYm9hcmQuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ge0Jvb2xlYW59IGlmIGB0cnVlYCwgYSBzcGVjaWZpYyBtZXRhZGF0YSBwcm9wZXJ0eSBpcyBjcmVhdGVkIHRvIHN0b3JlIGVhY2ggY29udGVudCBjb3BpZWQgdG8gdGhlIGNsaXBib2FyZC4gVGhlIGNsaXBib2FyZCBgdGV4dGAgc3RpbGwgY29udGFpbnMgdGhlIGNvbmNhdGVuYXRpb24gb2YgdGhlIGNsaXBib2FyZCB3aXRoIHRoZSBjdXJyZW50IHNlbGVjdGlvbi4gKGRlZmF1bHQ6IGZhbHNlKVxuICAgICAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IHtCb29sZWFufSBpZiBgdHJ1ZWAsIHRoZSBjb3BpZWQgdGV4dCB3aWxsIGFsd2F5cyBiZSBwYXN0ZWQgYXQgdGhlIGJlZ2lubmluZyBvZiB0aGUgbGluZSBjb250YWluaW5nIHRoZSBjdXJzb3IsIHJlZ2FyZGxlc3Mgb2YgdGhlIGN1cnNvcidzIGhvcml6b250YWwgcG9zaXRpb24uIChkZWZhdWx0OiBmYWxzZSlcbiAgICAgICAgICovXG4gICAgICAgIGNvcHkobWFpbnRhaW5DbGlwYm9hcmQ6IGJvb2xlYW4sIGZ1bGxMaW5lOiBib29sZWFuKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZXMgYSBmb2xkIGNvbnRhaW5pbmcgdGhlIGN1cnJlbnQgc2VsZWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgZm9sZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogSWYgdGhlIHNlbGVjdGlvbiBzcGFucyBtdWx0aXBsZSByb3dzLCBpbmRlbnQgYWxsIG9mIHRoZW0uXG4gICAgICAgICAqL1xuICAgICAgICBpbmRlbnRTZWxlY3RlZFJvd3MoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBzZWxlY3Rpb24gZG93biBvbmUgcm93LlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkU2VsZWN0aW9uQmVsb3coKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmVzIHRoZSBzZWxlY3Rpb24gdXAgb25lIHJvdy5cbiAgICAgICAgICovXG4gICAgICAgIGFkZFNlbGVjdGlvbkFib3ZlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21iaW5lcyB0aGUgZ2l2ZW4gc2VsZWN0aW9uIGludG8gdGhpcyBzZWxlY3Rpb24gYW5kIHRoZW4gZGVzdHJveXNcbiAgICAgICAgICogdGhlIGdpdmVuIHNlbGVjdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtTZWxlY3Rpb259IEEge1NlbGVjdGlvbn0gdG8gbWVyZ2Ugd2l0aC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IG9wdGlvbnMgbWF0Y2hpbmcgdGhvc2UgZm91bmQgaW4gezo6c2V0QnVmZmVyUmFuZ2V9LlxuICAgICAgICAgKi9cbiAgICAgICAgbWVyZ2Uob3RoZXJTZWxlY3Rpb246IFNlbGVjdGlvbiwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb21wYXJlIHRoaXMgc2VsZWN0aW9uJ3MgYnVmZmVyIHJhbmdlIHRvIGFub3RoZXIgc2VsZWN0aW9uJ3MgYnVmZmVyXG4gICAgICAgICAqIHJhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUge1JhbmdlOjpjb21wYXJlfSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgKiBAcGFyYW0ge1NlbGVjdGlvbn0gQSB7U2VsZWN0aW9ufSB0byBjb21wYXJlIGFnYWluc3RcbiAgICAgICAgICovXG4gICAgICAgIGNvbXBhcmUob3RoZXJTZWxlY3Rpb246IFNlbGVjdGlvbik6IHZvaWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBhdmFpbGFibGUgdmlhIGBhdG9tLnN0eWxlc2AsXG4gICAgICogd2hpY2ggeW91IGNhbiB1c2UgdG8gZ2xvYmFsbHkgcXVlcnkgYW5kIG9ic2VydmUgdGhlIHNldCBvZiBhY3RpdmUgc3R5bGVcbiAgICAgKiBzaGVldHMuIFRoZSBgU3R5bGVNYW5hZ2VyYCBkb2Vzbid0IGFkZCBhbnkgc3R5bGUgZWxlbWVudHMgdG8gdGhlIERPTSBvbiBpdHNcbiAgICAgKiBvd24sIGJ1dCBpcyBpbnN0ZWFkIHN1YnNjcmliZWQgdG8gYnkgaW5kaXZpZHVhbCBgPGF0b20tc3R5bGVzPmAgZWxlbWVudHMsXG4gICAgICogd2hpY2ggY2xvbmUgYW5kIGF0dGFjaCBzdHlsZSBlbGVtZW50cyBpbiBkaWZmZXJlbnQgY29udGV4dHMuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvc3R5bGUtbWFuYWdlci5qc1xuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL3N0eWxlLW1hbmFnZXIuanMjTDE1XG4gICAgICovXG4gICAgY2xhc3MgU3R5bGVNYW5hZ2VyIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSBgY2FsbGJhY2tgIGZvciBhbGwgY3VycmVudCBhbmQgZnV0dXJlIHN0eWxlIGVsZW1lbnRzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRoYXQgaXMgY2FsbGVkIHdpdGggc3R5bGUgZWxlbWVudHMuXG4gICAgICAgICAqIEBwYXJhbSAgQW4gYEhUTUxTdHlsZUVsZW1lbnRgIGluc3RhbmNlLiBUaGUgYC5zaGVldGAgcHJvcGVydHkgd2lsbCBiZSBudWxsIGJlY2F1c2UgdGhpcyBlbGVtZW50IGlzbid0IGF0dGFjaGVkIHRvIHRoZSBET00uIElmIHlvdSB3YW50IHRvIGF0dGFjaCB0aGlzIGVsZW1lbnQgdG8gdGhlIERPTSwgYmUgc3VyZSB0byBjbG9uZSBpdCBmaXJzdCBieSBjYWxsaW5nIGAuY2xvbmVOb2RlKHRydWUpYCBvbiBpdC4gVGhlIHN0eWxlIGVsZW1lbnQgd2lsbCBhbHNvIGhhdmUgdGhlIGZvbGxvd2luZyBub24tc3RhbmRhcmQgcHJvcGVydGllczpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gY29udGFpbmluZyB0aGUgcGF0aCBmcm9tIHdoaWNoIHRoZSBzdHlsZSBlbGVtZW50IHdhcyBsb2FkZWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IGluZGljYXRpbmcgdGhlIHRhcmdldCBjb250ZXh0IG9mIHRoZSBzdHlsZSBlbGVtZW50LlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byBjYW5jZWwgdGhlXG4gICAgICAgIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIG9ic2VydmVTdHlsZUVsZW1lbnRzKGNhbGxiYWNrOiBGdW5jdGlvbiwgc3R5bGVFbGVtZW50OiBhbnksIHNvdXJjZVBhdGg6IHN0cmluZywgY29udGV4dDogc3RyaW5nKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSBgY2FsbGJhY2tgIHdoZW4gYSBzdHlsZSBlbGVtZW50IGlzIGFkZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRoYXQgaXMgY2FsbGVkIHdpdGggc3R5bGUgZWxlbWVudHMuXG4gICAgICAgICAqIEBwYXJhbSAgQW4gYEhUTUxTdHlsZUVsZW1lbnRgIGluc3RhbmNlLiBUaGUgYC5zaGVldGAgcHJvcGVydHkgd2lsbCBiZSBudWxsIGJlY2F1c2UgdGhpcyBlbGVtZW50IGlzbid0IGF0dGFjaGVkIHRvIHRoZSBET00uIElmIHlvdSB3YW50IHRvIGF0dGFjaCB0aGlzIGVsZW1lbnQgdG8gdGhlIERPTSwgYmUgc3VyZSB0byBjbG9uZSBpdCBmaXJzdCBieSBjYWxsaW5nIGAuY2xvbmVOb2RlKHRydWUpYCBvbiBpdC4gVGhlIHN0eWxlIGVsZW1lbnQgd2lsbCBhbHNvIGhhdmUgdGhlIGZvbGxvd2luZyBub24tc3RhbmRhcmQgcHJvcGVydGllczpcbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gY29udGFpbmluZyB0aGUgcGF0aCBmcm9tIHdoaWNoIHRoZSBzdHlsZSBlbGVtZW50IHdhcyBsb2FkZWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IGluZGljYXRpbmcgdGhlIHRhcmdldCBjb250ZXh0IG9mIHRoZSBzdHlsZSBlbGVtZW50LlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byBjYW5jZWwgdGhlXG4gICAgICAgIHN1YnNjcmlwdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkU3R5bGVFbGVtZW50KGNhbGxiYWNrOiBGdW5jdGlvbiwgc3R5bGVFbGVtZW50OiBhbnksIHNvdXJjZVBhdGg6IHN0cmluZywgY29udGV4dDogc3RyaW5nKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSBgY2FsbGJhY2tgIHdoZW4gYSBzdHlsZSBlbGVtZW50IGlzIHJlbW92ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdGhhdCBpcyBjYWxsZWQgd2l0aCBzdHlsZSBlbGVtZW50cy5cbiAgICAgICAgICogQHBhcmFtICBBbiBgSFRNTFN0eWxlRWxlbWVudGAgaW5zdGFuY2UuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIGNhbmNlbCB0aGVcbiAgICAgICAgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRSZW1vdmVTdHlsZUVsZW1lbnQoY2FsbGJhY2s6IEZ1bmN0aW9uLCBzdHlsZUVsZW1lbnQ6IGFueSk6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgYGNhbGxiYWNrYCB3aGVuIGFuIGV4aXN0aW5nIHN0eWxlIGVsZW1lbnQgaXMgdXBkYXRlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0aGF0IGlzIGNhbGxlZCB3aXRoIHN0eWxlIGVsZW1lbnRzLlxuICAgICAgICAgKiBAcGFyYW0gIEFuIGBIVE1MU3R5bGVFbGVtZW50YCBpbnN0YW5jZS4gVGhlIGAuc2hlZXRgIHByb3BlcnR5IHdpbGwgYmUgbnVsbCBiZWNhdXNlIHRoaXMgZWxlbWVudCBpc24ndCBhdHRhY2hlZCB0byB0aGUgRE9NLiBUaGUgc3R5bGUgZWxlbWVudCB3aWxsIGFsc28gaGF2ZSB0aGUgZm9sbG93aW5nIG5vbi1zdGFuZGFyZCBwcm9wZXJ0aWVzOlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSBjb250YWluaW5nIHRoZSBwYXRoIGZyb20gd2hpY2ggdGhlIHN0eWxlIGVsZW1lbnQgd2FzIGxvYWRlZC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gaW5kaWNhdGluZyB0aGUgdGFyZ2V0IGNvbnRleHQgb2YgdGhlIHN0eWxlIGVsZW1lbnQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIGNhbmNlbCB0aGVcbiAgICAgICAgc3Vic2NyaXB0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRVcGRhdGVTdHlsZUVsZW1lbnQoY2FsbGJhY2s6IEZ1bmN0aW9uLCBzdHlsZUVsZW1lbnQ6IGFueSwgc291cmNlUGF0aDogc3RyaW5nLCBjb250ZXh0OiBzdHJpbmcpOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBsb2FkZWQgc3R5bGUgZWxlbWVudHMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTdHlsZUVsZW1lbnRzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBhdGggb2YgdGhlIHVzZXIgc3R5bGUgc2hlZXQgaW4gYH4vLmF0b21gLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRVc2VyU3R5bGVTaGVldFBhdGgoKTogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJ1biBhIG5vZGUgc2NyaXB0IGluIGEgc2VwYXJhdGUgcHJvY2Vzcy5cbiAgICAgKlxuICAgICAqIFVzZWQgYnkgdGhlIGZ1enp5LWZpbmRlciBhbmQgW2ZpbmQgaW4gcHJvamVjdF0oaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL21hc3Rlci9zcmMvc2Nhbi1oYW5kbGVyLmNvZmZlZSkuXG4gICAgICpcbiAgICAgKiBGb3IgYSByZWFsLXdvcmxkIGV4YW1wbGUsIHNlZSB0aGUgW3NjYW4taGFuZGxlcl0oaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL21hc3Rlci9zcmMvc2Nhbi1oYW5kbGVyLmNvZmZlZSlcbiAgICAgKiBhbmQgdGhlIFtpbnN0YW50aWF0aW9uIG9mIHRoZSB0YXNrXShodHRwczovL2dpdGh1Yi5jb20vYXRvbS9hdG9tL2Jsb2IvNGEyMGYxMzE2MmY2NWFmYzgxNmI1MTJhZDcyMDFlNTI4YzM0NDNkNy9zcmMvcHJvamVjdC5jb2ZmZWUjTDI0NSkuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvdGFzay5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy90YXNrLmNvZmZlZSNMNDBcbiAgICAgKi9cbiAgICBjbGFzcyBUYXNrIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVscGVyIG1ldGhvZCB0byBlYXNpbHkgbGF1bmNoIGFuZCBydW4gYSB0YXNrIG9uY2UuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCB0byB0aGUgQ29mZmVlU2NyaXB0L0phdmFTY3JpcHQgZmlsZSB3aGljaCBleHBvcnRzIGEgc2luZ2xlIHtGdW5jdGlvbn0gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHBhcmFtICBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGV4cG9ydGVkIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7VGFza30gUmV0dXJucyB0aGUgY3JlYXRlZCB7VGFza30uXG4gICAgICAgICAqL1xuICAgICAgICBzdGF0aWMgb25jZSh0YXNrUGF0aDogc3RyaW5nLCBhcmdzOiBhbnkpOiBUYXNrO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGVzIGEgdGFzay4gWW91IHNob3VsZCBwcm9iYWJseSB1c2Ugey5vbmNlfVxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IHBhdGggdG8gdGhlIENvZmZlZVNjcmlwdC9KYXZhU2NyaXB0IGZpbGUgdGhhdCBleHBvcnRzIGEgc2luZ2xlIHtGdW5jdGlvbn0gdG8gZXhlY3V0ZS5cbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKHRhc2tQYXRoOiBzdHJpbmcpO1xuICAgICAgICAvKipcbiAgICAgICAgICogU3RhcnRzIHRoZSB0YXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhpcyB0YXNrIGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZCBvciBpZiBzZW5kaW5nIGFcbiAgICAgICAgICogbWVzc2FnZSB0byB0aGUgY2hpbGQgcHJvY2VzcyBmYWlscy5cbiAgICAgICAgICogQHBhcmFtICBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGZ1bmN0aW9uIGV4cG9ydGVkIGJ5IHRoaXMgdGFzaydzIHNjcmlwdC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRvIGNhbGwgd2hlbiB0aGUgdGFzayBjb21wbGV0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBzdGFydChhcmdzOiBhbnksIGNhbGxiYWNrPzogRnVuY3Rpb24pOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VuZCBtZXNzYWdlIHRvIHRoZSB0YXNrLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaHJvd3MgYW4gZXJyb3IgaWYgdGhpcyB0YXNrIGhhcyBhbHJlYWR5IGJlZW4gdGVybWluYXRlZCBvciBpZiBzZW5kaW5nIGFcbiAgICAgICAgICogbWVzc2FnZSB0byB0aGUgY2hpbGQgcHJvY2VzcyBmYWlscy5cbiAgICAgICAgICogQHBhcmFtICBUaGUgbWVzc2FnZSB0byBzZW5kIHRvIHRoZSB0YXNrLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VuZChtZXNzYWdlOiBhbnkpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbCBhIGZ1bmN0aW9uIHdoZW4gYW4gZXZlbnQgaXMgZW1pdHRlZCBieSB0aGUgY2hpbGQgcHJvY2Vzc1xuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IG5hbWUgb2YgdGhlIGV2ZW50IHRvIGhhbmRsZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gVGhlIHtGdW5jdGlvbn0gdG8gY2FsbCB3aGVuIHRoZSBldmVudCBpcyBlbWl0dGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSB0aGF0IGNhbiBiZSB1c2VkIHRvIHN0b3AgbGlzdGVuaW5nIGZvciB0aGUgZXZlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBvbihldmVudE5hbWU6IHN0cmluZywgY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEEgaGVscGVyIG1ldGhvZCB0byBlYXNpbHkgbGF1bmNoIGFuZCBydW4gYSB0YXNrIG9uY2UuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBUaGUge1N0cmluZ30gcGF0aCB0byB0aGUgQ29mZmVlU2NyaXB0L0phdmFTY3JpcHQgZmlsZSB3aGljaCBleHBvcnRzIGEgc2luZ2xlIHtGdW5jdGlvbn0gdG8gZXhlY3V0ZS5cbiAgICAgICAgICogQHBhcmFtICBUaGUgYXJndW1lbnRzIHRvIHBhc3MgdG8gdGhlIGV4cG9ydGVkIGZ1bmN0aW9uLlxuICAgICAgICAgKiBAcmV0dXJucyB7VGFza30gUmV0dXJucyB0aGUgY3JlYXRlZCB7VGFza30uXG4gICAgICAgICAqL1xuICAgICAgICBvbmNlKHRhc2tQYXRoOiBzdHJpbmcsIGFyZ3M6IGFueSk6IFRhc2s7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3JjZWZ1bGx5IHN0b3AgdGhlIHJ1bm5pbmcgdGFzay5cbiAgICAgICAgICpcbiAgICAgICAgICogTm8gbW9yZSBldmVudHMgYXJlIGVtaXR0ZWQgb25jZSB0aGlzIG1ldGhvZCBpcyBjYWxsZWQuXG4gICAgICAgICAqL1xuICAgICAgICB0ZXJtaW5hdGUoKTogdm9pZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIG11dGFibGUgdGV4dCBjb250YWluZXIgd2l0aCB1bmRvL3JlZG8gc3VwcG9ydCBhbmQgdGhlIGFiaWxpdHkgdG9cbiAgICAgKiBhbm5vdGF0ZSBsb2dpY2FsIHJlZ2lvbnMgaW4gdGhlIHRleHQuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvdGV4dC1idWZmZXIuY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS90ZXh0LWJ1ZmZlci9ibG9iL3YxMC4zLjEyL3NyYy90ZXh0LWJ1ZmZlci5jb2ZmZWUjTDIzXG4gICAgICovXG4gICAgY2xhc3MgVGV4dEJ1ZmZlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBuZXcgYnVmZmVyIHdpdGggdGhlIGdpdmVuIHBhcmFtcy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9IG9yIHtTdHJpbmd9IG9mIHRleHRcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0cnVjdG9yKHBhcmFtczogT2JqZWN0KTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgc3luY2hyb25vdXNseSBfYmVmb3JlXyB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgICAgICogYnVmZmVyIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJlY2F1c2Ugb2JzZXJ2ZXJzIGFyZSBpbnZva2VkIHN5bmNocm9ub3VzbHksIGl0J3MgaW1wb3J0YW50IG5vdCB0byBwZXJmb3JtXG4gICAgICAgICAqIGFueSBleHBlbnNpdmUgb3BlcmF0aW9ucyB2aWEgdGhpcyBtZXRob2QuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGJ1ZmZlciBjaGFuZ2VzLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uV2lsbENoYW5nZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBzeW5jaHJvbm91c2x5IHdoZW4gdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAgICAgICAqIGJ1ZmZlciBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZWNhdXNlIG9ic2VydmVycyBhcmUgaW52b2tlZCBzeW5jaHJvbm91c2x5LCBpdCdzIGltcG9ydGFudCBub3QgdG8gcGVyZm9ybVxuICAgICAgICAgKiBhbnkgZXhwZW5zaXZlIG9wZXJhdGlvbnMgdmlhIHRoaXMgbWV0aG9kLiBDb25zaWRlciB7OjpvbkRpZFN0b3BDaGFuZ2luZ30gdG9cbiAgICAgICAgICogZGVsYXkgZXhwZW5zaXZlIG9wZXJhdGlvbnMgdW50aWwgYWZ0ZXIgY2hhbmdlcyBzdG9wIG9jY3VycmluZy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgYnVmZmVyIGNoYW5nZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2UoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgYXN5bmNocm9ub3VzbHkgZm9sbG93aW5nIG9uZSBvciBtb3JlXG4gICAgICAgICAqIGNoYW5nZXMgYWZ0ZXIgezo6Z2V0U3RvcHBlZENoYW5naW5nRGVsYXl9IG1pbGxpc2Vjb25kcyBlbGFwc2Ugd2l0aG91dCBhblxuICAgICAgICAgKiBhZGRpdGlvbmFsIGNoYW5nZS5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgY2FuIGJlIHVzZWQgdG8gcGVyZm9ybSBwb3RlbnRpYWxseSBleHBlbnNpdmUgb3BlcmF0aW9ucyB0aGF0XG4gICAgICAgICAqIGRvbid0IG5lZWQgdG8gYmUgcGVyZm9ybWVkIHN5bmNocm9ub3VzbHkuIElmIHlvdSBuZWVkIHRvIHJ1biB5b3VyIGNhbGxiYWNrXG4gICAgICAgICAqIHN5bmNocm9ub3VzbHksIHVzZSB7OjpvbkRpZENoYW5nZX0gaW5zdGVhZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgYnVmZmVyIHN0b3BzIGNoYW5naW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkU3RvcENoYW5naW5nKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIGluLW1lbW9yeSBjb250ZW50cyBvZiB0aGVcbiAgICAgICAgICogYnVmZmVyIGJlY29tZSBpbiBjb25mbGljdCB3aXRoIHRoZSBjb250ZW50cyBvZiB0aGUgZmlsZSBvbiBkaXNrLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBidWZmZXIgZW50ZXJzIGNvbmZsaWN0LlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQ29uZmxpY3QoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgaWYgdGhlIHZhbHVlIG9mIHs6OmlzTW9kaWZpZWR9IGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gezo6aXNNb2RpZmllZH0gY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZU1vZGlmaWVkKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gYWxsIG1hcmtlciBgOjpvbkRpZENoYW5nZWBcbiAgICAgICAgICogb2JzZXJ2ZXJzIGhhdmUgYmVlbiBub3RpZmllZCBmb2xsb3dpbmcgYSBjaGFuZ2UgdG8gdGhlIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIG9yZGVyIG9mIGV2ZW50cyBmb2xsb3dpbmcgYSBidWZmZXIgY2hhbmdlIGlzIGFzIGZvbGxvd3M6XG4gICAgICAgICAqXG4gICAgICAgICAqICogVGhlIHRleHQgb2YgdGhlIGJ1ZmZlciBpcyBjaGFuZ2VkXG4gICAgICAgICAqICogQWxsIG1hcmtlcnMgYXJlIHVwZGF0ZWQgYWNjb3JkaW5nbHksIGJ1dCB0aGVpciBgOjpvbkRpZENoYW5nZWAgb2JzZXJ2ZXJzXG4gICAgICAgICAqICAgYXJlIG5vdCBub3RpZmllZC5cbiAgICAgICAgICogKiBgVGV4dEJ1ZmZlcjo6b25EaWRDaGFuZ2VgIG9ic2VydmVycyBhcmUgbm90aWZpZWQuXG4gICAgICAgICAqICogYE1hcmtlcjo6b25EaWRDaGFuZ2VgIG9ic2VydmVycyBhcmUgbm90aWZpZWQuXG4gICAgICAgICAqICogYFRleHRCdWZmZXI6Om9uRGlkVXBkYXRlTWFya2Vyc2Agb2JzZXJ2ZXJzIGFyZSBub3RpZmllZC5cbiAgICAgICAgICpcbiAgICAgICAgICogQmFzaWNhbGx5LCB0aGlzIG1ldGhvZCBnaXZlcyB5b3UgYSB3YXkgdG8gdGFrZSBhY3Rpb24gYWZ0ZXIgYm90aCBhIGJ1ZmZlclxuICAgICAgICAgKiBjaGFuZ2UgYW5kIGFsbCBhc3NvY2lhdGVkIG1hcmtlciBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBhZnRlciBtYXJrZXJzIGFyZSB1cGRhdGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkVXBkYXRlTWFya2VycyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIGEgbWFya2VyIGlzIGNyZWF0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gYSBtYXJrZXIgaXMgY3JlYXRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENyZWF0ZU1hcmtlcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSB2YWx1ZSBvZiB7OjpnZXRQYXRofSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBwYXRoIGNoYW5nZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VQYXRoKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIHZhbHVlIG9mIHs6OmdldEVuY29kaW5nfSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBlbmNvZGluZyBjaGFuZ2VzLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQ2hhbmdlRW5jb2RpbmcoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmVmb3JlIHRoZSBidWZmZXIgaXMgc2F2ZWQgdG8gZGlzay5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgYmVmb3JlIHRoZSBidWZmZXIgaXMgc2F2ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25XaWxsU2F2ZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBhZnRlciB0aGUgYnVmZmVyIGlzIHNhdmVkIHRvIGRpc2suXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSBidWZmZXIgaXMgc2F2ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRTYXZlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIGFmdGVyIHRoZSBmaWxlIGJhY2tpbmcgdGhlIGJ1ZmZlciBpc1xuICAgICAgICAgKiBkZWxldGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBhZnRlciB0aGUgYnVmZmVyIGlzIGRlbGV0ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREZWxldGUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgYmVmb3JlIHRoZSBidWZmZXIgaXMgcmVsb2FkZWQgZnJvbSB0aGVcbiAgICAgICAgICogY29udGVudHMgb2YgaXRzIGZpbGUgb24gZGlzay5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgYmVmb3JlIHRoZSBidWZmZXIgaXMgcmVsb2FkZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25XaWxsUmVsb2FkKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIGFmdGVyIHRoZSBidWZmZXIgaXMgcmVsb2FkZWQgZnJvbSB0aGVcbiAgICAgICAgICogY29udGVudHMgb2YgaXRzIGZpbGUgb24gZGlzay5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgYWZ0ZXIgdGhlIGJ1ZmZlciBpcyByZWxvYWRlZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZFJlbG9hZChjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZSBidWZmZXIgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBidWZmZXIgaXMgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkRGVzdHJveShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIHRoZXJlIGlzIGFuIGVycm9yIGluIHdhdGNoaW5nIHRoZVxuICAgICAgICAgKiBmaWxlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25XaWxsVGhyb3dXYXRjaEVycm9yKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdGhhdCB3aWxsIGVsYXBzZSB3aXRob3V0IGEgY2hhbmdlXG4gICAgICAgICAqIGJlZm9yZSB7OjpvbkRpZFN0b3BDaGFuZ2luZ30gb2JzZXJ2ZXJzIGFyZSBpbnZva2VkIGZvbGxvd2luZyBhIGNoYW5nZS5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U3RvcHBlZENoYW5naW5nRGVsYXkoKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIGlmIHRoZSBpbi1tZW1vcnkgY29udGVudHMgb2YgdGhlIGJ1ZmZlciBkaWZmZXIgZnJvbSBpdHNcbiAgICAgICAgICogY29udGVudHMgb24gZGlzay5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGJ1ZmZlciBpcyB1bnNhdmVkLCBhbHdheXMgcmV0dXJucyBgdHJ1ZWAgdW5sZXNzIHRoZSBidWZmZXIgaXMgZW1wdHkuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNNb2RpZmllZCgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIGlmIHRoZSBpbi1tZW1vcnkgY29udGVudHMgb2YgdGhlIGJ1ZmZlciBjb25mbGljdCB3aXRoIHRoZVxuICAgICAgICAgKiBvbi1kaXNrIGNvbnRlbnRzIG9mIGl0cyBhc3NvY2lhdGVkIGZpbGUuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNJbkNvbmZsaWN0KCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBhdGggb2YgdGhlIGFzc29jaWF0ZWQgZmlsZS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHtTdHJpbmd9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGF0aCgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHBhdGggZm9yIHRoZSBidWZmZXIncyBhc3NvY2lhdGVkIGZpbGUuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IHJlcHJlc2VudGluZyB0aGUgbmV3IGZpbGUgcGF0aFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0UGF0aChmaWxlUGF0aDogc3RyaW5nKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldHMgdGhlIGNoYXJhY3RlciBzZXQgZW5jb2RpbmcgZm9yIHRoaXMgYnVmZmVyLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IGVuY29kaW5nIHRvIHVzZSAoZGVmYXVsdDogJ3V0ZjgnKS5cbiAgICAgICAgICovXG4gICAgICAgIHNldEVuY29kaW5nKGVuY29kaW5nOiBzdHJpbmcpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUge1N0cmluZ30gZW5jb2Rpbmcgb2YgdGhpcyBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRFbmNvZGluZygpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBhdGggb2YgdGhlIGFzc29jaWF0ZWQgZmlsZS5cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHtTdHJpbmd9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VXJpKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBidWZmZXIgaXMgZW1wdHkuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNFbXB0eSgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBlbnRpcmUgdGV4dCBvZiB0aGUgYnVmZmVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRUZXh0KCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdGV4dCBpbiBhIHJhbmdlLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX1cbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyBhIHtTdHJpbmd9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRUZXh0SW5SYW5nZShyYW5nZTogUmFuZ2UpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHRleHQgb2YgYWxsIGxpbmVzIGluIHRoZSBidWZmZXIsIHdpdGhvdXQgdGhlaXIgbGluZSBlbmRpbmdzLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7U3RyaW5nfXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaW5lcygpOiBzdHJpbmdbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdGV4dCBvZiB0aGUgbGFzdCBsaW5lIG9mIHRoZSBidWZmZXIsIHdpdGhvdXQgaXRzIGxpbmVcbiAgICAgICAgICogZW5kaW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXN0TGluZSgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHRleHQgb2YgdGhlIGxpbmUgYXQgdGhlIGdpdmVuIHJvdywgd2l0aG91dCBpdHMgbGluZSBlbmRpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9IHJlcHJlc2VudGluZyBhIDAtaW5kZXhlZCByb3cuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfS5cbiAgICAgICAgICovXG4gICAgICAgIGxpbmVGb3JSb3cocm93OiBudW1iZXIpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGxpbmUgZW5kaW5nIGZvciB0aGUgZ2l2ZW4gMC1pbmRleGVkIHJvdy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gaW5kaWNhdGluZyB0aGUgcm93LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uIFRoZSByZXR1cm5lZCBuZXdsaW5lIGlzIHJlcHJlc2VudGVkIGFzIGEgbGl0ZXJhbCBzdHJpbmc6XG4gICAgICAgIGAnXFxuJ2AsIGAnXFxyJ2AsIGAnXFxyXFxuJ2AsIG9yIGAnJ2AgZm9yIHRoZSBsYXN0IGxpbmUgb2YgdGhlIGJ1ZmZlciwgd2hpY2hcbiAgICAgICAgZG9lc24ndCBlbmQgaW4gYSBuZXdsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgbGluZUVuZGluZ0ZvclJvdyhyb3c6IG51bWJlcik6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbGVuZ3RoIG9mIHRoZSBsaW5lIGZvciB0aGUgZ2l2ZW4gMC1pbmRleGVkIHJvdywgd2l0aG91dCBpdHNcbiAgICAgICAgICogbGluZSBlbmRpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9IGluZGljYXRpbmcgdGhlIHJvdy5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgbGluZUxlbmd0aEZvclJvdyhyb3c6IG51bWJlcik6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSBpZiB0aGUgZ2l2ZW4gcm93IGNvbnRhaW5zIG9ubHkgd2hpdGVzcGFjZS5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIGEgMC1pbmRleGVkIHJvdy5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0uXG4gICAgICAgICAqL1xuICAgICAgICBpc1Jvd0JsYW5rKHJvdzogbnVtYmVyKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGEgcm93LCBmaW5kIHRoZSBmaXJzdCBwcmVjZWRpbmcgcm93IHRoYXQncyBub3QgYmxhbmsuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9IGlkZW50aWZ5aW5nIHRoZSByb3cgdG8gc3RhcnQgY2hlY2tpbmcgYXQuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfSBvciBgbnVsbGAgaWYgdGhlcmUncyBubyBwcmVjZWRpbmcgbm9uLWJsYW5rIHJvdy5cbiAgICAgICAgICovXG4gICAgICAgIHByZXZpb3VzTm9uQmxhbmtSb3coc3RhcnRSb3c6IG51bWJlcik6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdpdmVuIGEgcm93LCBmaW5kIHRoZSBuZXh0IHJvdyB0aGF0J3Mgbm90IGJsYW5rLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gQSB7TnVtYmVyfSBpZGVudGlmeWluZyB0aGUgcm93IHRvIHN0YXJ0IGNoZWNraW5nIGF0LlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gb3IgYG51bGxgIGlmIHRoZXJlJ3Mgbm8gbmV4dCBub24tYmxhbmsgcm93LlxuICAgICAgICAgKi9cbiAgICAgICAgbmV4dE5vbkJsYW5rUm93KHN0YXJ0Um93OiBudW1iZXIpOiBudW1iZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBsYWNlIHRoZSBlbnRpcmUgY29udGVudHMgb2YgdGhlIGJ1ZmZlciB3aXRoIHRoZSBnaXZlbiB0ZXh0LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfVxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgYSB7UmFuZ2V9IHNwYW5uaW5nIHRoZSBuZXcgYnVmZmVyIGNvbnRlbnRzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJlcGxhY2UgdGhlIGN1cnJlbnQgYnVmZmVyIGNvbnRlbnRzIGJ5IGFwcGx5aW5nIGEgZGlmZiBiYXNlZCBvbiB0aGVcbiAgICAgICAgICogZ2l2ZW4gdGV4dC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gY29udGFpbmluZyB0aGUgbmV3IGJ1ZmZlciBjb250ZW50cy5cbiAgICAgICAgICovXG4gICAgICAgIHNldFRleHRWaWFEaWZmKHRleHQ6IHN0cmluZyk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIHRleHQgaW4gdGhlIGdpdmVuIHJhbmdlLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX1cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ31cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyB0aGUge1JhbmdlfSBvZiB0aGUgaW5zZXJ0ZWQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHNldFRleHRJblJhbmdlKHJhbmdlOiBSYW5nZSwgdGV4dDogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnNlcnQgdGV4dCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSByZXByZXNlbnRpbmcgdGhlIGluc2VydGlvbiBsb2NhdGlvbi4gVGhlIHBvc2l0aW9uIGlzIGNsaXBwZWQgYmVmb3JlIGluc2VydGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gcmVwcmVzZW50aW5nIHRoZSB0ZXh0IHRvIGluc2VydC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyB0aGUge1JhbmdlfSBvZiB0aGUgaW5zZXJ0ZWQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGluc2VydChwb3NpdGlvbjogUG9pbnQsIHRleHQ6IHN0cmluZywgb3B0aW9ucz86IE9iamVjdCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXBwZW5kIHRleHQgdG8gdGhlIGVuZCBvZiB0aGUgYnVmZmVyLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSByZXByZXNlbnRpbmcgdGhlIHRleHQgdGV4dCB0byBhcHBlbmQuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgdGhlIHtSYW5nZX0gb2YgdGhlIGluc2VydGVkIHRleHRcbiAgICAgICAgICovXG4gICAgICAgIGFwcGVuZCh0ZXh0OiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZSB0aGUgdGV4dCBpbiB0aGUgZ2l2ZW4gcmFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBpbiB3aGljaCB0byBkZWxldGUuIFRoZSByYW5nZSBpcyBjbGlwcGVkIGJlZm9yZSBkZWxldGluZy5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGFuIGVtcHR5IHtSYW5nZX0gc3RhcnRpbmcgYXQgdGhlIHN0YXJ0IG9mIGRlbGV0ZWQgcmFuZ2UuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGUocmFuZ2U6IFJhbmdlKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGUgdGhlIGxpbmUgYXNzb2NpYXRlZCB3aXRoIGEgc3BlY2lmaWVkIHJvdy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSAwLWluZGV4ZWQgcm93IHRvIGRlbGV0ZS5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIHRoZSB7UmFuZ2V9IG9mIHRoZSBkZWxldGVkIHRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVSb3cocm93OiBudW1iZXIpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERlbGV0ZSB0aGUgbGluZXMgYXNzb2NpYXRlZCB3aXRoIHRoZSBzcGVjaWZpZWQgcm93IHJhbmdlLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgcm93IHJhbmdlIGlzIG91dCBvZiBib3VuZHMsIGl0IHdpbGwgYmUgY2xpcHBlZC4gSWYgdGhlIHN0YXJ0Um93IGlzXG4gICAgICAgICAqIGdyZWF0ZXIgdGhhbiB0aGUgZW5kIHJvdywgdGhleSB3aWxsIGJlIHJlb3JkZXJlZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBmaXJzdCByb3cgdG8gZGVsZXRlLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gQSB7TnVtYmVyfSByZXByZXNlbnRpbmcgdGhlIGxhc3Qgcm93IHRvIGRlbGV0ZSwgaW5jbHVzaXZlLlxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgdGhlIHtSYW5nZX0gb2YgdGhlIGRlbGV0ZWQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVJvd3Moc3RhcnRSb3c6IG51bWJlciwgZW5kUm93OiBudW1iZXIpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIGxheWVyIHRvIGNvbnRhaW4gYSBzZXQgb2YgcmVsYXRlZCBtYXJrZXJzLlxuICAgICAgICAgKiBAcGFyYW0gIEFuIG9iamVjdCBjb250YW5pbmcgdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7TWFya2VyTGF5ZXJ9IFJldHVybnMgYSB7TWFya2VyTGF5ZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkTWFya2VyTGF5ZXIob3B0aW9uczogYW55KTogTWFya2VyTGF5ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSB7TWFya2VyTGF5ZXJ9IGJ5IGlkLlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBpZCBvZiB0aGUgbWFya2VyIGxheWVyIHRvIHJldHJpZXZlLlxuICAgICAgICAgKiBAcmV0dXJucyB7TWFya2VyTGF5ZXJ9IFJldHVybnMgYSB7TWFya2VyTGF5ZXJ9IG9yIGBgIGlmIG5vIGxheWVyIGV4aXN0cyB3aXRoIHRoZSBnaXZlblxuICAgICAgICBpZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlckxheWVyKGlkOiBhbnkpOiBNYXJrZXJMYXllcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgZGVmYXVsdCB7TWFya2VyTGF5ZXJ9LlxuICAgICAgICAgKlxuICAgICAgICAgKiBBbGwgbWFya2VyIEFQSXMgbm90IHRpZWQgdG8gYW4gZXhwbGljaXQgbGF5ZXIgaW50ZXJhY3Qgd2l0aCB0aGlzIGRlZmF1bHRcbiAgICAgICAgICogbGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtNYXJrZXJMYXllcn0gUmV0dXJucyBhIHtNYXJrZXJMYXllcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXREZWZhdWx0TWFya2VyTGF5ZXIoKTogTWFya2VyTGF5ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBtYXJrZXIgd2l0aCB0aGUgZ2l2ZW4gcmFuZ2UgaW4gdGhlIGRlZmF1bHQgbWFya2VyIGxheWVyLlxuICAgICAgICAgKiBUaGlzIG1hcmtlciB3aWxsIG1haW50YWluIGl0cyBsb2dpY2FsIGxvY2F0aW9uIGFzIHRoZSBidWZmZXIgaXMgY2hhbmdlZCwgc29cbiAgICAgICAgICogaWYgeW91IG1hcmsgYSBwYXJ0aWN1bGFyIHdvcmQsIHRoZSBtYXJrZXIgd2lsbCByZW1haW4gb3ZlciB0aGF0IHdvcmQgZXZlbiBpZlxuICAgICAgICAgKiB0aGUgd29yZCdzIGxvY2F0aW9uIGluIHRoZSBidWZmZXIgY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fVxuICAgICAgICAgKiBAcGFyYW0gIEEgaGFzaCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYXNzb2NpYXRlIHdpdGggdGhlIG1hcmtlci4gVGhlcmUgYXJlIGFsc28gcmVzZXJ2ZWQgcHJvcGVydHkgbmFtZXMgdGhhdCBoYXZlIG1hcmtlci1zcGVjaWZpYyBtZWFuaW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7TWFya2VyfSBSZXR1cm5zIGEge01hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrUmFuZ2UocmFuZ2U6IFJhbmdlLCBwcm9wZXJ0aWVzOiBhbnkpOiBNYXJrZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBtYXJrZXIgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIHdpdGggbm8gdGFpbCBpbiB0aGUgZGVmYXVsdFxuICAgICAgICAgKiBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IHtQb2ludH0gb3IgcG9pbnQtY29tcGF0aWJsZSB7QXJyYXl9XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSB3aXRoIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBhIHtNYXJrZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgbWFya1Bvc2l0aW9uKHBvc2l0aW9uOiBQb2ludCwgb3B0aW9ucz86IE9iamVjdCk6IE1hcmtlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbGwgZXhpc3RpbmcgbWFya2VycyBvbiB0aGUgZGVmYXVsdCBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtNYXJrZXJ9cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlcnMoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYW4gZXhpc3RpbmcgbWFya2VyIGJ5IGl0cyBpZCBmcm9tIHRoZSBkZWZhdWx0IG1hcmtlciBsYXllci5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IGlkIG9mIHRoZSBtYXJrZXIgdG8gcmV0cmlldmVcbiAgICAgICAgICogQHJldHVybnMge01hcmtlcn0gUmV0dXJucyBhIHtNYXJrZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWFya2VyKGlkOiBudW1iZXIpOiBNYXJrZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaW5kIG1hcmtlcnMgY29uZm9ybWluZyB0byB0aGUgZ2l2ZW4gcGFyYW1ldGVycyBpbiB0aGUgZGVmYXVsdFxuICAgICAgICAgKiBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIE1hcmtlcnMgYXJlIHNvcnRlZCBiYXNlZCBvbiB0aGVpciBwb3NpdGlvbiBpbiB0aGUgYnVmZmVyLiBJZiB0d28gbWFya2Vyc1xuICAgICAgICAgKiBzdGFydCBhdCB0aGUgc2FtZSBwb3NpdGlvbiwgdGhlIGxhcmdlciBtYXJrZXIgY29tZXMgZmlyc3QuXG4gICAgICAgICAqIEBwYXJhbSAgQSBoYXNoIG9mIGtleS12YWx1ZSBwYWlycyBjb25zdHJhaW5pbmcgdGhlIHNldCBvZiByZXR1cm5lZCBtYXJrZXJzLiBZb3UgY2FuIHF1ZXJ5IGFnYWluc3QgY3VzdG9tIG1hcmtlciBwcm9wZXJ0aWVzIGJ5IGxpc3RpbmcgdGhlIGRlc2lyZWQga2V5LXZhbHVlIHBhaXJzIGhlcmUuIEluIGFkZGl0aW9uLCB0aGUgZm9sbG93aW5nIGtleXMgYXJlIHJlc2VydmVkIGFuZCBoYXZlIHNwZWNpYWwgc2VtYW50aWNzOlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7TWFya2VyfXMuXG4gICAgICAgICAqL1xuICAgICAgICBmaW5kTWFya2VycyhwYXJhbXM6IGFueSk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBudW1iZXIgb2YgbWFya2VycyBpbiB0aGUgZGVmYXVsdCBtYXJrZXIgbGF5ZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlckNvdW50KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZG8gdGhlIGxhc3Qgb3BlcmF0aW9uLiBJZiBhIHRyYW5zYWN0aW9uIGlzIGluIHByb2dyZXNzLCBhYm9ydHMgaXQuXG4gICAgICAgICAqL1xuICAgICAgICB1bmRvKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWRvIHRoZSBsYXN0IG9wZXJhdGlvblxuICAgICAgICAgKi9cbiAgICAgICAgcmVkbygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQmF0Y2ggbXVsdGlwbGUgb3BlcmF0aW9ucyBhcyBhIHNpbmdsZSB1bmRvL3JlZG8gc3RlcC5cbiAgICAgICAgICpcbiAgICAgICAgICogQW55IGdyb3VwIG9mIG9wZXJhdGlvbnMgdGhhdCBhcmUgbG9naWNhbGx5IGdyb3VwZWQgZnJvbSB0aGUgcGVyc3BlY3RpdmUgb2ZcbiAgICAgICAgICogdW5kb2luZyBhbmQgcmVkb2luZyBzaG91bGQgYmUgcGVyZm9ybWVkIGluIGEgdHJhbnNhY3Rpb24uIElmIHlvdSB3YW50IHRvXG4gICAgICAgICAqIGFib3J0IHRoZSB0cmFuc2FjdGlvbiwgY2FsbCB7OjphYm9ydFRyYW5zYWN0aW9ufSB0byB0ZXJtaW5hdGUgdGhlIGZ1bmN0aW9uJ3NcbiAgICAgICAgICogZXhlY3V0aW9uIGFuZCByZXZlcnQgYW55IGNoYW5nZXMgcGVyZm9ybWVkIHVwIHRvIHRoZSBhYm9ydGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IFRoZSB7TnVtYmVyfSBvZiBtaWxsaXNlY29uZHMgZm9yIHdoaWNoIHRoaXMgdHJhbnNhY3Rpb24gc2hvdWxkIGJlIGNvbnNpZGVyZWQgJ29wZW4gZm9yIGdyb3VwaW5nJyBhZnRlciBpdCBiZWdpbnMuIElmIGEgdHJhbnNhY3Rpb24gd2l0aCBhIHBvc2l0aXZlIGBncm91cGluZ0ludGVydmFsYCBpcyBjb21taXR0ZWQgd2hpbGUgdGhlIHByZXZpb3VzIHRyYW5zYWN0aW9uIGlzIHN0aWxsIG9wZW4gZm9yIGdyb3VwaW5nLCB0aGUgdHdvIHRyYW5zYWN0aW9ucyBhcmUgbWVyZ2VkIHdpdGggcmVzcGVjdCB0byB1bmRvIGFuZCByZWRvLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdG8gY2FsbCBpbnNpZGUgdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgdHJhbnNhY3QoZ3JvdXBpbmdJbnRlcnZhbD86IG51bWJlciwgZm4/OiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGVhciB0aGUgdW5kbyBzdGFjay4gV2hlbiBjYWxsaW5nIHRoaXMgbWV0aG9kIHdpdGhpbiBhIHRyYW5zYWN0aW9uLFxuICAgICAgICAgKiB0aGUgezo6b25EaWRDaGFuZ2VUZXh0fSBldmVudCB3aWxsIG5vdCBiZSB0cmlnZ2VyZWQgYmVjYXVzZSB0aGUgaW5mb3JtYXRpb25cbiAgICAgICAgICogZGVzY3JpYmluZyB0aGUgY2hhbmdlcyBpcyBsb3N0LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xlYXJVbmRvU3RhY2soKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIHBvaW50ZXIgdG8gdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGJ1ZmZlciBmb3IgdXNlXG4gICAgICAgICAqIHdpdGggezo6cmV2ZXJ0VG9DaGVja3BvaW50fSBhbmQgezo6Z3JvdXBDaGFuZ2VzU2luY2VDaGVja3BvaW50fS5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYSBjaGVja3BvaW50IHZhbHVlLlxuICAgICAgICAgKi9cbiAgICAgICAgY3JlYXRlQ2hlY2twb2ludCgpOiBhbnk7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXZlcnQgdGhlIGJ1ZmZlciB0byB0aGUgc3RhdGUgaXQgd2FzIGluIHdoZW4gdGhlIGdpdmVuXG4gICAgICAgICAqIGNoZWNrcG9pbnQgd2FzIGNyZWF0ZWQuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSByZWRvIHN0YWNrIHdpbGwgYmUgZW1wdHkgZm9sbG93aW5nIHRoaXMgb3BlcmF0aW9uLCBzbyBjaGFuZ2VzIHNpbmNlIHRoZVxuICAgICAgICAgKiBjaGVja3BvaW50IHdpbGwgYmUgbG9zdC4gSWYgdGhlIGdpdmVuIGNoZWNrcG9pbnQgaXMgbm8gbG9uZ2VyIHByZXNlbnQgaW4gdGhlXG4gICAgICAgICAqIHVuZG8gaGlzdG9yeSwgbm8gY2hhbmdlcyB3aWxsIGJlIG1hZGUgdG8gdGhlIGJ1ZmZlciBhbmQgdGhpcyBtZXRob2Qgd2lsbFxuICAgICAgICAgKiByZXR1cm4gYGZhbHNlYC5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gaW5kaWNhdGluZyB3aGV0aGVyIHRoZSBvcGVyYXRpb24gc3VjY2VlZGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcmV2ZXJ0VG9DaGVja3BvaW50KCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHcm91cCBhbGwgY2hhbmdlcyBzaW5jZSB0aGUgZ2l2ZW4gY2hlY2twb2ludCBpbnRvIGEgc2luZ2xlXG4gICAgICAgICAqIHRyYW5zYWN0aW9uIGZvciBwdXJwb3NlcyBvZiB1bmRvL3JlZG8uXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBnaXZlbiBjaGVja3BvaW50IGlzIG5vIGxvbmdlciBwcmVzZW50IGluIHRoZSB1bmRvIGhpc3RvcnksIG5vXG4gICAgICAgICAqIGdyb3VwaW5nIHdpbGwgYmUgcGVyZm9ybWVkIGFuZCB0aGlzIG1ldGhvZCB3aWxsIHJldHVybiBgZmFsc2VgLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG9wZXJhdGlvbiBzdWNjZWVkZWQuXG4gICAgICAgICAqL1xuICAgICAgICBncm91cENoYW5nZXNTaW5jZUNoZWNrcG9pbnQoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBnaXZlbiBjaGVja3BvaW50IGlzIG5vIGxvbmdlciBwcmVzZW50IGluIHRoZSB1bmRvIGhpc3RvcnksIHRoaXNcbiAgICAgICAgICogbWV0aG9kIHdpbGwgcmV0dXJuIGFuIGVtcHR5IHtBcnJheX0uXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGEgbGlzdCBvZiBjaGFuZ2VzIHNpbmNlIHRoZSBnaXZlbiBjaGVja3BvaW50LlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcgY2hhbmdlIHtPYmplY3R9czpcblxuICAgICAgICAqIGBzdGFydGAgQSB7UG9pbnR9IHJlcHJlc2VudGluZyB3aGVyZSB0aGUgY2hhbmdlIHN0YXJ0ZWQuXG4gICAgICAgICogYG9sZEV4dGVudGAgQSB7UG9pbnR9IHJlcHJlc2VudGluZyB0aGUgcmVwbGFjZWQgZXh0ZW50LlxuICAgICAgICAqIGBuZXdFeHRlbnRgOiBBIHtQb2ludH0gcmVwcmVzZW50aW5nIHRoZSByZXBsYWNlbWVudCBleHRlbnQuXG4gICAgICAgICogYG5ld1RleHRgOiBBIHtTdHJpbmd9IHJlcHJlc2VudGluZyB0aGUgcmVwbGFjZW1lbnQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGdldENoYW5nZXNTaW5jZUNoZWNrcG9pbnQoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FuIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGluIHRoZSBlbnRpcmUgYnVmZmVyLCBjYWxsaW5nIHRoZVxuICAgICAgICAgKiBnaXZlbiBpdGVyYXRvciBmdW5jdGlvbiBvbiBlYWNoIG1hdGNoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB5b3UncmUgcHJvZ3JhbW1hdGljYWxseSBtb2RpZnlpbmcgdGhlIHJlc3VsdHMsIHlvdSBtYXkgd2FudCB0byB0cnlcbiAgICAgICAgICogezo6YmFja3dhcmRzU2Nhbn0gdG8gYXZvaWQgdHJpcHBpbmcgb3ZlciB5b3VyIG93biBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gQSB7UmVnRXhwfSB0byBzZWFyY2ggZm9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdGhhdCdzIGNhbGxlZCBvbiBlYWNoIG1hdGNoIHdpdGggYW4ge09iamVjdH0gY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBzY2FuKHJlZ2V4OiBSZWdFeHAsIGl0ZXJhdG9yOiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FuIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGluIHRoZSBlbnRpcmUgYnVmZmVyIGluIHJldmVyc2VcbiAgICAgICAgICogb3JkZXIsIGNhbGxpbmcgdGhlIGdpdmVuIGl0ZXJhdG9yIGZ1bmN0aW9uIG9uIGVhY2ggbWF0Y2guXG4gICAgICAgICAqIEBwYXJhbSB7UmVnRXhwfSBBIHtSZWdFeHB9IHRvIHNlYXJjaCBmb3IuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0J3MgY2FsbGVkIG9uIGVhY2ggbWF0Y2ggd2l0aCBhbiB7T2JqZWN0fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIGJhY2t3YXJkc1NjYW4ocmVnZXg6IFJlZ0V4cCwgaXRlcmF0b3I6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYW4gcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgaW4gYSBnaXZlbiByYW5nZSAsIGNhbGxpbmcgdGhlIGdpdmVuXG4gICAgICAgICAqIGl0ZXJhdG9yIGZ1bmN0aW9uIG9uIGVhY2ggbWF0Y2guXG4gICAgICAgICAqIEBwYXJhbSB7UmVnRXhwfSBBIHtSZWdFeHB9IHRvIHNlYXJjaCBmb3IuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBpbiB3aGljaCB0byBzZWFyY2guXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0J3MgY2FsbGVkIG9uIGVhY2ggbWF0Y2ggd2l0aCBhbiB7T2JqZWN0fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIHNjYW5JblJhbmdlKHJlZ2V4OiBSZWdFeHAsIHJhbmdlOiBSYW5nZSwgY2FsbGJhY2s6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYW4gcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgaW4gYSBnaXZlbiByYW5nZSBpbiByZXZlcnNlIG9yZGVyLFxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBnaXZlbiBpdGVyYXRvciBmdW5jdGlvbiBvbiBlYWNoIG1hdGNoLlxuICAgICAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gQSB7UmVnRXhwfSB0byBzZWFyY2ggZm9yLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX0gaW4gd2hpY2ggdG8gc2VhcmNoLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdGhhdCdzIGNhbGxlZCBvbiBlYWNoIG1hdGNoIHdpdGggYW4ge09iamVjdH0gY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBiYWNrd2FyZHNTY2FuSW5SYW5nZShyZWdleDogUmVnRXhwLCByYW5nZTogUmFuZ2UsIGl0ZXJhdG9yOiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBsYWNlIGFsbCByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBpbiB0aGUgZW50aXJlIGJ1ZmZlci5cbiAgICAgICAgICogQHBhcmFtIHtSZWdFeHB9IEEge1JlZ0V4cH0gcmVwcmVzZW50aW5nIHRoZSBtYXRjaGVzIHRvIGJlIHJlcGxhY2VkLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSB7U3RyaW5nfSByZXByZXNlbnRpbmcgdGhlIHRleHQgdG8gcmVwbGFjZSBlYWNoIG1hdGNoLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgb2YgcmVwbGFjZW1lbnRzIG1hZGUuXG4gICAgICAgICAqL1xuICAgICAgICByZXBsYWNlKHJlZ2V4OiBSZWdFeHAsIHJlcGxhY2VtZW50VGV4dDogc3RyaW5nKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSByYW5nZSBzcGFubmluZyBmcm9tIGBbMCwgMF1gIHRvIHs6OmdldEVuZFBvc2l0aW9ufS5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFJhbmdlKCk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIGJ1ZmZlci5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGluZUNvdW50KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbGFzdCAwLWluZGV4ZWQgcm93IGluIHRoZSBidWZmZXIuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldExhc3RSb3coKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBmaXJzdCBwb3NpdGlvbiBpbiB0aGUgYnVmZmVyLCB3aGljaCBpcyBhbHdheXMgYFswLCAwXWAuXG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyBhIHtQb2ludH0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRGaXJzdFBvc2l0aW9uKCk6IFBvaW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBtYXhpbWFsIHBvc2l0aW9uIGluIHRoZSBidWZmZXIsIHdoZXJlIG5ldyB0ZXh0IHdvdWxkIGJlXG4gICAgICAgICAqIGFwcGVuZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RW5kUG9zaXRpb24oKTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGxlbmd0aCBvZiB0aGUgYnVmZmVyIGluIGNoYXJhY3RlcnMuXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldE1heENoYXJhY3RlckluZGV4KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcmFuZ2UgZm9yIHRoZSBnaXZlbiByb3dcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIGEgMC1pbmRleGVkIHJvdy5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBBIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRvIGluY2x1ZGUgdGhlIG5ld2xpbmUsIHdoaWNoIHJlc3VsdHMgaW4gYSByYW5nZSB0aGF0IGV4dGVuZHMgdG8gdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IGxpbmUuXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICByYW5nZUZvclJvdyhyb3c6IG51bWJlciwgaW5jbHVkZU5ld2xpbmU6IGJvb2xlYW4pOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlcnQgYSBwb3NpdGlvbiBpbiB0aGUgYnVmZmVyIGluIHJvdy9jb2x1bW4gY29vcmRpbmF0ZXMgdG8gYW5cbiAgICAgICAgICogYWJzb2x1dGUgY2hhcmFjdGVyIG9mZnNldCwgaW5jbHVzaXZlIG9mIGxpbmUgZW5kaW5nIGNoYXJhY3RlcnMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBpcyBjbGlwcGVkIHByaW9yIHRvIHRyYW5zbGF0aW5nLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0uXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGNoYXJhY3RlckluZGV4Rm9yUG9zaXRpb24ocG9zaXRpb246IFBvaW50KTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydCBhbiBhYnNvbHV0ZSBjaGFyYWN0ZXIgb2Zmc2V0LCBpbmNsdXNpdmUgb2YgbmV3bGluZXMsIHRvIGFcbiAgICAgICAgICogcG9zaXRpb24gaW4gdGhlIGJ1ZmZlciBpbiByb3cvY29sdW1uIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGUgb2Zmc2V0IGlzIGNsaXBwZWQgcHJpb3IgdG8gdHJhbnNsYXRpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9LlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgcG9zaXRpb25Gb3JDaGFyYWN0ZXJJbmRleChvZmZzZXQ6IG51bWJlcik6IFBvaW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xpcCB0aGUgZ2l2ZW4gcmFuZ2Ugc28gaXQgc3RhcnRzIGFuZCBlbmRzIGF0IHZhbGlkIHBvc2l0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogRm9yIGV4YW1wbGUsIHRoZSBwb3NpdGlvbiBgWzEsIDEwMF1gIGlzIG91dCBvZiBib3VuZHMgaWYgdGhlIGxpbmUgYXQgcm93IDEgaXNcbiAgICAgICAgICogb25seSAxMCBjaGFyYWN0ZXJzIGxvbmcsIGFuZCBpdCB3b3VsZCBiZSBjbGlwcGVkIHRvIGAoMSwgMTApYC5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fSB0byBjbGlwLlxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgdGhlIGdpdmVuIHtSYW5nZX0gaWYgaXQgaXMgYWxyZWFkeSBpbiBib3VuZHMsIG9yIGEgbmV3IGNsaXBwZWRcbiAgICAgICAge1JhbmdlfSBpZiB0aGUgZ2l2ZW4gcmFuZ2UgaXMgb3V0LW9mLWJvdW5kcy5cbiAgICAgICAgICovXG4gICAgICAgIGNsaXBSYW5nZShyYW5nZTogUmFuZ2UpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsaXAgdGhlIGdpdmVuIHBvaW50IHNvIGl0IGlzIGF0IGEgdmFsaWQgcG9zaXRpb24gaW4gdGhlIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogRm9yIGV4YW1wbGUsIHRoZSBwb3NpdGlvbiAoMSwgMTAwKSBpcyBvdXQgb2YgYm91bmRzIGlmIHRoZSBsaW5lIGF0IHJvdyAxIGlzXG4gICAgICAgICAqIG9ubHkgMTAgY2hhcmFjdGVycyBsb25nLCBhbmQgaXQgd291bGQgYmUgY2xpcHBlZCB0byAoMSwgMTApXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyBhIG5ldyB7UG9pbnR9IGlmIHRoZSBnaXZlbiBwb3NpdGlvbiBpcyBpbnZhbGlkLCBvdGhlcndpc2UgcmV0dXJuc1xuICAgICAgICB0aGUgZ2l2ZW4gcG9zaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBjbGlwUG9zaXRpb24ocG9zaXRpb246IFBvaW50KTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYXZlIHRoZSBidWZmZXIuXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTYXZlIHRoZSBidWZmZXIgYXQgYSBzcGVjaWZpYyBwYXRoLlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBwYXRoIHRvIHNhdmUgYXQuXG4gICAgICAgICAqL1xuICAgICAgICBzYXZlQXMoZmlsZVBhdGg6IGFueSk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWxvYWQgdGhlIGJ1ZmZlcidzIGNvbnRlbnRzIGZyb20gZGlzay5cbiAgICAgICAgICpcbiAgICAgICAgICogU2V0cyB0aGUgYnVmZmVyJ3MgY29udGVudCB0byB0aGUgY2FjaGVkIGRpc2sgY29udGVudHNcbiAgICAgICAgICovXG4gICAgICAgIHJlbG9hZCgpOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhbGwgZXNzZW50aWFsIGVkaXRpbmcgc3RhdGUgZm9yIGEgc2luZ2xlXG4gICAgICoge1RleHRCdWZmZXJ9LCBpbmNsdWRpbmcgY3Vyc29yIGFuZCBzZWxlY3Rpb24gcG9zaXRpb25zLCBmb2xkcywgYW5kIHNvZnQgd3JhcHMuXG4gICAgICogSWYgeW91J3JlIG1hbmlwdWxhdGluZyB0aGUgc3RhdGUgb2YgYW4gZWRpdG9yLCB1c2UgdGhpcyBjbGFzcy5cbiAgICAgKlxuICAgICAqIEEgc2luZ2xlIHtUZXh0QnVmZmVyfSBjYW4gYmVsb25nIHRvIG11bHRpcGxlIGVkaXRvcnMuIEZvciBleGFtcGxlLCBpZiB0aGVcbiAgICAgKiBzYW1lIGZpbGUgaXMgb3BlbiBpbiB0d28gZGlmZmVyZW50IHBhbmVzLCBBdG9tIGNyZWF0ZXMgYSBzZXBhcmF0ZSBlZGl0b3IgZm9yXG4gICAgICogZWFjaCBwYW5lLiBJZiB0aGUgYnVmZmVyIGlzIG1hbmlwdWxhdGVkIHRoZSBjaGFuZ2VzIGFyZSByZWZsZWN0ZWQgaW4gYm90aFxuICAgICAqIGVkaXRvcnMsIGJ1dCBlYWNoIG1haW50YWlucyBpdHMgb3duIGN1cnNvciBwb3NpdGlvbiwgZm9sZGVkIGxpbmVzLCBldGMuXG4gICAgICpcbiAgICAgKiAjIyBBY2Nlc3NpbmcgVGV4dEVkaXRvciBJbnN0YW5jZXNcbiAgICAgKlxuICAgICAqIFRoZSBlYXNpZXN0IHdheSB0byBnZXQgaG9sZCBvZiBgVGV4dEVkaXRvcmAgb2JqZWN0cyBpcyBieSByZWdpc3RlcmluZyBhIGNhbGxiYWNrXG4gICAgICogd2l0aCBgOjpvYnNlcnZlVGV4dEVkaXRvcnNgIG9uIHRoZSBgYXRvbS53b3Jrc3BhY2VgIGdsb2JhbC4gWW91ciBjYWxsYmFjayB3aWxsXG4gICAgICogdGhlbiBiZSBjYWxsZWQgd2l0aCBhbGwgY3VycmVudCBlZGl0b3IgaW5zdGFuY2VzIGFuZCBhbHNvIHdoZW4gYW55IGVkaXRvciBpc1xuICAgICAqIGNyZWF0ZWQgaW4gdGhlIGZ1dHVyZS5cbiAgICAgKlxuICAgICAqIGBgYGNvZmZlZVxuICAgICAqIGF0b20ud29ya3NwYWNlLm9ic2VydmVUZXh0RWRpdG9ycyAoZWRpdG9yKSAtPlxuICAgICAqICAgZWRpdG9yLmluc2VydFRleHQoJ0hlbGxvIFdvcmxkJylcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIEJ1ZmZlciB2cy4gU2NyZWVuIENvb3JkaW5hdGVzXG4gICAgICpcbiAgICAgKiBCZWNhdXNlIGVkaXRvcnMgc3VwcG9ydCBmb2xkcyBhbmQgc29mdC13cmFwcGluZywgdGhlIGxpbmVzIG9uIHNjcmVlbiBkb24ndFxuICAgICAqIGFsd2F5cyBtYXRjaCB0aGUgbGluZXMgaW4gdGhlIGJ1ZmZlci4gRm9yIGV4YW1wbGUsIGEgbG9uZyBsaW5lIHRoYXQgc29mdCB3cmFwc1xuICAgICAqIHR3aWNlIHJlbmRlcnMgYXMgdGhyZWUgbGluZXMgb24gc2NyZWVuLCBidXQgb25seSByZXByZXNlbnRzIG9uZSBsaW5lIGluIHRoZVxuICAgICAqIGJ1ZmZlci4gU2ltaWxhcmx5LCBpZiByb3dzIDUtMTAgYXJlIGZvbGRlZCwgdGhlbiByb3cgNiBvbiBzY3JlZW4gY29ycmVzcG9uZHNcbiAgICAgKiB0byByb3cgMTEgaW4gdGhlIGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIFlvdXIgY2hvaWNlIG9mIGNvb3JkaW5hdGVzIHN5c3RlbXMgd2lsbCBkZXBlbmQgb24gd2hhdCB5b3UncmUgdHJ5aW5nIHRvXG4gICAgICogYWNoaWV2ZS4gRm9yIGV4YW1wbGUsIGlmIHlvdSdyZSB3cml0aW5nIGEgY29tbWFuZCB0aGF0IGp1bXBzIHRoZSBjdXJzb3IgdXAgb3JcbiAgICAgKiBkb3duIGJ5IDEwIGxpbmVzLCB5b3UnbGwgd2FudCB0byB1c2Ugc2NyZWVuIGNvb3JkaW5hdGVzIGJlY2F1c2UgdGhlIHVzZXJcbiAgICAgKiBwcm9iYWJseSB3YW50cyB0byBza2lwIGxpbmVzICpvbiBzY3JlZW4qLiBIb3dldmVyLCBpZiB5b3UncmUgd3JpdGluZyBhIHBhY2thZ2VcbiAgICAgKiB0aGF0IGp1bXBzIGJldHdlZW4gbWV0aG9kIGRlZmluaXRpb25zLCB5b3UnbGwgd2FudCB0byB3b3JrIGluIGJ1ZmZlclxuICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAqXG4gICAgICogKipXaGVuIGluIGRvdWJ0LCBqdXN0IGRlZmF1bHQgdG8gYnVmZmVyIGNvb3JkaW5hdGVzKiosIHRoZW4gZXhwZXJpbWVudCB3aXRoXG4gICAgICogc29mdCB3cmFwcyBhbmQgZm9sZHMgdG8gZW5zdXJlIHlvdXIgY29kZSBpbnRlcmFjdHMgd2l0aCB0aGVtIGNvcnJlY3RseS5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy90ZXh0LWVkaXRvci5jb2ZmZWVcbiAgICAgKiBzcmNVcmw6IGh0dHBzOi8vZ2l0aHViLmNvbS9hdG9tL2F0b20vYmxvYi92MS4xNS4wL3NyYy90ZXh0LWVkaXRvci5jb2ZmZWUjTDYwXG4gICAgICovXG4gICAgY2xhc3MgVGV4dEVkaXRvciB7XG4gICAgICAgIGNvbnN0cnVjdG9yKHBhcmFtczogT2JqZWN0KVxuICAgICAgICBlbGVtZW50OiBIVE1MRWxlbWVudFxuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIGJ1ZmZlcidzIHRpdGxlIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VUaXRsZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIGJ1ZmZlcidzIHBhdGgsIGFuZCB0aGVyZWZvcmUgdGl0bGUsIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VQYXRoKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHN5bmNocm9ub3VzbHkgd2hlbiB0aGUgY29udGVudCBvZiB0aGVcbiAgICAgICAgICogYnVmZmVyIGNoYW5nZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIEJlY2F1c2Ugb2JzZXJ2ZXJzIGFyZSBpbnZva2VkIHN5bmNocm9ub3VzbHksIGl0J3MgaW1wb3J0YW50IG5vdCB0byBwZXJmb3JtXG4gICAgICAgICAqIGFueSBleHBlbnNpdmUgb3BlcmF0aW9ucyB2aWEgdGhpcyBtZXRob2QuIENvbnNpZGVyIHs6Om9uRGlkU3RvcENoYW5naW5nfSB0b1xuICAgICAgICAgKiBkZWxheSBleHBlbnNpdmUgb3BlcmF0aW9ucyB1bnRpbCBhZnRlciBjaGFuZ2VzIHN0b3Agb2NjdXJyaW5nLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2UoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSBgY2FsbGJhY2tgIHdoZW4gdGhlIGJ1ZmZlcidzIGNvbnRlbnRzIGNoYW5nZS4gSXQgaXNcbiAgICAgICAgICogZW1pdCBhc3luY2hyb25vdXNseSAzMDBtcyBhZnRlciB0aGUgbGFzdCBidWZmZXIgY2hhbmdlLiBUaGlzIGlzIGEgZ29vZCBwbGFjZVxuICAgICAgICAgKiB0byBoYW5kbGUgY2hhbmdlcyB0byB0aGUgYnVmZmVyIHdpdGhvdXQgY29tcHJvbWlzaW5nIHR5cGluZyBwZXJmb3JtYW5jZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkU3RvcENoYW5naW5nKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiBhIHtDdXJzb3J9IGlzIG1vdmVkLiBJZiB0aGVyZSBhcmVcbiAgICAgICAgICogbXVsdGlwbGUgY3Vyc29ycywgeW91ciBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBmb3IgZWFjaCBjdXJzb3IuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZUN1cnNvclBvc2l0aW9uKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiBhIHNlbGVjdGlvbidzIHNjcmVlbiByYW5nZSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VTZWxlY3Rpb25SYW5nZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gc29mdCB3cmFwIHdhcyBlbmFibGVkIG9yIGRpc2FibGVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VTb2Z0V3JhcHBlZChjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIGJ1ZmZlcidzIGVuY29kaW5nIGhhcyBjaGFuZ2VkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VFbmNvZGluZyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIGdyYW1tYXIgdGhhdCBpbnRlcnByZXRzIGFuZFxuICAgICAgICAgKiBjb2xvcml6ZXMgdGhlIHRleHQgaGFzIGJlZW4gY2hhbmdlZC4gSW1tZWRpYXRlbHkgY2FsbHMgeW91ciBjYWxsYmFjayB3aXRoXG4gICAgICAgICAqIHRoZSBjdXJyZW50IGdyYW1tYXIuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlR3JhbW1hcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIGdyYW1tYXIgdGhhdCBpbnRlcnByZXRzIGFuZFxuICAgICAgICAgKiBjb2xvcml6ZXMgdGhlIHRleHQgaGFzIGJlZW4gY2hhbmdlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQ2hhbmdlR3JhbW1hcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIHJlc3VsdCBvZiB7Ojppc01vZGlmaWVkfSBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VNb2RpZmllZChjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gdGhlIGJ1ZmZlcidzIHVuZGVybHlpbmcgZmlsZSBjaGFuZ2VzIG9uXG4gICAgICAgICAqIGRpc2sgYXQgYSBtb21lbnQgd2hlbiB0aGUgcmVzdWx0IG9mIHs6OmlzTW9kaWZpZWR9IGlzIHRydWUuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENvbmZsaWN0KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2AgYmVmb3JlIHRleHQgaGFzIGJlZW4gaW5zZXJ0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbldpbGxJbnNlcnRUZXh0KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2AgYWZ0ZXIgdGV4dCBoYXMgYmVlbiBpbnNlcnRlZC5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkSW5zZXJ0VGV4dChjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBhZnRlciB0aGUgYnVmZmVyIGlzIHNhdmVkIHRvIGRpc2suXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIGFmdGVyIHRoZSBidWZmZXIgaXMgc2F2ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRTYXZlKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIGVkaXRvciBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGVkaXRvciBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWREZXN0cm95KGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiBhIHtDdXJzb3J9IGlzIGFkZGVkIHRvIHRoZSBlZGl0b3IuXG4gICAgICAgICAqIEltbWVkaWF0ZWx5IGNhbGxzIHlvdXIgY2FsbGJhY2sgZm9yIGVhY2ggZXhpc3RpbmcgY3Vyc29yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZUN1cnNvcnMoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge0N1cnNvcn0gaXMgYWRkZWQgdG8gdGhlIGVkaXRvci5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufVxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkQ3Vyc29yKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiBhIHtDdXJzb3J9IGlzIHJlbW92ZWQgZnJvbSB0aGUgZWRpdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRSZW1vdmVDdXJzb3IoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge1NlbGVjdGlvbn0gaXMgYWRkZWQgdG8gdGhlIGVkaXRvci5cbiAgICAgICAgICogSW1tZWRpYXRlbHkgY2FsbHMgeW91ciBjYWxsYmFjayBmb3IgZWFjaCBleGlzdGluZyBzZWxlY3Rpb24uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlU2VsZWN0aW9ucyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gYSB7U2VsZWN0aW9ufSBpcyBhZGRlZCB0byB0aGUgZWRpdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRBZGRTZWxlY3Rpb24oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge1NlbGVjdGlvbn0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBlZGl0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZFJlbW92ZVNlbGVjdGlvbihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdpdGggZWFjaCB7RGVjb3JhdGlvbn0gYWRkZWQgdG8gdGhlIGVkaXRvci5cbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIGltbWVkaWF0ZWx5IGZvciBhbnkgZXhpc3RpbmcgZGVjb3JhdGlvbnMuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlRGVjb3JhdGlvbnMoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge0RlY29yYXRpb259IGlzIGFkZGVkIHRvIHRoZSBlZGl0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZEFkZERlY29yYXRpb24oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge0RlY29yYXRpb259IGlzIHJlbW92ZWQgZnJvbSB0aGUgZWRpdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRSZW1vdmVEZWNvcmF0aW9uKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDYWxscyB5b3VyIGBjYWxsYmFja2Agd2hlbiB0aGUgcGxhY2Vob2xkZXIgdGV4dCBpcyBjaGFuZ2VkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRDaGFuZ2VQbGFjZWhvbGRlclRleHQoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgY3VycmVudCB7VGV4dEJ1ZmZlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRCdWZmZXIoKTogVGV4dEJ1ZmZlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge0d1dHRlcn0gaXMgYWRkZWQgdG8gdGhlIGVkaXRvci5cbiAgICAgICAgICogSW1tZWRpYXRlbHkgY2FsbHMgeW91ciBjYWxsYmFjayBmb3IgZWFjaCBleGlzdGluZyBndXR0ZXIuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlR3V0dGVycyhjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2FsbHMgeW91ciBgY2FsbGJhY2tgIHdoZW4gYSB7R3V0dGVyfSBpcyBhZGRlZCB0byB0aGUgZWRpdG9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRBZGRHdXR0ZXIoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxzIHlvdXIgYGNhbGxiYWNrYCB3aGVuIGEge0d1dHRlcn0gaXMgcmVtb3ZlZCBmcm9tIHRoZSBlZGl0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZFJlbW92ZUd1dHRlcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBlZGl0b3IncyB0aXRsZSBmb3IgZGlzcGxheSBpbiBvdGhlciBwYXJ0cyBvZiB0aGVcbiAgICAgICAgICogVUkgc3VjaCBhcyB0aGUgdGFicy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGVkaXRvcidzIGJ1ZmZlciBpcyBzYXZlZCwgaXRzIHRpdGxlIGlzIHRoZSBmaWxlIG5hbWUuIElmIGl0IGlzXG4gICAgICAgICAqIHVuc2F2ZWQsIGl0cyB0aXRsZSBpcyBcInVudGl0bGVkXCIuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFRpdGxlKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB1bmlxdWUgdGl0bGUgZm9yIGRpc3BsYXkgaW4gb3RoZXIgcGFydHMgb2YgdGhlIFVJLCBzdWNoIGFzXG4gICAgICAgICAqIHRoZSB3aW5kb3cgdGl0bGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBlZGl0b3IncyBidWZmZXIgaXMgdW5zYXZlZCwgaXRzIHRpdGxlIGlzIFwidW50aXRsZWRcIlxuICAgICAgICAgKiBJZiB0aGUgZWRpdG9yJ3MgYnVmZmVyIGlzIHNhdmVkLCBpdHMgdW5pcXVlIHRpdGxlIGlzIGZvcm1hdHRlZCBhcyBvbmVcbiAgICAgICAgICogb2YgdGhlIGZvbGxvd2luZyxcbiAgICAgICAgICpcbiAgICAgICAgICogKiBcIjxmaWxlbmFtZT5cIiB3aGVuIGl0IGlzIHRoZSBvbmx5IGVkaXRpbmcgYnVmZmVyIHdpdGggdGhpcyBmaWxlIG5hbWUuXG4gICAgICAgICAqICogXCI8ZmlsZW5hbWU+IOKAlCA8dW5pcXVlLWRpci1wcmVmaXg+XCIgd2hlbiBvdGhlciBidWZmZXJzIGhhdmUgdGhpcyBmaWxlIG5hbWUuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfVxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TG9uZ1RpdGxlKCk6IHN0cmluZztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHtTdHJpbmd9IHBhdGggb2YgdGhpcyBlZGl0b3IncyB0ZXh0IGJ1ZmZlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldFBhdGgoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUge1N0cmluZ30gY2hhcmFjdGVyIHNldCBlbmNvZGluZyBvZiB0aGlzIGVkaXRvcidzIHRleHRcbiAgICAgICAgYnVmZmVyLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RW5jb2RpbmcoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBjaGFyYWN0ZXIgc2V0IGVuY29kaW5nIHRvIHVzZSBpbiB0aGlzIGVkaXRvcidzIHRleHRcbiAgICAgICAgICogYnVmZmVyLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHtTdHJpbmd9IGNoYXJhY3RlciBzZXQgZW5jb2RpbmcgbmFtZSBzdWNoIGFzICd1dGY4J1xuICAgICAgICAgKi9cbiAgICAgICAgc2V0RW5jb2RpbmcoZW5jb2Rpbmc6IHN0cmluZyk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyB7Qm9vbGVhbn0gYHRydWVgIGlmIHRoaXMgZWRpdG9yIGhhcyBiZWVuIG1vZGlmaWVkLlxuICAgICAgICAgKi9cbiAgICAgICAgaXNNb2RpZmllZCgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMge0Jvb2xlYW59IGB0cnVlYCBpZiB0aGlzIGVkaXRvciBoYXMgbm8gY29udGVudC5cbiAgICAgICAgICovXG4gICAgICAgIGlzRW1wdHkoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNhdmVzIHRoZSBlZGl0b3IncyB0ZXh0IGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogU2VlIHtUZXh0QnVmZmVyOjpzYXZlfSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2F2ZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2F2ZXMgdGhlIGVkaXRvcidzIHRleHQgYnVmZmVyIGFzIHRoZSBnaXZlbiBwYXRoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBTZWUge1RleHRCdWZmZXI6OnNhdmVBc30gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gcGF0aC5cbiAgICAgICAgICovXG4gICAgICAgIHNhdmVBcyhmaWxlUGF0aDogc3RyaW5nKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfSByZXByZXNlbnRpbmcgdGhlIGVudGlyZSBjb250ZW50cyBvZiB0aGUgZWRpdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VGV4dCgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHRleHQgaW4gdGhlIGdpdmVuIHtSYW5nZX0gaW4gYnVmZmVyIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX0gb3IgcmFuZ2UtY29tcGF0aWJsZSB7QXJyYXl9LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRUZXh0SW5CdWZmZXJSYW5nZShyYW5nZTogUmFuZ2UpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgb2YgbGluZXMgaW4gdGhlIGJ1ZmZlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldExpbmVDb3VudCgpOiBudW1iZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0gcmVwcmVzZW50aW5nIHRoZSBudW1iZXIgb2Ygc2NyZWVuIGxpbmVzIGluIHRoZVxuICAgICAgICBlZGl0b3IuIFRoaXMgYWNjb3VudHMgZm9yIGZvbGRzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U2NyZWVuTGluZUNvdW50KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfSByZXByZXNlbnRpbmcgdGhlIGxhc3QgemVyby1pbmRleGVkIGJ1ZmZlciByb3dcbiAgICAgICAgbnVtYmVyIG9mIHRoZSBlZGl0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXN0QnVmZmVyUm93KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYSB7TnVtYmVyfSByZXByZXNlbnRpbmcgdGhlIGxhc3QgemVyby1pbmRleGVkIHNjcmVlbiByb3dcbiAgICAgICAgbnVtYmVyIG9mIHRoZSBlZGl0b3IuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXN0U2NyZWVuUm93KCk6IG51bWJlcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9IHJlcHJlc2VudGluZyBhIHplcm8taW5kZXhlZCBidWZmZXIgcm93LlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30gcmVwcmVzZW50aW5nIHRoZSBjb250ZW50cyBvZiB0aGUgbGluZSBhdCB0aGVcbiAgICAgICAgZ2l2ZW4gYnVmZmVyIHJvdy5cbiAgICAgICAgICovXG4gICAgICAgIGxpbmVUZXh0Rm9yQnVmZmVyUm93KGJ1ZmZlclJvdzogbnVtYmVyKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gcmVwcmVzZW50aW5nIGEgemVyby1pbmRleGVkIHNjcmVlbiByb3cuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfSByZXByZXNlbnRpbmcgdGhlIGNvbnRlbnRzIG9mIHRoZSBsaW5lIGF0IHRoZVxuICAgICAgICBnaXZlbiBzY3JlZW4gcm93LlxuICAgICAgICAgKi9cbiAgICAgICAgbGluZVRleHRGb3JTY3JlZW5Sb3coc2NyZWVuUm93OiBudW1iZXIpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHtSYW5nZX0gb2YgdGhlIHBhcmFncmFwaCBzdXJyb3VuZGluZyB0aGUgbW9zdCByZWNlbnRseSBhZGRlZFxuICAgICAgICAgKiBjdXJzb3IuXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJyZW50UGFyYWdyYXBoQnVmZmVyUmFuZ2UoKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZXBsYWNlcyB0aGUgZW50aXJlIGNvbnRlbnRzIG9mIHRoZSBidWZmZXIgd2l0aCB0aGUgZ2l2ZW4ge1N0cmluZ30uXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IHRvIHJlcGxhY2Ugd2l0aFxuICAgICAgICAgKi9cbiAgICAgICAgc2V0VGV4dCh0ZXh0OiBzdHJpbmcpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSB0ZXh0IGluIHRoZSBnaXZlbiB7UmFuZ2V9IGluIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ31cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyB0aGUge1JhbmdlfSBvZiB0aGUgbmV3bHktaW5zZXJ0ZWQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIHNldFRleHRJbkJ1ZmZlclJhbmdlKHJhbmdlOiBSYW5nZSwgdGV4dDogc3RyaW5nLCBvcHRpb25zPzogT2JqZWN0KTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIHJlcGxhY2UgdGhlIHNlbGVjdGVkIHRleHQgd2l0aCB0aGUgZ2l2ZW4gdGV4dC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gcmVwcmVzZW50aW5nIHRoZSB0ZXh0IHRvIGluc2VydC5cbiAgICAgICAgICogQHBhcmFtICBTZWUge1NlbGVjdGlvbjo6aW5zZXJ0VGV4dH0uXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0gd2hlbiB0aGUgdGV4dCBoYXMgYmVlbiBpbnNlcnRlZFxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBmYWxzZSB3aGVuIHRoZSB0ZXh0IGhhcyBub3QgYmVlbiBpbnNlcnRlZFxuICAgICAgICAgKi9cbiAgICAgICAgaW5zZXJ0VGV4dCh0ZXh0OiBzdHJpbmcsIG9wdGlvbnM/OiBhbnkpOiBSYW5nZSB8IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIHJlcGxhY2UgdGhlIHNlbGVjdGVkIHRleHQgd2l0aCBhIG5ld2xpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBpbnNlcnROZXdsaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGlmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHksIGRlbGV0ZSB0aGUgY2hhcmFjdGVyXG4gICAgICAgICAqIGZvbGxvd2luZyB0aGUgY3Vyc29yLiBPdGhlcndpc2UgZGVsZXRlIHRoZSBzZWxlY3RlZCB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGlmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHksIGRlbGV0ZSB0aGUgY2hhcmFjdGVyXG4gICAgICAgICAqIHByZWNlZGluZyB0aGUgY3Vyc29yLiBPdGhlcndpc2UgZGVsZXRlIHRoZSBzZWxlY3RlZCB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgYmFja3NwYWNlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNdXRhdGUgdGhlIHRleHQgb2YgYWxsIHRoZSBzZWxlY3Rpb25zIGluIGEgc2luZ2xlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBBbGwgdGhlIGNoYW5nZXMgbWFkZSBpbnNpZGUgdGhlIGdpdmVuIHtGdW5jdGlvbn0gY2FuIGJlIHJldmVydGVkIHdpdGggYVxuICAgICAgICAgKiBzaW5nbGUgY2FsbCB0byB7Ojp1bmRvfS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRoYXQgd2lsbCBiZSBjYWxsZWQgb25jZSBmb3IgZWFjaCB7U2VsZWN0aW9ufS4gVGhlIGZpcnN0ICAgIGFyZ3VtZW50IHdpbGwgYmUgYSB7U2VsZWN0aW9ufSBhbmQgdGhlIHNlY29uZCBhcmd1bWVudCB3aWxsIGJlIHRoZSAgICB7TnVtYmVyfSBpbmRleCBvZiB0aGF0IHNlbGVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIG11dGF0ZVNlbGVjdGVkVGV4dChmbjogRnVuY3Rpb24pOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggc2VsZWN0aW9uLCB0cmFuc3Bvc2UgdGhlIHNlbGVjdGVkIHRleHQuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHksIHRoZSBjaGFyYWN0ZXJzIHByZWNlZGluZyBhbmQgZm9sbG93aW5nIHRoZSBjdXJzb3JcbiAgICAgICAgICogYXJlIHN3YXBwZWQuIE90aGVyd2lzZSwgdGhlIHNlbGVjdGVkIGNoYXJhY3RlcnMgYXJlIHJldmVyc2VkLlxuICAgICAgICAgKi9cbiAgICAgICAgdHJhbnNwb3NlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0IHRoZSBzZWxlY3RlZCB0ZXh0IHRvIHVwcGVyIGNhc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBlYWNoIHNlbGVjdGlvbiwgaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSwgY29udmVydHMgdGhlIGNvbnRhaW5pbmcgd29yZFxuICAgICAgICAgKiB0byB1cHBlciBjYXNlLiBPdGhlcndpc2UgY29udmVydCB0aGUgc2VsZWN0ZWQgdGV4dCB0byB1cHBlciBjYXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdXBwZXJDYXNlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0IHRoZSBzZWxlY3RlZCB0ZXh0IHRvIGxvd2VyIGNhc2UuXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBlYWNoIHNlbGVjdGlvbiwgaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSwgY29udmVydHMgdGhlIGNvbnRhaW5pbmcgd29yZFxuICAgICAgICAgKiB0byB1cHBlciBjYXNlLiBPdGhlcndpc2UgY29udmVydCB0aGUgc2VsZWN0ZWQgdGV4dCB0byB1cHBlciBjYXNlLlxuICAgICAgICAgKi9cbiAgICAgICAgbG93ZXJDYXNlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBUb2dnbGUgbGluZSBjb21tZW50cyBmb3Igcm93cyBpbnRlcnNlY3Rpbmcgc2VsZWN0aW9ucy5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGN1cnJlbnQgZ3JhbW1hciBkb2Vzbid0IHN1cHBvcnQgY29tbWVudHMsIGRvZXMgbm90aGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZUxpbmVDb21tZW50c0luU2VsZWN0aW9uKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBjdXJzb3IsIGluc2VydCBhIG5ld2xpbmUgYXQgYmVnaW5uaW5nIHRoZSBmb2xsb3dpbmcgbGluZS5cbiAgICAgICAgICovXG4gICAgICAgIGluc2VydE5ld2xpbmVCZWxvdygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggY3Vyc29yLCBpbnNlcnQgYSBuZXdsaW5lIGF0IHRoZSBlbmQgb2YgdGhlIHByZWNlZGluZyBsaW5lLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5zZXJ0TmV3bGluZUFib3ZlKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGlmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHksIGRlbGV0ZSBhbGwgY2hhcmFjdGVyc1xuICAgICAgICAgKiBvZiB0aGUgY29udGFpbmluZyB3b3JkIHRoYXQgcHJlY2VkZSB0aGUgY3Vyc29yLiBPdGhlcndpc2UgZGVsZXRlIHRoZVxuICAgICAgICAgKiBzZWxlY3RlZCB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlVG9CZWdpbm5pbmdPZldvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNpbWlsYXIgdG8gezo6ZGVsZXRlVG9CZWdpbm5pbmdPZldvcmR9LCBidXQgZGVsZXRlcyBvbmx5IGJhY2sgdG8gdGhlXG4gICAgICAgICAqIHByZXZpb3VzIHdvcmQgYm91bmRhcnkuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb1ByZXZpb3VzV29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTaW1pbGFyIHRvIHs6OmRlbGV0ZVRvRW5kT2ZXb3JkfSwgYnV0IGRlbGV0ZXMgb25seSB1cCB0byB0aGVcbiAgICAgICAgICogbmV4dCB3b3JkIGJvdW5kYXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlVG9OZXh0V29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGlmIHRoZSBzZWxlY3Rpb24gaXMgZW1wdHksIGRlbGV0ZSBhbGwgY2hhcmFjdGVyc1xuICAgICAgICAgKiBvZiB0aGUgY29udGFpbmluZyBzdWJ3b3JkIGZvbGxvd2luZyB0aGUgY3Vyc29yLiBPdGhlcndpc2UgZGVsZXRlIHRoZSBzZWxlY3RlZFxuICAgICAgICAgKiB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlVG9CZWdpbm5pbmdPZlN1YndvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBlYWNoIHNlbGVjdGlvbiwgaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSwgZGVsZXRlIGFsbCBjaGFyYWN0ZXJzXG4gICAgICAgICAqIG9mIHRoZSBjb250YWluaW5nIHN1YndvcmQgZm9sbG93aW5nIHRoZSBjdXJzb3IuIE90aGVyd2lzZSBkZWxldGUgdGhlIHNlbGVjdGVkXG4gICAgICAgICAqIHRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb0VuZE9mU3Vid29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggc2VsZWN0aW9uLCBpZiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5LCBkZWxldGUgYWxsIGNoYXJhY3RlcnNcbiAgICAgICAgICogb2YgdGhlIGNvbnRhaW5pbmcgbGluZSB0aGF0IHByZWNlZGUgdGhlIGN1cnNvci4gT3RoZXJ3aXNlIGRlbGV0ZSB0aGVcbiAgICAgICAgICogc2VsZWN0ZWQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVRvQmVnaW5uaW5nT2ZMaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGlmIHRoZSBzZWxlY3Rpb24gaXMgbm90IGVtcHR5LCBkZWxldGVzIHRoZVxuICAgICAgICAgKiBzZWxlY3Rpb247IG90aGVyd2lzZSwgZGVsZXRlcyBhbGwgY2hhcmFjdGVycyBvZiB0aGUgY29udGFpbmluZyBsaW5lXG4gICAgICAgICAqIGZvbGxvd2luZyB0aGUgY3Vyc29yLiBJZiB0aGUgY3Vyc29yIGlzIGFscmVhZHkgYXQgdGhlIGVuZCBvZiB0aGUgbGluZSxcbiAgICAgICAgICogZGVsZXRlcyB0aGUgZm9sbG93aW5nIG5ld2xpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBkZWxldGVUb0VuZE9mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggc2VsZWN0aW9uLCBpZiB0aGUgc2VsZWN0aW9uIGlzIGVtcHR5LCBkZWxldGUgYWxsIGNoYXJhY3RlcnNcbiAgICAgICAgICogb2YgdGhlIGNvbnRhaW5pbmcgd29yZCBmb2xsb3dpbmcgdGhlIGN1cnNvci4gT3RoZXJ3aXNlIGRlbGV0ZSB0aGUgc2VsZWN0ZWRcbiAgICAgICAgICogdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGRlbGV0ZVRvRW5kT2ZXb3JkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZWxldGUgYWxsIGxpbmVzIGludGVyc2VjdGluZyBzZWxlY3Rpb25zLlxuICAgICAgICAgKi9cbiAgICAgICAgZGVsZXRlTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogVW5kbyB0aGUgbGFzdCBjaGFuZ2UuXG4gICAgICAgICAqL1xuICAgICAgICB1bmRvKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBSZWRvIHRoZSBsYXN0IGNoYW5nZS5cbiAgICAgICAgICovXG4gICAgICAgIHJlZG8oKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEJhdGNoIG11bHRpcGxlIG9wZXJhdGlvbnMgYXMgYSBzaW5nbGUgdW5kby9yZWRvIHN0ZXAuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFueSBncm91cCBvZiBvcGVyYXRpb25zIHRoYXQgYXJlIGxvZ2ljYWxseSBncm91cGVkIGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mXG4gICAgICAgICAqIHVuZG9pbmcgYW5kIHJlZG9pbmcgc2hvdWxkIGJlIHBlcmZvcm1lZCBpbiBhIHRyYW5zYWN0aW9uLiBJZiB5b3Ugd2FudCB0b1xuICAgICAgICAgKiBhYm9ydCB0aGUgdHJhbnNhY3Rpb24sIGNhbGwgezo6YWJvcnRUcmFuc2FjdGlvbn0gdG8gdGVybWluYXRlIHRoZSBmdW5jdGlvbidzXG4gICAgICAgICAqIGV4ZWN1dGlvbiBhbmQgcmV2ZXJ0IGFueSBjaGFuZ2VzIHBlcmZvcm1lZCB1cCB0byB0aGUgYWJvcnRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBUaGUge051bWJlcn0gb2YgbWlsbGlzZWNvbmRzIGZvciB3aGljaCB0aGlzIHRyYW5zYWN0aW9uIHNob3VsZCBiZSBjb25zaWRlcmVkICdncm91cGFibGUnIGFmdGVyIGl0IGJlZ2lucy4gSWYgYSB0cmFuc2FjdGlvbiB3aXRoIGEgcG9zaXRpdmUgYGdyb3VwaW5nSW50ZXJ2YWxgIGlzIGNvbW1pdHRlZCB3aGlsZSB0aGUgcHJldmlvdXMgdHJhbnNhY3Rpb24gaXMgc3RpbGwgJ2dyb3VwYWJsZScsIHRoZSB0d28gdHJhbnNhY3Rpb25zIGFyZSBtZXJnZWQgd2l0aCByZXNwZWN0IHRvIHVuZG8gYW5kIHJlZG8uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0byBjYWxsIGluc2lkZSB0aGUgdHJhbnNhY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICB0cmFuc2FjdChncm91cGluZ0ludGVydmFsPzogbnVtYmVyLCBmbj86IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFib3J0IGFuIG9wZW4gdHJhbnNhY3Rpb24sIHVuZG9pbmcgYW55IG9wZXJhdGlvbnMgcGVyZm9ybWVkIHNvIGZhclxuICAgICAgICAgKiB3aXRoaW4gdGhlIHRyYW5zYWN0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgYWJvcnRUcmFuc2FjdGlvbigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgcG9pbnRlciB0byB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGUgYnVmZmVyIGZvciB1c2VcbiAgICAgICAgICogd2l0aCB7OjpyZXZlcnRUb0NoZWNrcG9pbnR9IGFuZCB7Ojpncm91cENoYW5nZXNTaW5jZUNoZWNrcG9pbnR9LlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhIGNoZWNrcG9pbnQgdmFsdWUuXG4gICAgICAgICAqL1xuICAgICAgICBjcmVhdGVDaGVja3BvaW50KCk6IGFueTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldmVydCB0aGUgYnVmZmVyIHRvIHRoZSBzdGF0ZSBpdCB3YXMgaW4gd2hlbiB0aGUgZ2l2ZW5cbiAgICAgICAgICogY2hlY2twb2ludCB3YXMgY3JlYXRlZC5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHJlZG8gc3RhY2sgd2lsbCBiZSBlbXB0eSBmb2xsb3dpbmcgdGhpcyBvcGVyYXRpb24sIHNvIGNoYW5nZXMgc2luY2UgdGhlXG4gICAgICAgICAqIGNoZWNrcG9pbnQgd2lsbCBiZSBsb3N0LiBJZiB0aGUgZ2l2ZW4gY2hlY2twb2ludCBpcyBubyBsb25nZXIgcHJlc2VudCBpbiB0aGVcbiAgICAgICAgICogdW5kbyBoaXN0b3J5LCBubyBjaGFuZ2VzIHdpbGwgYmUgbWFkZSB0byB0aGUgYnVmZmVyIGFuZCB0aGlzIG1ldGhvZCB3aWxsXG4gICAgICAgICAqIHJldHVybiBgZmFsc2VgLlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgdGhlIG9wZXJhdGlvbiBzdWNjZWVkZWQuXG4gICAgICAgICAqL1xuICAgICAgICByZXZlcnRUb0NoZWNrcG9pbnQoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdyb3VwIGFsbCBjaGFuZ2VzIHNpbmNlIHRoZSBnaXZlbiBjaGVja3BvaW50IGludG8gYSBzaW5nbGVcbiAgICAgICAgICogdHJhbnNhY3Rpb24gZm9yIHB1cnBvc2VzIG9mIHVuZG8vcmVkby5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGdpdmVuIGNoZWNrcG9pbnQgaXMgbm8gbG9uZ2VyIHByZXNlbnQgaW4gdGhlIHVuZG8gaGlzdG9yeSwgbm9cbiAgICAgICAgICogZ3JvdXBpbmcgd2lsbCBiZSBwZXJmb3JtZWQgYW5kIHRoaXMgbWV0aG9kIHdpbGwgcmV0dXJuIGBmYWxzZWAuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59IGluZGljYXRpbmcgd2hldGhlciB0aGUgb3BlcmF0aW9uIHN1Y2NlZWRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGdyb3VwQ2hhbmdlc1NpbmNlQ2hlY2twb2ludCgpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydCBhIHBvc2l0aW9uIGluIGJ1ZmZlci1jb29yZGluYXRlcyB0byBzY3JlZW4tY29vcmRpbmF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBwb3NpdGlvbiBpcyBjbGlwcGVkIHZpYSB7OjpjbGlwQnVmZmVyUG9zaXRpb259IHByaW9yIHRvIHRoZSBjb252ZXJzaW9uLlxuICAgICAgICAgKiBUaGUgcG9zaXRpb24gaXMgYWxzbyBjbGlwcGVkIHZpYSB7OjpjbGlwU2NyZWVuUG9zaXRpb259IGZvbGxvd2luZyB0aGVcbiAgICAgICAgICogY29udmVyc2lvbiwgd2hpY2ggb25seSBtYWtlcyBhIGRpZmZlcmVuY2Ugd2hlbiBgb3B0aW9uc2AgYXJlIHN1cHBsaWVkLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3Ige0FycmF5fSBvZiBbcm93LCBjb2x1bW5dLlxuICAgICAgICAgKiBAcGFyYW0gIEFuIG9wdGlvbnMgaGFzaCBmb3Igezo6Y2xpcFNjcmVlblBvc2l0aW9ufS5cbiAgICAgICAgICogQHJldHVybnMge1BvaW50fSBSZXR1cm5zIGEge1BvaW50fS5cbiAgICAgICAgICovXG4gICAgICAgIHNjcmVlblBvc2l0aW9uRm9yQnVmZmVyUG9zaXRpb24oYnVmZmVyUG9zaXRpb246IFBvaW50LCBvcHRpb25zPzogYW55KTogUG9pbnQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDb252ZXJ0IGEgcG9zaXRpb24gaW4gc2NyZWVuLWNvb3JkaW5hdGVzIHRvIGJ1ZmZlci1jb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHBvc2l0aW9uIGlzIGNsaXBwZWQgdmlhIHs6OmNsaXBTY3JlZW5Qb3NpdGlvbn0gcHJpb3IgdG8gdGhlIGNvbnZlcnNpb24uXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciB7QXJyYXl9IG9mIFtyb3csIGNvbHVtbl0uXG4gICAgICAgICAqIEBwYXJhbSAgQW4gb3B0aW9ucyBoYXNoIGZvciB7OjpjbGlwU2NyZWVuUG9zaXRpb259LlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgYnVmZmVyUG9zaXRpb25Gb3JTY3JlZW5Qb3NpdGlvbihidWZmZXJQb3NpdGlvbjogUG9pbnQsIG9wdGlvbnM/OiBhbnkpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENvbnZlcnQgYSByYW5nZSBpbiBidWZmZXItY29vcmRpbmF0ZXMgdG8gc2NyZWVuLWNvb3JkaW5hdGVzLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSB7UmFuZ2V9IGluIGJ1ZmZlciBjb29yZGluYXRlcyB0byB0cmFuc2xhdGUgaW50byBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBzY3JlZW5SYW5nZUZvckJ1ZmZlclJhbmdlKGJ1ZmZlclJhbmdlOiBSYW5nZSk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ29udmVydCBhIHJhbmdlIGluIHNjcmVlbi1jb29yZGluYXRlcyB0byBidWZmZXItY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IHtSYW5nZX0gaW4gc2NyZWVuIGNvb3JkaW5hdGVzIHRvIHRyYW5zbGF0ZSBpbnRvIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIGJ1ZmZlclJhbmdlRm9yU2NyZWVuUmFuZ2Uoc2NyZWVuUmFuZ2U6IFJhbmdlKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDbGlwIHRoZSBnaXZlbiB7UG9pbnR9IHRvIGEgdmFsaWQgcG9zaXRpb24gaW4gdGhlIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgdGhlIGdpdmVuIHtQb2ludH0gZGVzY3JpYmVzIGEgcG9zaXRpb24gdGhhdCBpcyBhY3R1YWxseSByZWFjaGFibGUgYnkgdGhlXG4gICAgICAgICAqIGN1cnNvciBiYXNlZCBvbiB0aGUgY3VycmVudCBjb250ZW50cyBvZiB0aGUgYnVmZmVyLCBpdCBpcyByZXR1cm5lZFxuICAgICAgICAgKiB1bmNoYW5nZWQuIElmIHRoZSB7UG9pbnR9IGRvZXMgbm90IGRlc2NyaWJlIGEgdmFsaWQgcG9zaXRpb24sIHRoZSBjbG9zZXN0XG4gICAgICAgICAqIHZhbGlkIHBvc2l0aW9uIGlzIHJldHVybmVkIGluc3RlYWQuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IFRoZSB7UG9pbnR9IHJlcHJlc2VudGluZyB0aGUgcG9zaXRpb24gdG8gY2xpcC5cbiAgICAgICAgICogQHJldHVybnMge1BvaW50fSBSZXR1cm5zIGEge1BvaW50fS5cbiAgICAgICAgICovXG4gICAgICAgIGNsaXBCdWZmZXJQb3NpdGlvbihidWZmZXJQb3NpdGlvbjogUG9pbnQpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsaXAgdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIGdpdmVuIHJhbmdlIHRvIHZhbGlkIHBvc2l0aW9ucyBpbiB0aGVcbiAgICAgICAgICogYnVmZmVyLiBTZWUgezo6Y2xpcEJ1ZmZlclBvc2l0aW9ufSBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gVGhlIHtSYW5nZX0gdG8gY2xpcC5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIGNsaXBCdWZmZXJSYW5nZShyYW5nZTogUmFuZ2UpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENsaXAgdGhlIGdpdmVuIHtQb2ludH0gdG8gYSB2YWxpZCBwb3NpdGlvbiBvbiBzY3JlZW4uXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBnaXZlbiB7UG9pbnR9IGRlc2NyaWJlcyBhIHBvc2l0aW9uIHRoYXQgaXMgYWN0dWFsbHkgcmVhY2hhYmxlIGJ5IHRoZVxuICAgICAgICAgKiBjdXJzb3IgYmFzZWQgb24gdGhlIGN1cnJlbnQgY29udGVudHMgb2YgdGhlIHNjcmVlbiwgaXQgaXMgcmV0dXJuZWRcbiAgICAgICAgICogdW5jaGFuZ2VkLiBJZiB0aGUge1BvaW50fSBkb2VzIG5vdCBkZXNjcmliZSBhIHZhbGlkIHBvc2l0aW9uLCB0aGUgY2xvc2VzdFxuICAgICAgICAgKiB2YWxpZCBwb3NpdGlvbiBpcyByZXR1cm5lZCBpbnN0ZWFkLlxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBUaGUge1BvaW50fSByZXByZXNlbnRpbmcgdGhlIHBvc2l0aW9uIHRvIGNsaXAuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xpcFNjcmVlblBvc2l0aW9uKHNjcmVlblBvc2l0aW9uOiBQb2ludCwgb3B0aW9ucz86IE9iamVjdCk6IFBvaW50O1xuICAgICAgICAvKipcbiAgICAgICAgICogQ2xpcCB0aGUgc3RhcnQgYW5kIGVuZCBvZiB0aGUgZ2l2ZW4gcmFuZ2UgdG8gdmFsaWQgcG9zaXRpb25zIG9uIHNjcmVlbi5cbiAgICAgICAgICogU2VlIHs6OmNsaXBTY3JlZW5Qb3NpdGlvbn0gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IFRoZSB7UmFuZ2V9IHRvIGNsaXAuXG4gICAgICAgICAqIEBwYXJhbSAgU2VlIHs6OmNsaXBTY3JlZW5Qb3NpdGlvbn0gYG9wdGlvbnNgLlxuICAgICAgICAgKiBAcmV0dXJucyB7UmFuZ2V9IFJldHVybnMgYSB7UmFuZ2V9LlxuICAgICAgICAgKi9cbiAgICAgICAgY2xpcFNjcmVlblJhbmdlKHJhbmdlOiBSYW5nZSwgb3B0aW9ucz86IGFueSk6IFJhbmdlO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgZGVjb3JhdGlvbiB0aGF0IHRyYWNrcyBhIHtEaXNwbGF5TWFya2VyfS4gV2hlbiB0aGVcbiAgICAgICAgICogbWFya2VyIG1vdmVzLCBpcyBpbnZhbGlkYXRlZCwgb3IgaXMgZGVzdHJveWVkLCB0aGUgZGVjb3JhdGlvbiB3aWxsIGJlXG4gICAgICAgICAqIHVwZGF0ZWQgdG8gcmVmbGVjdCB0aGUgbWFya2VyJ3Mgc3RhdGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmb2xsb3dpbmcgYXJlIHRoZSBzdXBwb3J0ZWQgZGVjb3JhdGlvbnMgdHlwZXM6XG4gICAgICAgICAqXG4gICAgICAgICAqICogX19saW5lX186IEFkZHMgeW91ciBDU1MgYGNsYXNzYCB0byB0aGUgbGluZSBub2RlcyB3aXRoaW4gdGhlIHJhbmdlXG4gICAgICAgICAqICAgICBtYXJrZWQgYnkgdGhlIG1hcmtlclxuICAgICAgICAgKiAqIF9fbGluZS1udW1iZXJfXzogQWRkcyB5b3VyIENTUyBgY2xhc3NgIHRvIHRoZSBsaW5lIG51bWJlciBub2RlcyB3aXRoaW4gdGhlXG4gICAgICAgICAqICAgICByYW5nZSBtYXJrZWQgYnkgdGhlIG1hcmtlclxuICAgICAgICAgKiAqIF9faGlnaGxpZ2h0X186IEFkZHMgYSBuZXcgaGlnaGxpZ2h0IGRpdiB0byB0aGUgZWRpdG9yIHN1cnJvdW5kaW5nIHRoZVxuICAgICAgICAgKiAgICAgcmFuZ2UgbWFya2VkIGJ5IHRoZSBtYXJrZXIuIFdoZW4gdGhlIHVzZXIgc2VsZWN0cyB0ZXh0LCB0aGUgc2VsZWN0aW9uIGlzXG4gICAgICAgICAqICAgICB2aXN1YWxpemVkIHdpdGggYSBoaWdobGlnaHQgZGVjb3JhdGlvbiBpbnRlcm5hbGx5LiBUaGUgc3RydWN0dXJlIG9mIHRoaXNcbiAgICAgICAgICogICAgIGhpZ2hsaWdodCB3aWxsIGJlXG4gICAgICAgICAqICAgYGBgaHRtbFxuICAgICAgICAgKiAgICAgPGRpdiBjbGFzcz1cImhpZ2hsaWdodCA8eW91ci1jbGFzcz5cIj5cbiAgICAgICAgICogICAgICAgPCEtLSBXaWxsIGJlIG9uZSByZWdpb24gZm9yIGVhY2ggcm93IGluIHRoZSByYW5nZS4gU3BhbnMgMiBsaW5lcz8gVGhlcmUgd2lsbCBiZSAyIHJlZ2lvbnMuIC0tPlxuICAgICAgICAgKiAgICAgICA8ZGl2IGNsYXNzPVwicmVnaW9uXCI+PC9kaXY+XG4gICAgICAgICAqICAgICA8L2Rpdj5cbiAgICAgICAgICogICBgYGBcbiAgICAgICAgICogKiBfX292ZXJsYXlfXzogUG9zaXRpb25zIHRoZSB2aWV3IGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gaXRlbSBhdCB0aGUgaGVhZFxuICAgICAgICAgKiAgICAgb3IgdGFpbCBvZiB0aGUgZ2l2ZW4gYERpc3BsYXlNYXJrZXJgLlxuICAgICAgICAgKiAqIF9fZ3V0dGVyX186IEEgZGVjb3JhdGlvbiB0aGF0IHRyYWNrcyBhIHtEaXNwbGF5TWFya2VyfSBpbiBhIHtHdXR0ZXJ9LiBHdXR0ZXJcbiAgICAgICAgICogICAgIGRlY29yYXRpb25zIGFyZSBjcmVhdGVkIGJ5IGNhbGxpbmcge0d1dHRlcjo6ZGVjb3JhdGVNYXJrZXJ9IG9uIHRoZVxuICAgICAgICAgKiAgICAgZGVzaXJlZCBgR3V0dGVyYCBpbnN0YW5jZS5cbiAgICAgICAgICogKiBfX2Jsb2NrX186IFBvc2l0aW9ucyB0aGUgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGl0ZW0gYmVmb3JlIG9yXG4gICAgICAgICAqICAgICBhZnRlciB0aGUgcm93IG9mIHRoZSBnaXZlbiBgVGV4dEVkaXRvck1hcmtlcmAuXG4gICAgICAgICAqIEBwYXJhbSB7RGlzcGxheU1hcmtlcn0gQSB7RGlzcGxheU1hcmtlcn0geW91IHdhbnQgdGhpcyBkZWNvcmF0aW9uIHRvIGZvbGxvdy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHJlcHJlc2VudGluZyB0aGUgZGVjb3JhdGlvbiBlLmcuIGB7dHlwZTogJ2xpbmUtbnVtYmVyJywgY2xhc3M6ICdsaW50ZXItZXJyb3InfWBcbiAgICAgICAgICogQHJldHVybnMge0RlY29yYXRpb259IFJldHVybnMgYSB7RGVjb3JhdGlvbn0gb2JqZWN0XG4gICAgICAgICAqL1xuICAgICAgICBkZWNvcmF0ZU1hcmtlcihtYXJrZXI6IERpc3BsYXlNYXJrZXIsIGRlY29yYXRpb25QYXJhbXM6IE9iamVjdCk6IERlY29yYXRpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBkZWNvcmF0aW9uIHRvIGV2ZXJ5IG1hcmtlciBpbiB0aGUgZ2l2ZW4gbWFya2VyIGxheWVyLiBDYW5cbiAgICAgICAgICogYmUgdXNlZCB0byBkZWNvcmF0ZSBhIGxhcmdlIG51bWJlciBvZiBtYXJrZXJzIHdpdGhvdXQgaGF2aW5nIHRvIGNyZWF0ZSBhbmRcbiAgICAgICAgICogbWFuYWdlIG1hbnkgaW5kaXZpZHVhbCBkZWNvcmF0aW9ucy5cbiAgICAgICAgICogQHBhcmFtIHtEaXNwbGF5TWFya2VyTGF5ZXJ9IEEge0Rpc3BsYXlNYXJrZXJMYXllcn0gb3Ige01hcmtlckxheWVyfSB0byBkZWNvcmF0ZS5cbiAgICAgICAgICogQHBhcmFtICBUaGUgc2FtZSBwYXJhbWV0ZXJzIHRoYXQgYXJlIHBhc3NlZCB0byB7VGV4dEVkaXRvcjo6ZGVjb3JhdGVNYXJrZXJ9LCBleGNlcHQgdGhlIGB0eXBlYCBjYW5ub3QgYmUgYG92ZXJsYXlgIG9yIGBndXR0ZXJgLlxuICAgICAgICAgKiBAcmV0dXJucyB7TGF5ZXJEZWNvcmF0aW9ufSBSZXR1cm5zIGEge0xheWVyRGVjb3JhdGlvbn0uXG4gICAgICAgICAqL1xuICAgICAgICBkZWNvcmF0ZU1hcmtlckxheWVyKG1hcmtlckxheWVyOiBEaXNwbGF5TWFya2VyTGF5ZXIsIGRlY29yYXRpb25QYXJhbXM6IGFueSk6IExheWVyRGVjb3JhdGlvbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbGwgZGVjb3JhdGlvbnMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSBjb250YWluaW5nIGtleSB2YWx1ZSBwYWlycyB0aGF0IHRoZSByZXR1cm5lZCBkZWNvcmF0aW9ucycgcHJvcGVydGllcyBtdXN0IG1hdGNoLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7RGVjb3JhdGlvbn1zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0RGVjb3JhdGlvbnMocHJvcGVydHlGaWx0ZXI/OiBPYmplY3QpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbGwgZGVjb3JhdGlvbnMgb2YgdHlwZSAnbGluZScuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSBjb250YWluaW5nIGtleSB2YWx1ZSBwYWlycyB0aGF0IHRoZSByZXR1cm5lZCBkZWNvcmF0aW9ucycgcHJvcGVydGllcyBtdXN0IG1hdGNoLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7RGVjb3JhdGlvbn1zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGluZURlY29yYXRpb25zKHByb3BlcnR5RmlsdGVyPzogT2JqZWN0KTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYWxsIGRlY29yYXRpb25zIG9mIHR5cGUgJ2xpbmUtbnVtYmVyJy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IGNvbnRhaW5pbmcga2V5IHZhbHVlIHBhaXJzIHRoYXQgdGhlIHJldHVybmVkIGRlY29yYXRpb25zJyBwcm9wZXJ0aWVzIG11c3QgbWF0Y2guXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtEZWNvcmF0aW9ufXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMaW5lTnVtYmVyRGVjb3JhdGlvbnMocHJvcGVydHlGaWx0ZXI/OiBPYmplY3QpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbGwgZGVjb3JhdGlvbnMgb2YgdHlwZSAnaGlnaGxpZ2h0Jy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IGNvbnRhaW5pbmcga2V5IHZhbHVlIHBhaXJzIHRoYXQgdGhlIHJldHVybmVkIGRlY29yYXRpb25zJyBwcm9wZXJ0aWVzIG11c3QgbWF0Y2guXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtEZWNvcmF0aW9ufXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIaWdobGlnaHREZWNvcmF0aW9ucyhwcm9wZXJ0eUZpbHRlcj86IE9iamVjdCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBkZWNvcmF0aW9ucyBvZiB0eXBlICdvdmVybGF5Jy5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IGNvbnRhaW5pbmcga2V5IHZhbHVlIHBhaXJzIHRoYXQgdGhlIHJldHVybmVkIGRlY29yYXRpb25zJyBwcm9wZXJ0aWVzIG11c3QgbWF0Y2guXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtEZWNvcmF0aW9ufXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRPdmVybGF5RGVjb3JhdGlvbnMocHJvcGVydHlGaWx0ZXI/OiBPYmplY3QpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENyZWF0ZSBhIG1hcmtlciBvbiB0aGUgZGVmYXVsdCBtYXJrZXIgbGF5ZXIgd2l0aCB0aGUgZ2l2ZW4gcmFuZ2VcbiAgICAgICAgICogaW4gYnVmZmVyIGNvb3JkaW5hdGVzLiBUaGlzIG1hcmtlciB3aWxsIG1haW50YWluIGl0cyBsb2dpY2FsIGxvY2F0aW9uIGFzIHRoZVxuICAgICAgICAgKiBidWZmZXIgaXMgY2hhbmdlZCwgc28gaWYgeW91IG1hcmsgYSBwYXJ0aWN1bGFyIHdvcmQsIHRoZSBtYXJrZXIgd2lsbCByZW1haW5cbiAgICAgICAgICogb3ZlciB0aGF0IHdvcmQgZXZlbiBpZiB0aGUgd29yZCdzIGxvY2F0aW9uIGluIHRoZSBidWZmZXIgY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIHtSYW5nZX0gQSB7UmFuZ2V9IG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fVxuICAgICAgICAgKiBAcGFyYW0gIEEgaGFzaCBvZiBrZXktdmFsdWUgcGFpcnMgdG8gYXNzb2NpYXRlIHdpdGggdGhlIG1hcmtlci4gVGhlcmUgYXJlIGFsc28gcmVzZXJ2ZWQgcHJvcGVydHkgbmFtZXMgdGhhdCBoYXZlIG1hcmtlci1zcGVjaWZpYyBtZWFuaW5nLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcGxheU1hcmtlcn0gUmV0dXJucyBhIHtEaXNwbGF5TWFya2VyfS5cbiAgICAgICAgICovXG4gICAgICAgIG1hcmtCdWZmZXJSYW5nZShyYW5nZTogUmFuZ2UsIHByb3BlcnRpZXM6IGFueSk6IERpc3BsYXlNYXJrZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBtYXJrZXIgb24gdGhlIGRlZmF1bHQgbWFya2VyIGxheWVyIHdpdGggdGhlIGdpdmVuIHJhbmdlXG4gICAgICAgICAqIGluIHNjcmVlbiBjb29yZGluYXRlcy4gVGhpcyBtYXJrZXIgd2lsbCBtYWludGFpbiBpdHMgbG9naWNhbCBsb2NhdGlvbiBhcyB0aGVcbiAgICAgICAgICogYnVmZmVyIGlzIGNoYW5nZWQsIHNvIGlmIHlvdSBtYXJrIGEgcGFydGljdWxhciB3b3JkLCB0aGUgbWFya2VyIHdpbGwgcmVtYWluXG4gICAgICAgICAqIG92ZXIgdGhhdCB3b3JkIGV2ZW4gaWYgdGhlIHdvcmQncyBsb2NhdGlvbiBpbiB0aGUgYnVmZmVyIGNoYW5nZXMuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBvciByYW5nZS1jb21wYXRpYmxlIHtBcnJheX1cbiAgICAgICAgICogQHBhcmFtICBBIGhhc2ggb2Yga2V5LXZhbHVlIHBhaXJzIHRvIGFzc29jaWF0ZSB3aXRoIHRoZSBtYXJrZXIuIFRoZXJlIGFyZSBhbHNvIHJlc2VydmVkIHByb3BlcnR5IG5hbWVzIHRoYXQgaGF2ZSBtYXJrZXItc3BlY2lmaWMgbWVhbmluZy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3BsYXlNYXJrZXJ9IFJldHVybnMgYSB7RGlzcGxheU1hcmtlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBtYXJrU2NyZWVuUmFuZ2UocmFuZ2U6IFJhbmdlLCBwcm9wZXJ0aWVzOiBhbnkpOiBEaXNwbGF5TWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbWFya2VyIG9uIHRoZSBkZWZhdWx0IG1hcmtlciBsYXllciB3aXRoIHRoZSBnaXZlbiBidWZmZXJcbiAgICAgICAgICogcG9zaXRpb24gYW5kIG5vIHRhaWwuIFRvIGdyb3VwIG11bHRpcGxlIG1hcmtlcnMgdG9nZXRoZXIgaW4gdGhlaXIgb3duXG4gICAgICAgICAqIHByaXZhdGUgbGF5ZXIsIHNlZSB7OjphZGRNYXJrZXJMYXllcn0uXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX1cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcGxheU1hcmtlcn0gUmV0dXJucyBhIHtEaXNwbGF5TWFya2VyfS5cbiAgICAgICAgICovXG4gICAgICAgIG1hcmtCdWZmZXJQb3NpdGlvbihidWZmZXJQb3NpdGlvbjogUG9pbnQsIG9wdGlvbnM/OiBPYmplY3QpOiBEaXNwbGF5TWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbWFya2VyIG9uIHRoZSBkZWZhdWx0IG1hcmtlciBsYXllciB3aXRoIHRoZSBnaXZlbiBzY3JlZW5cbiAgICAgICAgICogcG9zaXRpb24gYW5kIG5vIHRhaWwuIFRvIGdyb3VwIG11bHRpcGxlIG1hcmtlcnMgdG9nZXRoZXIgaW4gdGhlaXIgb3duXG4gICAgICAgICAqIHByaXZhdGUgbGF5ZXIsIHNlZSB7OjphZGRNYXJrZXJMYXllcn0uXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciBwb2ludC1jb21wYXRpYmxlIHtBcnJheX1cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcGxheU1hcmtlcn0gUmV0dXJucyBhIHtEaXNwbGF5TWFya2VyfS5cbiAgICAgICAgICovXG4gICAgICAgIG1hcmtTY3JlZW5Qb3NpdGlvbihzY3JlZW5Qb3NpdGlvbjogUG9pbnQsIG9wdGlvbnM/OiBPYmplY3QpOiBEaXNwbGF5TWFya2VyO1xuICAgICAgICAvKipcbiAgICAgICAgICogRmluZCBhbGwge0Rpc3BsYXlNYXJrZXJ9cyBvbiB0aGUgZGVmYXVsdCBtYXJrZXIgbGF5ZXIgdGhhdFxuICAgICAgICAgKiBtYXRjaCB0aGUgZ2l2ZW4gcHJvcGVydGllcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgZmluZHMgbWFya2VycyBiYXNlZCBvbiB0aGUgZ2l2ZW4gcHJvcGVydGllcy4gTWFya2VycyBjYW4gYmVcbiAgICAgICAgICogYXNzb2NpYXRlZCB3aXRoIGN1c3RvbSBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBjb21wYXJlZCB3aXRoIGJhc2ljIGVxdWFsaXR5LlxuICAgICAgICAgKiBJbiBhZGRpdGlvbiwgdGhlcmUgYXJlIHNldmVyYWwgc3BlY2lhbCBwcm9wZXJ0aWVzIHRoYXQgd2lsbCBiZSBjb21wYXJlZFxuICAgICAgICAgKiB3aXRoIHRoZSByYW5nZSBvZiB0aGUgbWFya2VycyByYXRoZXIgdGhhbiB0aGVpciBwcm9wZXJ0aWVzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gY29udGFpbmluZyBwcm9wZXJ0aWVzIHRoYXQgZWFjaCByZXR1cm5lZCBtYXJrZXIgbXVzdCBzYXRpc2Z5LiBNYXJrZXJzIGNhbiBiZSBhc3NvY2lhdGVkIHdpdGggY3VzdG9tIHByb3BlcnRpZXMsIHdoaWNoIGFyZSBjb21wYXJlZCB3aXRoIGJhc2ljIGVxdWFsaXR5LiBJbiBhZGRpdGlvbiwgc2V2ZXJhbCByZXNlcnZlZCBwcm9wZXJ0aWVzIGNhbiBiZSB1c2VkIHRvIGZpbHRlciBtYXJrZXJzIGJhc2VkIG9uIHRoZWlyIGN1cnJlbnQgcmFuZ2U6XG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtEaXNwbGF5TWFya2VyfXNcbiAgICAgICAgICovXG4gICAgICAgIGZpbmRNYXJrZXJzKHByb3BlcnRpZXM6IE9iamVjdCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB7RGlzcGxheU1hcmtlcn0gb24gdGhlIGRlZmF1bHQgbGF5ZXIgZm9yIHRoZSBnaXZlblxuICAgICAgICAgKiBtYXJrZXIgaWQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBpZCBvZiB0aGUgbWFya2VyXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXJrZXIoaWQ6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYWxsIHtEaXNwbGF5TWFya2VyfXMgb24gdGhlIGRlZmF1bHQgbWFya2VyIGxheWVyLiBDb25zaWRlclxuICAgICAgICAgKiB1c2luZyB7OjpmaW5kTWFya2Vyc31cbiAgICAgICAgICovXG4gICAgICAgIGdldE1hcmtlcnMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbnVtYmVyIG9mIG1hcmtlcnMgaW4gdGhlIGRlZmF1bHQgbWFya2VyIGxheWVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRNYXJrZXJDb3VudCgpOiBudW1iZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBDcmVhdGUgYSBtYXJrZXIgbGF5ZXIgdG8gZ3JvdXAgcmVsYXRlZCBtYXJrZXJzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwbGF5TWFya2VyTGF5ZXJ9IFJldHVybnMgYSB7RGlzcGxheU1hcmtlckxheWVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGFkZE1hcmtlckxheWVyKG9wdGlvbnM6IE9iamVjdCk6IERpc3BsYXlNYXJrZXJMYXllcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhIHtEaXNwbGF5TWFya2VyTGF5ZXJ9IGJ5IGlkLlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBpZCBvZiB0aGUgbWFya2VyIGxheWVyIHRvIHJldHJpZXZlLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcGxheU1hcmtlckxheWVyfSBSZXR1cm5zIGEge0Rpc3BsYXlNYXJrZXJMYXllcn0gb3IgYGAgaWYgbm8gbGF5ZXIgZXhpc3RzIHdpdGggdGhlXG4gICAgICAgIGdpdmVuIGlkLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TWFya2VyTGF5ZXIoaWQ6IGFueSk6IERpc3BsYXlNYXJrZXJMYXllcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgZGVmYXVsdCB7RGlzcGxheU1hcmtlckxheWVyfS5cbiAgICAgICAgICpcbiAgICAgICAgICogQWxsIG1hcmtlciBBUElzIG5vdCB0aWVkIHRvIGFuIGV4cGxpY2l0IGxheWVyIGludGVyYWN0IHdpdGggdGhpcyBkZWZhdWx0XG4gICAgICAgICAqIGxheWVyLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcGxheU1hcmtlckxheWVyfSBSZXR1cm5zIGEge0Rpc3BsYXlNYXJrZXJMYXllcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXREZWZhdWx0TWFya2VyTGF5ZXIoKTogRGlzcGxheU1hcmtlckxheWVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgbW9zdCByZWNlbnRseSBhZGRlZCBjdXJzb3IgaW4gYnVmZmVyXG4gICAgICAgICAqIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKiBAcmV0dXJucyB7UG9pbnR9IFJldHVybnMgYSB7UG9pbnR9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJzb3JCdWZmZXJQb3NpdGlvbigpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcG9zaXRpb24gb2YgYWxsIHRoZSBjdXJzb3IgcG9zaXRpb25zIGluIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIHtBcnJheX0gb2Yge1BvaW50fXMgaW4gdGhlIG9yZGVyIHRoZXkgd2VyZSBhZGRlZFxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q3Vyc29yQnVmZmVyUG9zaXRpb25zKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSB0aGUgY3Vyc29yIHRvIHRoZSBnaXZlbiBwb3NpdGlvbiBpbiBidWZmZXIgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjdXJzb3JzLCB0aGV5IHdpbGwgYmUgY29uc29saWRhdGVkIHRvIGEgc2luZ2xlIGN1cnNvci5cbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gQSB7UG9pbnR9IG9yIHtBcnJheX0gb2YgYFtyb3csIGNvbHVtbl1gXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiB7T2JqZWN0fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIHNldEN1cnNvckJ1ZmZlclBvc2l0aW9uKHBvc2l0aW9uOiBQb2ludCwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYSB7Q3Vyc29yfSBhdCBnaXZlbiBzY3JlZW4gY29vcmRpbmF0ZXMge1BvaW50fVxuICAgICAgICAgKiBAcGFyYW0ge1BvaW50fSBBIHtQb2ludH0gb3Ige0FycmF5fSBvZiBgW3JvdywgY29sdW1uXWBcbiAgICAgICAgICogQHJldHVybnMge0N1cnNvcn0gUmV0dXJucyB0aGUgZmlyc3QgbWF0Y2hlZCB7Q3Vyc29yfSBvclxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Q3Vyc29yQXRTY3JlZW5Qb3NpdGlvbihwb3NpdGlvbjogUG9pbnQpOiBDdXJzb3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHBvc2l0aW9uIG9mIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkIGN1cnNvciBpbiBzY3JlZW5cbiAgICAgICAgICogY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtQb2ludH0gUmV0dXJucyBhIHtQb2ludH0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJzb3JTY3JlZW5Qb3NpdGlvbigpOiBQb2ludDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgcG9zaXRpb24gb2YgYWxsIHRoZSBjdXJzb3IgcG9zaXRpb25zIGluIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIHtBcnJheX0gb2Yge1BvaW50fXMgaW4gdGhlIG9yZGVyIHRoZSBjdXJzb3JzIHdlcmUgYWRkZWRcbiAgICAgICAgICovXG4gICAgICAgIGdldEN1cnNvclNjcmVlblBvc2l0aW9ucygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgdGhlIGN1cnNvciB0byB0aGUgZ2l2ZW4gcG9zaXRpb24gaW4gc2NyZWVuIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGVyZSBhcmUgbXVsdGlwbGUgY3Vyc29ycywgdGhleSB3aWxsIGJlIGNvbnNvbGlkYXRlZCB0byBhIHNpbmdsZSBjdXJzb3IuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciB7QXJyYXl9IG9mIGBbcm93LCBjb2x1bW5dYFxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gY29tYmluaW5nIG9wdGlvbnMgZm9yIHs6OmNsaXBTY3JlZW5Qb3NpdGlvbn0gd2l0aDpcbiAgICAgICAgICovXG4gICAgICAgIHNldEN1cnNvclNjcmVlblBvc2l0aW9uKHBvc2l0aW9uOiBQb2ludCwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBjdXJzb3IgYXQgdGhlIGdpdmVuIHBvc2l0aW9uIGluIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gQSB7UG9pbnR9IG9yIHtBcnJheX0gb2YgYFtyb3csIGNvbHVtbl1gXG4gICAgICAgICAqIEByZXR1cm5zIHtDdXJzb3J9IFJldHVybnMgYSB7Q3Vyc29yfS5cbiAgICAgICAgICovXG4gICAgICAgIGFkZEN1cnNvckF0QnVmZmVyUG9zaXRpb24oYnVmZmVyUG9zaXRpb246IFBvaW50KTogQ3Vyc29yO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgY3Vyc29yIGF0IHRoZSBwb3NpdGlvbiBpbiBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEEge1BvaW50fSBvciB7QXJyYXl9IG9mIGBbcm93LCBjb2x1bW5dYFxuICAgICAgICAgKiBAcmV0dXJucyB7Q3Vyc29yfSBSZXR1cm5zIGEge0N1cnNvcn0uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRDdXJzb3JBdFNjcmVlblBvc2l0aW9uKHNjcmVlblBvc2l0aW9uOiBQb2ludCk6IEN1cnNvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgb3Igbm90IHRoZXJlIGFyZSBtdWx0aXBsZSBjdXJzb3JzLlxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTXVsdGlwbGVDdXJzb3JzKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB1cCBvbmUgcm93IGluIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IG51bWJlciBvZiBsaW5lcyB0byBtb3ZlXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVXAobGluZUNvdW50PzogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgZXZlcnkgY3Vyc29yIGRvd24gb25lIHJvdyBpbiBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBudW1iZXIgb2YgbGluZXMgdG8gbW92ZVxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZURvd24obGluZUNvdW50PzogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgZXZlcnkgY3Vyc29yIGxlZnQgb25lIGNvbHVtbi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IG51bWJlciBvZiBjb2x1bW5zIHRvIG1vdmUgKGRlZmF1bHQ6IDEpXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlTGVmdChjb2x1bW5Db3VudD86IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciByaWdodCBvbmUgY29sdW1uLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbnVtYmVyIG9mIGNvbHVtbnMgdG8gbW92ZSAoZGVmYXVsdDogMSlcbiAgICAgICAgICovXG4gICAgICAgIG1vdmVSaWdodChjb2x1bW5Db3VudD86IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIGl0cyBsaW5lIGluIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb0JlZ2lubmluZ09mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBldmVyeSBjdXJzb3IgdG8gdGhlIGJlZ2lubmluZyBvZiBpdHMgbGluZSBpbiBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9CZWdpbm5pbmdPZlNjcmVlbkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgZXZlcnkgY3Vyc29yIHRvIHRoZSBmaXJzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIgb2YgaXRzIGxpbmUuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9GaXJzdENoYXJhY3Rlck9mTGluZSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBldmVyeSBjdXJzb3IgdG8gdGhlIGVuZCBvZiBpdHMgbGluZSBpbiBidWZmZXIgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9FbmRPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgZXZlcnkgY3Vyc29yIHRvIHRoZSBlbmQgb2YgaXRzIGxpbmUgaW4gc2NyZWVuIGNvb3JkaW5hdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvRW5kT2ZTY3JlZW5MaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIGl0cyBzdXJyb3VuZGluZyB3b3JkLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvQmVnaW5uaW5nT2ZXb3JkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgZW5kIG9mIGl0cyBzdXJyb3VuZGluZyB3b3JkLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvRW5kT2ZXb3JkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgdG9wIG9mIHRoZSBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjdXJzb3JzLCB0aGV5IHdpbGwgYmUgbWVyZ2VkIGludG8gYSBzaW5nbGUgY3Vyc29yLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvVG9wKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgYm90dG9tIG9mIHRoZSBidWZmZXIuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZXJlIGFyZSBtdWx0aXBsZSBjdXJzb3JzLCB0aGV5IHdpbGwgYmUgbWVyZ2VkIGludG8gYSBzaW5nbGUgY3Vyc29yLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvQm90dG9tKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXh0IHdvcmQuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9CZWdpbm5pbmdPZk5leHRXb3JkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgcHJldmlvdXMgd29yZCBib3VuZGFyeS5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb1ByZXZpb3VzV29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgbmV4dCB3b3JkIGJvdW5kYXJ5LlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvTmV4dFdvcmRCb3VuZGFyeSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBldmVyeSBjdXJzb3IgdG8gdGhlIHByZXZpb3VzIHN1YndvcmQgYm91bmRhcnkuXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9QcmV2aW91c1N1YndvcmRCb3VuZGFyeSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSBldmVyeSBjdXJzb3IgdG8gdGhlIG5leHQgc3Vid29yZCBib3VuZGFyeS5cbiAgICAgICAgICovXG4gICAgICAgIG1vdmVUb05leHRTdWJ3b3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgZXZlcnkgY3Vyc29yIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgcGFyYWdyYXBoLlxuICAgICAgICAgKi9cbiAgICAgICAgbW92ZVRvQmVnaW5uaW5nT2ZOZXh0UGFyYWdyYXBoKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIGV2ZXJ5IGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBwcmV2aW91cyBwYXJhZ3JhcGguXG4gICAgICAgICAqL1xuICAgICAgICBtb3ZlVG9CZWdpbm5pbmdPZlByZXZpb3VzUGFyYWdyYXBoKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Q3Vyc29yfSBSZXR1cm5zIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkIHtDdXJzb3J9XG4gICAgICAgICAqL1xuICAgICAgICBnZXRMYXN0Q3Vyc29yKCk6IEN1cnNvcjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSAgU2VlIHtDdXJzb3I6OmdldEJlZ2lubmluZ09mQ3VycmVudFdvcmRCdWZmZXJQb3NpdGlvbn0uXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIHRoZSB3b3JkIHN1cnJvdW5kaW5nIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkIGN1cnNvci5cbiAgICAgICAgICovXG4gICAgICAgIGdldFdvcmRVbmRlckN1cnNvcihvcHRpb25zPzogYW55KTogYW55O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIEFycmF5IG9mIGFsbCB7Q3Vyc29yfXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRDdXJzb3JzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYWxsIHtDdXJzb3JzfXMsIG9yZGVyZWQgYnkgdGhlaXIgcG9zaXRpb24gaW4gdGhlIGJ1ZmZlclxuICAgICAgICAgKiBpbnN0ZWFkIG9mIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtTZWxlY3Rpb259cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEN1cnNvcnNPcmRlcmVkQnlCdWZmZXJQb3NpdGlvbigpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgc2VsZWN0ZWQgdGV4dCBvZiB0aGUgbW9zdCByZWNlbnRseSBhZGRlZCBzZWxlY3Rpb24uXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGVkVGV4dCgpOiBzdHJpbmc7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHtSYW5nZX0gb2YgdGhlIG1vc3QgcmVjZW50bHkgYWRkZWQgc2VsZWN0aW9uIGluIGJ1ZmZlclxuICAgICAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGVkQnVmZmVyUmFuZ2UoKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHtSYW5nZX1zIG9mIGFsbCBzZWxlY3Rpb25zIGluIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHJhbmdlcyBhcmUgc29ydGVkIGJ5IHdoZW4gdGhlIHNlbGVjdGlvbnMgd2VyZSBhZGRlZC4gTW9zdCByZWNlbnQgYXQgdGhlIGVuZC5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1JhbmdlfXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZWxlY3RlZEJ1ZmZlclJhbmdlcygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc2VsZWN0ZWQgcmFuZ2UgaW4gYnVmZmVyIGNvb3JkaW5hdGVzLiBJZiB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAgICAgICogc2VsZWN0aW9ucywgdGhleSBhcmUgcmVkdWNlZCB0byBhIHNpbmdsZSBzZWxlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gcmFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBvciByYW5nZS1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiBvcHRpb25zIHtPYmplY3R9OlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2VsZWN0ZWRCdWZmZXJSYW5nZShidWZmZXJSYW5nZTogUmFuZ2UsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzZWxlY3RlZCByYW5nZXMgaW4gYnVmZmVyIGNvb3JkaW5hdGVzLiBJZiB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAgICAgICogc2VsZWN0aW9ucywgdGhleSBhcmUgcmVwbGFjZWQgYnkgbmV3IHNlbGVjdGlvbnMgd2l0aCB0aGUgZ2l2ZW4gcmFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge2FueVtdfSBBbiB7QXJyYXl9IG9mIHtSYW5nZX1zIG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiBvcHRpb25zIHtPYmplY3R9OlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2VsZWN0ZWRCdWZmZXJSYW5nZXMoYnVmZmVyUmFuZ2VzOiBhbnlbXSwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHtSYW5nZX0gb2YgdGhlIG1vc3QgcmVjZW50bHkgYWRkZWQgc2VsZWN0aW9uIGluIHNjcmVlblxuICAgICAgICAgKiBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIGEge1JhbmdlfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGVkU2NyZWVuUmFuZ2UoKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHtSYW5nZX1zIG9mIGFsbCBzZWxlY3Rpb25zIGluIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHJhbmdlcyBhcmUgc29ydGVkIGJ5IHdoZW4gdGhlIHNlbGVjdGlvbnMgd2VyZSBhZGRlZC4gTW9zdCByZWNlbnQgYXQgdGhlIGVuZC5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1JhbmdlfXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZWxlY3RlZFNjcmVlblJhbmdlcygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgc2VsZWN0ZWQgcmFuZ2UgaW4gc2NyZWVuIGNvb3JkaW5hdGVzLiBJZiB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAgICAgICogc2VsZWN0aW9ucywgdGhleSBhcmUgcmVkdWNlZCB0byBhIHNpbmdsZSBzZWxlY3Rpb24gd2l0aCB0aGUgZ2l2ZW4gcmFuZ2UuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBvciByYW5nZS1jb21wYXRpYmxlIHtBcnJheX0uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiBvcHRpb25zIHtPYmplY3R9OlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2VsZWN0ZWRTY3JlZW5SYW5nZShzY3JlZW5SYW5nZTogUmFuZ2UsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBzZWxlY3RlZCByYW5nZXMgaW4gc2NyZWVuIGNvb3JkaW5hdGVzLiBJZiB0aGVyZSBhcmUgbXVsdGlwbGVcbiAgICAgICAgICogc2VsZWN0aW9ucywgdGhleSBhcmUgcmVwbGFjZWQgYnkgbmV3IHNlbGVjdGlvbnMgd2l0aCB0aGUgZ2l2ZW4gcmFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge2FueVtdfSBBbiB7QXJyYXl9IG9mIHtSYW5nZX1zIG9yIHJhbmdlLWNvbXBhdGlibGUge0FycmF5fXMuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSBBbiBvcHRpb25zIHtPYmplY3R9OlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0U2VsZWN0ZWRTY3JlZW5SYW5nZXMoc2NyZWVuUmFuZ2VzOiBhbnlbXSwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBzZWxlY3Rpb24gZm9yIHRoZSBnaXZlbiByYW5nZSBpbiBidWZmZXIgY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4gb3B0aW9ucyB7T2JqZWN0fTpcbiAgICAgICAgICogQHJldHVybnMge1NlbGVjdGlvbn0gUmV0dXJucyB0aGUgYWRkZWQge1NlbGVjdGlvbn0uXG4gICAgICAgICAqL1xuICAgICAgICBhZGRTZWxlY3Rpb25Gb3JCdWZmZXJSYW5nZShidWZmZXJSYW5nZTogUmFuZ2UsIG9wdGlvbnM/OiBPYmplY3QpOiBTZWxlY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgYSBzZWxlY3Rpb24gZm9yIHRoZSBnaXZlbiByYW5nZSBpbiBzY3JlZW4gY29vcmRpbmF0ZXMuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4gb3B0aW9ucyB7T2JqZWN0fTpcbiAgICAgICAgICovXG4gICAgICAgIGFkZFNlbGVjdGlvbkZvclNjcmVlblJhbmdlKHNjcmVlblJhbmdlOiBSYW5nZSwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3QgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlIGdpdmVuIHBvc2l0aW9uIGluXG4gICAgICAgICAqIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWF5IG1lcmdlIHNlbGVjdGlvbnMgdGhhdCBlbmQgdXAgaW50ZXNlY3RpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEFuIGluc3RhbmNlIG9mIHtQb2ludH0sIHdpdGggYSBnaXZlbiBgcm93YCBhbmQgYGNvbHVtbmAuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0J1ZmZlclBvc2l0aW9uKHBvc2l0aW9uOiBQb2ludCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3QgZnJvbSB0aGUgY3VycmVudCBjdXJzb3IgcG9zaXRpb24gdG8gdGhlIGdpdmVuIHBvc2l0aW9uIGluXG4gICAgICAgICAqIHNjcmVlbiBjb29yZGluYXRlcy5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWF5IG1lcmdlIHNlbGVjdGlvbnMgdGhhdCBlbmQgdXAgaW50ZXNlY3RpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7UG9pbnR9IEFuIGluc3RhbmNlIG9mIHtQb2ludH0sIHdpdGggYSBnaXZlbiBgcm93YCBhbmQgYGNvbHVtbmAuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb1NjcmVlblBvc2l0aW9uKHBvc2l0aW9uOiBQb2ludCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIHRoZSBjdXJzb3Igb2YgZWFjaCBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciB1cHdhcmQgd2hpbGVcbiAgICAgICAgICogcHJlc2VydmluZyB0aGUgc2VsZWN0aW9uJ3MgdGFpbCBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWF5IG1lcmdlIHNlbGVjdGlvbnMgdGhhdCBlbmQgdXAgaW50ZXNlY3RpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBudW1iZXIgb2Ygcm93cyB0byBzZWxlY3QgKGRlZmF1bHQ6IDEpXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RVcChyb3dDb3VudD86IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBNb3ZlIHRoZSBjdXJzb3Igb2YgZWFjaCBzZWxlY3Rpb24gb25lIGNoYXJhY3RlciBkb3dud2FyZCB3aGlsZVxuICAgICAgICAgKiBwcmVzZXJ2aW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtYXkgbWVyZ2Ugc2VsZWN0aW9ucyB0aGF0IGVuZCB1cCBpbnRlc2VjdGluZy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IG51bWJlciBvZiByb3dzIHRvIHNlbGVjdCAoZGVmYXVsdDogMSlcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdERvd24ocm93Q291bnQ/OiBudW1iZXIpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogTW92ZSB0aGUgY3Vyc29yIG9mIGVhY2ggc2VsZWN0aW9uIG9uZSBjaGFyYWN0ZXIgbGVmdHdhcmQgd2hpbGVcbiAgICAgICAgICogcHJlc2VydmluZyB0aGUgc2VsZWN0aW9uJ3MgdGFpbCBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWF5IG1lcmdlIHNlbGVjdGlvbnMgdGhhdCBlbmQgdXAgaW50ZXNlY3RpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSB7TnVtYmVyfSBudW1iZXIgb2YgY29sdW1ucyB0byBzZWxlY3QgKGRlZmF1bHQ6IDEpXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RMZWZ0KGNvbHVtbkNvdW50PzogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgdGhlIGN1cnNvciBvZiBlYWNoIHNlbGVjdGlvbiBvbmUgY2hhcmFjdGVyIHJpZ2h0d2FyZCB3aGlsZVxuICAgICAgICAgKiBwcmVzZXJ2aW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtYXkgbWVyZ2Ugc2VsZWN0aW9ucyB0aGF0IGVuZCB1cCBpbnRlc2VjdGluZy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IHtOdW1iZXJ9IG51bWJlciBvZiBjb2x1bW5zIHRvIHNlbGVjdCAoZGVmYXVsdDogMSlcbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFJpZ2h0KGNvbHVtbkNvdW50PzogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNlbGVjdCBmcm9tIHRoZSB0b3Agb2YgdGhlIGJ1ZmZlciB0byB0aGUgZW5kIG9mIHRoZSBsYXN0IHNlbGVjdGlvblxuICAgICAgICAgKiBpbiB0aGUgYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtZXJnZXMgbXVsdGlwbGUgc2VsZWN0aW9ucyBpbnRvIGEgc2luZ2xlIHNlbGVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvVG9wKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3RzIGZyb20gdGhlIHRvcCBvZiB0aGUgZmlyc3Qgc2VsZWN0aW9uIGluIHRoZSBidWZmZXIgdG8gdGhlIGVuZFxuICAgICAgICAgKiBvZiB0aGUgYnVmZmVyLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtZXJnZXMgbXVsdGlwbGUgc2VsZWN0aW9ucyBpbnRvIGEgc2luZ2xlIHNlbGVjdGlvbi5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvQm90dG9tKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3QgYWxsIHRleHQgaW4gdGhlIGJ1ZmZlci5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWVyZ2VzIG11bHRpcGxlIHNlbGVjdGlvbnMgaW50byBhIHNpbmdsZSBzZWxlY3Rpb24uXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RBbGwoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgdGhlIGN1cnNvciBvZiBlYWNoIHNlbGVjdGlvbiB0byB0aGUgYmVnaW5uaW5nIG9mIGl0cyBsaW5lXG4gICAgICAgICAqIHdoaWxlIHByZXNlcnZpbmcgdGhlIHNlbGVjdGlvbidzIHRhaWwgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIG1heSBtZXJnZSBzZWxlY3Rpb25zIHRoYXQgZW5kIHVwIGludGVzZWN0aW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9CZWdpbm5pbmdPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgdGhlIGN1cnNvciBvZiBlYWNoIHNlbGVjdGlvbiB0byB0aGUgZmlyc3Qgbm9uLXdoaXRlc3BhY2VcbiAgICAgICAgICogY2hhcmFjdGVyIG9mIGl0cyBsaW5lIHdoaWxlIHByZXNlcnZpbmcgdGhlIHNlbGVjdGlvbidzIHRhaWwgcG9zaXRpb24uIElmIHRoZVxuICAgICAgICAgKiBjdXJzb3IgaXMgYWxyZWFkeSBvbiB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIHRoZSBsaW5lLCBtb3ZlIGl0IHRvIHRoZVxuICAgICAgICAgKiBiZWdpbm5pbmcgb2YgdGhlIGxpbmUuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIG1heSBtZXJnZSBzZWxlY3Rpb25zIHRoYXQgZW5kIHVwIGludGVyc2VjdGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvRmlyc3RDaGFyYWN0ZXJPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1vdmUgdGhlIGN1cnNvciBvZiBlYWNoIHNlbGVjdGlvbiB0byB0aGUgZW5kIG9mIGl0cyBsaW5lIHdoaWxlXG4gICAgICAgICAqIHByZXNlcnZpbmcgdGhlIHNlbGVjdGlvbidzIHRhaWwgcG9zaXRpb24uXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoaXMgbWV0aG9kIG1heSBtZXJnZSBzZWxlY3Rpb25zIHRoYXQgZW5kIHVwIGludGVyc2VjdGluZy5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdFRvRW5kT2ZMaW5lKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFeHBhbmQgc2VsZWN0aW9ucyB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZWlyIGNvbnRhaW5pbmcgd29yZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT3BlcmF0ZXMgb24gYWxsIHNlbGVjdGlvbnMuIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGVcbiAgICAgICAgICogY29udGFpbmluZyB3b3JkIHdoaWxlIHByZXNlcnZpbmcgdGhlIHNlbGVjdGlvbidzIHRhaWwgcG9zaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0JlZ2lubmluZ09mV29yZCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRXhwYW5kIHNlbGVjdGlvbnMgdG8gdGhlIGVuZCBvZiB0aGVpciBjb250YWluaW5nIHdvcmQuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9wZXJhdGVzIG9uIGFsbCBzZWxlY3Rpb25zLiBNb3ZlcyB0aGUgY3Vyc29yIHRvIHRoZSBlbmQgb2YgdGhlIGNvbnRhaW5pbmdcbiAgICAgICAgICogd29yZCB3aGlsZSBwcmVzZXJ2aW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9FbmRPZldvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBlYWNoIHNlbGVjdGlvbiwgbW92ZSBpdHMgY3Vyc29yIHRvIHRoZSBwcmVjZWRpbmcgc3Vid29yZFxuICAgICAgICAgKiBib3VuZGFyeSB3aGlsZSBtYWludGFpbmluZyB0aGUgc2VsZWN0aW9uJ3MgdGFpbCBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWF5IG1lcmdlIHNlbGVjdGlvbnMgdGhhdCBlbmQgdXAgaW50ZXJzZWN0aW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9QcmV2aW91c1N1YndvcmRCb3VuZGFyeSgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggc2VsZWN0aW9uLCBtb3ZlIGl0cyBjdXJzb3IgdG8gdGhlIG5leHQgc3Vid29yZCBib3VuZGFyeVxuICAgICAgICAgKiB3aGlsZSBtYWludGFpbmluZyB0aGUgc2VsZWN0aW9uJ3MgdGFpbCBwb3NpdGlvbi5cbiAgICAgICAgICpcbiAgICAgICAgICogVGhpcyBtZXRob2QgbWF5IG1lcmdlIHNlbGVjdGlvbnMgdGhhdCBlbmQgdXAgaW50ZXJzZWN0aW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9OZXh0U3Vid29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBjdXJzb3IsIHNlbGVjdCB0aGUgY29udGFpbmluZyBsaW5lLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtZXJnZXMgc2VsZWN0aW9ucyBvbiBzdWNjZXNzaXZlIGxpbmVzLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0TGluZXNDb250YWluaW5nQ3Vyc29ycygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2VsZWN0IHRoZSB3b3JkIHN1cnJvdW5kaW5nIGVhY2ggY3Vyc29yLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0V29yZHNDb250YWluaW5nQ3Vyc29ycygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggc2VsZWN0aW9uLCBtb3ZlIGl0cyBjdXJzb3IgdG8gdGhlIHByZWNlZGluZyB3b3JkIGJvdW5kYXJ5XG4gICAgICAgICAqIHdoaWxlIG1haW50YWluaW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtYXkgbWVyZ2Ugc2VsZWN0aW9ucyB0aGF0IGVuZCB1cCBpbnRlcnNlY3RpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb1ByZXZpb3VzV29yZEJvdW5kYXJ5KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIG1vdmUgaXRzIGN1cnNvciB0byB0aGUgbmV4dCB3b3JkIGJvdW5kYXJ5IHdoaWxlXG4gICAgICAgICAqIG1haW50YWluaW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBUaGlzIG1ldGhvZCBtYXkgbWVyZ2Ugc2VsZWN0aW9ucyB0aGF0IGVuZCB1cCBpbnRlcnNlY3RpbmcuXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb05leHRXb3JkQm91bmRhcnkoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4cGFuZCBzZWxlY3Rpb25zIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgd29yZC5cbiAgICAgICAgICpcbiAgICAgICAgICogT3BlcmF0ZXMgb24gYWxsIHNlbGVjdGlvbnMuIE1vdmVzIHRoZSBjdXJzb3IgdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgbmV4dFxuICAgICAgICAgKiB3b3JkIHdoaWxlIHByZXNlcnZpbmcgdGhlIHNlbGVjdGlvbidzIHRhaWwgcG9zaXRpb24uXG4gICAgICAgICAqL1xuICAgICAgICBzZWxlY3RUb0JlZ2lubmluZ09mTmV4dFdvcmQoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4cGFuZCBzZWxlY3Rpb25zIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgcGFyYWdyYXBoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPcGVyYXRlcyBvbiBhbGwgc2VsZWN0aW9ucy4gTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXh0XG4gICAgICAgICAqIHBhcmFncmFwaCB3aGlsZSBwcmVzZXJ2aW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9CZWdpbm5pbmdPZk5leHRQYXJhZ3JhcGgoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEV4cGFuZCBzZWxlY3Rpb25zIHRvIHRoZSBiZWdpbm5pbmcgb2YgdGhlIG5leHQgcGFyYWdyYXBoLlxuICAgICAgICAgKlxuICAgICAgICAgKiBPcGVyYXRlcyBvbiBhbGwgc2VsZWN0aW9ucy4gTW92ZXMgdGhlIGN1cnNvciB0byB0aGUgYmVnaW5uaW5nIG9mIHRoZSBuZXh0XG4gICAgICAgICAqIHBhcmFncmFwaCB3aGlsZSBwcmVzZXJ2aW5nIHRoZSBzZWxlY3Rpb24ncyB0YWlsIHBvc2l0aW9uLlxuICAgICAgICAgKi9cbiAgICAgICAgc2VsZWN0VG9CZWdpbm5pbmdPZlByZXZpb3VzUGFyYWdyYXBoKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZWxlY3QgdGhlIHJhbmdlIG9mIHRoZSBnaXZlbiBtYXJrZXIgaWYgaXQgaXMgdmFsaWQuXG4gICAgICAgICAqIEBwYXJhbSB7RGlzcGxheU1hcmtlcn0gQSB7RGlzcGxheU1hcmtlcn1cbiAgICAgICAgICogQHJldHVybnMge1JhbmdlfSBSZXR1cm5zIHRoZSBzZWxlY3RlZCB7UmFuZ2V9IG9yIGBgIGlmIHRoZSBtYXJrZXIgaXMgaW52YWxpZC5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdE1hcmtlcihtYXJrZXI6IERpc3BsYXlNYXJrZXIpOiBSYW5nZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgbW9zdCByZWNlbnRseSBhZGRlZCB7U2VsZWN0aW9ufS5cbiAgICAgICAgICogQHJldHVybnMge1NlbGVjdGlvbn0gUmV0dXJucyBhIHtTZWxlY3Rpb259LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGFzdFNlbGVjdGlvbigpOiBTZWxlY3Rpb247XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgY3VycmVudCB7U2VsZWN0aW9ufXMuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJuczogQW4ge0FycmF5fSBvZiB7U2VsZWN0aW9ufXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTZWxlY3Rpb25zKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCB7U2VsZWN0aW9ufXMsIG9yZGVyZWQgYnkgdGhlaXIgcG9zaXRpb24gaW4gdGhlIGJ1ZmZlclxuICAgICAgICAgKiBpbnN0ZWFkIG9mIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IHdlcmUgYWRkZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIHtTZWxlY3Rpb259cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFNlbGVjdGlvbnNPcmRlcmVkQnlCdWZmZXJQb3NpdGlvbigpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSBpZiBhIGdpdmVuIHJhbmdlIGluIGJ1ZmZlciBjb29yZGluYXRlcyBpbnRlcnNlY3RzIGFcbiAgICAgICAgICogc2VsZWN0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX0gb3IgcmFuZ2UtY29tcGF0aWJsZSB7QXJyYXl9LlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIHNlbGVjdGlvbkludGVyc2VjdHNCdWZmZXJSYW5nZShidWZmZXJSYW5nZTogUmFuZ2UpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2NhbiByZWd1bGFyIGV4cHJlc3Npb24gbWF0Y2hlcyBpbiB0aGUgZW50aXJlIGJ1ZmZlciwgY2FsbGluZyB0aGVcbiAgICAgICAgICogZ2l2ZW4gaXRlcmF0b3IgZnVuY3Rpb24gb24gZWFjaCBtYXRjaC5cbiAgICAgICAgICpcbiAgICAgICAgICogYDo6c2NhbmAgZnVuY3Rpb25zIGFzIHRoZSByZXBsYWNlIG1ldGhvZCBhcyB3ZWxsIHZpYSB0aGUgYHJlcGxhY2VgXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHlvdSdyZSBwcm9ncmFtbWF0aWNhbGx5IG1vZGlmeWluZyB0aGUgcmVzdWx0cywgeW91IG1heSB3YW50IHRvIHRyeVxuICAgICAgICAgKiB7OjpiYWNrd2FyZHNTY2FuSW5CdWZmZXJSYW5nZX0gdG8gYXZvaWQgdHJpcHBpbmcgb3ZlciB5b3VyIG93biBjaGFuZ2VzLlxuICAgICAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gQSB7UmVnRXhwfSB0byBzZWFyY2ggZm9yLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdGhhdCdzIGNhbGxlZCBvbiBlYWNoIG1hdGNoXG4gICAgICAgICAqL1xuICAgICAgICBzY2FuKHJlZ2V4OiBSZWdFeHAsIGl0ZXJhdG9yOiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY2FuIHJlZ3VsYXIgZXhwcmVzc2lvbiBtYXRjaGVzIGluIGEgZ2l2ZW4gcmFuZ2UsIGNhbGxpbmcgdGhlIGdpdmVuXG4gICAgICAgICAqIGl0ZXJhdG9yIGZ1bmN0aW9uIG9uIGVhY2ggbWF0Y2guXG4gICAgICAgICAqIEBwYXJhbSB7UmVnRXhwfSBBIHtSZWdFeHB9IHRvIHNlYXJjaCBmb3IuXG4gICAgICAgICAqIEBwYXJhbSB7UmFuZ2V9IEEge1JhbmdlfSBpbiB3aGljaCB0byBzZWFyY2guXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSB0aGF0J3MgY2FsbGVkIG9uIGVhY2ggbWF0Y2ggd2l0aCBhbiB7T2JqZWN0fSBjb250YWluaW5nIHRoZSBmb2xsb3dpbmcga2V5czpcbiAgICAgICAgICovXG4gICAgICAgIHNjYW5JbkJ1ZmZlclJhbmdlKHJlZ2V4OiBSZWdFeHAsIHJhbmdlOiBSYW5nZSwgaXRlcmF0b3I6IEZ1bmN0aW9uKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjYW4gcmVndWxhciBleHByZXNzaW9uIG1hdGNoZXMgaW4gYSBnaXZlbiByYW5nZSBpbiByZXZlcnNlIG9yZGVyLFxuICAgICAgICAgKiBjYWxsaW5nIHRoZSBnaXZlbiBpdGVyYXRvciBmdW5jdGlvbiBvbiBlYWNoIG1hdGNoLlxuICAgICAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gQSB7UmVnRXhwfSB0byBzZWFyY2ggZm9yLlxuICAgICAgICAgKiBAcGFyYW0ge1JhbmdlfSBBIHtSYW5nZX0gaW4gd2hpY2ggdG8gc2VhcmNoLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdGhhdCdzIGNhbGxlZCBvbiBlYWNoIG1hdGNoIHdpdGggYW4ge09iamVjdH0gY29udGFpbmluZyB0aGUgZm9sbG93aW5nIGtleXM6XG4gICAgICAgICAqL1xuICAgICAgICBiYWNrd2FyZHNTY2FuSW5CdWZmZXJSYW5nZShyZWdleDogUmVnRXhwLCByYW5nZTogUmFuZ2UsIGl0ZXJhdG9yOiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufSBpbmRpY2F0aW5nIHdoZXRoZXIgc29mdFRhYnMgYXJlIGVuYWJsZWQgZm9yIHRoaXNcbiAgICAgICAgZWRpdG9yLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0U29mdFRhYnMoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEVuYWJsZSBvciBkaXNhYmxlIHNvZnQgdGFicyBmb3IgdGhpcyBlZGl0b3IuXG4gICAgICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gQSB7Qm9vbGVhbn1cbiAgICAgICAgICovXG4gICAgICAgIHNldFNvZnRUYWJzKHNvZnRUYWJzOiBib29sZWFuKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvZ2dsZSBzb2Z0IHRhYnMgZm9yIHRoaXMgZWRpdG9yXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVTb2Z0VGFicygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBvbi1zY3JlZW4gbGVuZ3RoIG9mIHRhYiBjaGFyYWN0ZXJzLlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRUYWJMZW5ndGgoKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBvbi1zY3JlZW4gbGVuZ3RoIG9mIHRhYiBjaGFyYWN0ZXJzLiBTZXR0aW5nIHRoaXMgdG8gYVxuICAgICAgICAgKiB7TnVtYmVyfSBUaGlzIHdpbGwgb3ZlcnJpZGUgdGhlIGBlZGl0b3IudGFiTGVuZ3RoYCBzZXR0aW5nLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0ge051bWJlcn0gbGVuZ3RoIG9mIGEgc2luZ2xlIHRhYi4gU2V0dGluZyB0byBgbnVsbGAgd2lsbCBmYWxsYmFjayB0byB1c2luZyB0aGUgYGVkaXRvci50YWJMZW5ndGhgIGNvbmZpZyBzZXR0aW5nXG4gICAgICAgICAqL1xuICAgICAgICBzZXRUYWJMZW5ndGgodGFiTGVuZ3RoOiBudW1iZXIpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIGlmIHRoZSBidWZmZXIgdXNlcyBoYXJkIG9yIHNvZnQgdGFicy5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnMgYHRydWVgIGlmIHRoZSBmaXJzdCBub24tY29tbWVudCBsaW5lIHdpdGggbGVhZGluZyB3aGl0ZXNwYWNlIHN0YXJ0c1xuICAgICAgICB3aXRoIGEgc3BhY2UgY2hhcmFjdGVyLlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBgZmFsc2VgIGlmIGl0IHN0YXJ0cyB3aXRoIGEgaGFyZCB0YWIgKGBcXHRgKS5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gb3IgIGlmIG5vIG5vbi1jb21tZW50IGxpbmVzIGhhZCBsZWFkaW5nXG4gICAgICAgIHdoaXRlc3BhY2UuXG4gICAgICAgICAqL1xuICAgICAgICB1c2VzU29mdFRhYnMoKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgdGV4dCByZXByZXNlbnRpbmcgYSBzaW5nbGUgbGV2ZWwgb2YgaW5kZW50LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBzb2Z0IHRhYnMgYXJlIGVuYWJsZWQsIHRoZSB0ZXh0IGlzIGNvbXBvc2VkIG9mIE4gc3BhY2VzLCB3aGVyZSBOIGlzIHRoZVxuICAgICAgICAgKiB0YWIgbGVuZ3RoLiBPdGhlcndpc2UgdGhlIHRleHQgaXMgYSB0YWIgY2hhcmFjdGVyIChgXFx0YCkuXG4gICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgYSB7U3RyaW5nfS5cbiAgICAgICAgICovXG4gICAgICAgIGdldFRhYlRleHQoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgbGluZXMgaW4gdGhpcyBlZGl0b3IgYXJlIHNvZnQtd3JhcHBlZC5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0uXG4gICAgICAgICAqL1xuICAgICAgICBpc1NvZnRXcmFwcGVkKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBFbmFibGUgb3IgZGlzYWJsZSBzb2Z0IHdyYXBwaW5nIGZvciB0aGlzIGVkaXRvci5cbiAgICAgICAgICogQHBhcmFtIHtib29sZWFufSBBIHtCb29sZWFufVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIHNldFNvZnRXcmFwcGVkKHNvZnRXcmFwcGVkOiBib29sZWFuKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRvZ2dsZSBzb2Z0IHdyYXBwaW5nIGZvciB0aGlzIGVkaXRvclxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIHRvZ2dsZVNvZnRXcmFwcGVkKCk6IGJvb2xlYW47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXRzIHRoZSBjb2x1bW4gYXQgd2hpY2ggY29sdW1uIHdpbGwgc29mdCB3cmFwXG4gICAgICAgICAqL1xuICAgICAgICBnZXRTb2Z0V3JhcENvbHVtbigpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBpbmRlbnRhdGlvbiBsZXZlbCBvZiB0aGUgZ2l2ZW4gYnVmZmVyIHJvdy5cbiAgICAgICAgICpcbiAgICAgICAgICogRGV0ZXJtaW5lcyBob3cgZGVlcGx5IHRoZSBnaXZlbiByb3cgaXMgaW5kZW50ZWQgYmFzZWQgb24gdGhlIHNvZnQgdGFicyBhbmRcbiAgICAgICAgICogdGFiIGxlbmd0aCBzZXR0aW5ncyBvZiB0aGlzIGVkaXRvci4gTm90ZSB0aGF0IGlmIHNvZnQgdGFicyBhcmUgZW5hYmxlZCBhbmRcbiAgICAgICAgICogdGhlIHRhYiBsZW5ndGggaXMgMiwgYSByb3cgd2l0aCA0IGxlYWRpbmcgc3BhY2VzIHdvdWxkIGhhdmUgYW4gaW5kZW50YXRpb25cbiAgICAgICAgICogbGV2ZWwgb2YgMi5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0gaW5kaWNhdGluZyB0aGUgYnVmZmVyIHJvdy5cbiAgICAgICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyBhIHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgaW5kZW50YXRpb25Gb3JCdWZmZXJSb3coYnVmZmVyUm93OiBudW1iZXIpOiBudW1iZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTZXQgdGhlIGluZGVudGF0aW9uIGxldmVsIGZvciB0aGUgZ2l2ZW4gYnVmZmVyIHJvdy5cbiAgICAgICAgICpcbiAgICAgICAgICogSW5zZXJ0cyBvciByZW1vdmVzIGhhcmQgdGFicyBvciBzcGFjZXMgYmFzZWQgb24gdGhlIHNvZnQgdGFicyBhbmQgdGFiIGxlbmd0aFxuICAgICAgICAgKiBzZXR0aW5ncyBvZiB0aGlzIGVkaXRvciBpbiBvcmRlciB0byBicmluZyBpdCB0byB0aGUgZ2l2ZW4gaW5kZW50YXRpb24gbGV2ZWwuXG4gICAgICAgICAqIE5vdGUgdGhhdCBpZiBzb2Z0IHRhYnMgYXJlIGVuYWJsZWQgYW5kIHRoZSB0YWIgbGVuZ3RoIGlzIDIsIGEgcm93IHdpdGggNFxuICAgICAgICAgKiBsZWFkaW5nIHNwYWNlcyB3b3VsZCBoYXZlIGFuIGluZGVudGF0aW9uIGxldmVsIG9mIDIuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9IGluZGljYXRpbmcgdGhlIGJ1ZmZlciByb3cuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9IGluZGljYXRpbmcgdGhlIG5ldyBpbmRlbnRhdGlvbiBsZXZlbC5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIHtPYmplY3R9IHdpdGggdGhlIGZvbGxvd2luZyBrZXlzOlxuICAgICAgICAgKi9cbiAgICAgICAgc2V0SW5kZW50YXRpb25Gb3JCdWZmZXJSb3coYnVmZmVyUm93OiBudW1iZXIsIG5ld0xldmVsOiBudW1iZXIsIG9wdGlvbnM/OiBPYmplY3QpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZW50IHJvd3MgaW50ZXJzZWN0aW5nIHNlbGVjdGlvbnMgYnkgb25lIGxldmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgaW5kZW50U2VsZWN0ZWRSb3dzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBPdXRkZW50IHJvd3MgaW50ZXJzZWN0aW5nIHNlbGVjdGlvbnMgYnkgb25lIGxldmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgb3V0ZGVudFNlbGVjdGVkUm93cygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBpbmRlbnRhdGlvbiBsZXZlbCBvZiB0aGUgZ2l2ZW4gbGluZSBvZiB0ZXh0LlxuICAgICAgICAgKlxuICAgICAgICAgKiBEZXRlcm1pbmVzIGhvdyBkZWVwbHkgdGhlIGdpdmVuIGxpbmUgaXMgaW5kZW50ZWQgYmFzZWQgb24gdGhlIHNvZnQgdGFicyBhbmRcbiAgICAgICAgICogdGFiIGxlbmd0aCBzZXR0aW5ncyBvZiB0aGlzIGVkaXRvci4gTm90ZSB0aGF0IGlmIHNvZnQgdGFicyBhcmUgZW5hYmxlZCBhbmRcbiAgICAgICAgICogdGhlIHRhYiBsZW5ndGggaXMgMiwgYSByb3cgd2l0aCA0IGxlYWRpbmcgc3BhY2VzIHdvdWxkIGhhdmUgYW4gaW5kZW50YXRpb25cbiAgICAgICAgICogbGV2ZWwgb2YgMi5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IEEge1N0cmluZ30gcmVwcmVzZW50aW5nIGEgbGluZSBvZiB0ZXh0LlxuICAgICAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIGEge051bWJlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBpbmRlbnRMZXZlbEZvckxpbmUobGluZTogc3RyaW5nKTogbnVtYmVyO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW5kZW50IHJvd3MgaW50ZXJzZWN0aW5nIHNlbGVjdGlvbnMgYmFzZWQgb24gdGhlIGdyYW1tYXIncyBzdWdnZXN0ZWRcbiAgICAgICAgICogaW5kZW50IGxldmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgYXV0b0luZGVudFNlbGVjdGVkUm93cygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBjdXJyZW50IHtHcmFtbWFyfSBvZiB0aGlzIGVkaXRvci5cbiAgICAgICAgICovXG4gICAgICAgIGdldEdyYW1tYXIoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNldCB0aGUgY3VycmVudCB7R3JhbW1hcn0gb2YgdGhpcyBlZGl0b3IuXG4gICAgICAgICAqXG4gICAgICAgICAqIEFzc2lnbmluZyBhIGdyYW1tYXIgd2lsbCBjYXVzZSB0aGUgZWRpdG9yIHRvIHJlLXRva2VuaXplIGJhc2VkIG9uIHRoZSBuZXdcbiAgICAgICAgICogZ3JhbW1hci5cbiAgICAgICAgICogQHBhcmFtIHtHcmFtbWFyfSB7R3JhbW1hcn1cbiAgICAgICAgICovXG4gICAgICAgIHNldEdyYW1tYXIoZ3JhbW1hcjogR3JhbW1hcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7U2NvcGVEZXNjcmlwdG9yfSBSZXR1cm5zIGEge1Njb3BlRGVzY3JpcHRvcn0gdGhhdCBpbmNsdWRlcyB0aGlzIGVkaXRvcidzIGxhbmd1YWdlLlxuICAgICAgICBlLmcuIGBbJy5zb3VyY2UucnVieSddYCwgb3IgYFsnLnNvdXJjZS5jb2ZmZWUnXWAuIFlvdSBjYW4gdXNlIHRoaXMgd2l0aFxuICAgICAgICB7Q29uZmlnOjpnZXR9IHRvIGdldCBsYW5ndWFnZSBzcGVjaWZpYyBjb25maWcgdmFsdWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Um9vdFNjb3BlRGVzY3JpcHRvcigpOiBTY29wZURlc2NyaXB0b3I7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIHN5bnRhY3RpYyBzY29wZURlc2NyaXB0b3IgZm9yIHRoZSBnaXZlbiBwb3NpdGlvbiBpbiBidWZmZXJcbiAgICAgICAgICogY29vcmRpbmF0ZXMuIFVzZWZ1bCB3aXRoIHtDb25maWc6OmdldH0uXG4gICAgICAgICAqXG4gICAgICAgICAqIEZvciBleGFtcGxlLCBpZiBjYWxsZWQgd2l0aCBhIHBvc2l0aW9uIGluc2lkZSB0aGUgcGFyYW1ldGVyIGxpc3Qgb2YgYW5cbiAgICAgICAgICogYW5vbnltb3VzIENvZmZlZVNjcmlwdCBmdW5jdGlvbiwgdGhlIG1ldGhvZCByZXR1cm5zIHRoZSBmb2xsb3dpbmcgYXJyYXk6XG4gICAgICAgICAqIGBbXCJzb3VyY2UuY29mZmVlXCIsIFwibWV0YS5pbmxpbmUuZnVuY3Rpb24uY29mZmVlXCIsIFwidmFyaWFibGUucGFyYW1ldGVyLmZ1bmN0aW9uLmNvZmZlZVwiXWBcbiAgICAgICAgICogQHBhcmFtIHtQb2ludH0gQSB7UG9pbnR9IG9yIHtBcnJheX0gb2YgW3JvdywgY29sdW1uXS5cbiAgICAgICAgICogQHJldHVybnMge1Njb3BlRGVzY3JpcHRvcn0gUmV0dXJucyBhIHtTY29wZURlc2NyaXB0b3J9LlxuICAgICAgICAgKi9cbiAgICAgICAgc2NvcGVEZXNjcmlwdG9yRm9yQnVmZmVyUG9zaXRpb24oYnVmZmVyUG9zaXRpb246IFBvaW50KTogU2NvcGVEZXNjcmlwdG9yO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSByYW5nZSBpbiBidWZmZXIgY29vcmRpbmF0ZXMgb2YgYWxsIHRva2VucyBzdXJyb3VuZGluZyB0aGVcbiAgICAgICAgICogY3Vyc29yIHRoYXQgbWF0Y2ggdGhlIGdpdmVuIHNjb3BlIHNlbGVjdG9yLlxuICAgICAgICAgKlxuICAgICAgICAgKiBGb3IgZXhhbXBsZSwgaWYgeW91IHdhbnRlZCB0byBmaW5kIHRoZSBzdHJpbmcgc3Vycm91bmRpbmcgdGhlIGN1cnNvciwgeW91XG4gICAgICAgICAqIGNvdWxkIGNhbGwgYGVkaXRvci5idWZmZXJSYW5nZUZvclNjb3BlQXRDdXJzb3IoXCIuc3RyaW5nLnF1b3RlZFwiKWAuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBzZWxlY3Rvci4gZS5nLiBgJy5zb3VyY2UucnVieSdgXG4gICAgICAgICAqIEByZXR1cm5zIHtSYW5nZX0gUmV0dXJucyBhIHtSYW5nZX0uXG4gICAgICAgICAqL1xuICAgICAgICBidWZmZXJSYW5nZUZvclNjb3BlQXRDdXJzb3Ioc2NvcGVTZWxlY3Rvcjogc3RyaW5nKTogUmFuZ2U7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgaWYgdGhlIGdpdmVuIHJvdyBpcyBlbnRpcmVseSBhIGNvbW1lbnRcbiAgICAgICAgICovXG4gICAgICAgIGlzQnVmZmVyUm93Q29tbWVudGVkKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGNvcHkgdGhlIHNlbGVjdGVkIHRleHQuXG4gICAgICAgICAqL1xuICAgICAgICBjb3B5U2VsZWN0ZWRUZXh0KCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGN1dCB0aGUgc2VsZWN0ZWQgdGV4dC5cbiAgICAgICAgICovXG4gICAgICAgIGN1dFNlbGVjdGVkVGV4dCgpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogRm9yIGVhY2ggc2VsZWN0aW9uLCByZXBsYWNlIHRoZSBzZWxlY3RlZCB0ZXh0IHdpdGggdGhlIGNvbnRlbnRzIG9mXG4gICAgICAgICAqIHRoZSBjbGlwYm9hcmQuXG4gICAgICAgICAqXG4gICAgICAgICAqIElmIHRoZSBjbGlwYm9hcmQgY29udGFpbnMgdGhlIHNhbWUgbnVtYmVyIG9mIHNlbGVjdGlvbnMgYXMgdGhlIGN1cnJlbnRcbiAgICAgICAgICogZWRpdG9yLCBlYWNoIHNlbGVjdGlvbiB3aWxsIGJlIHJlcGxhY2VkIHdpdGggdGhlIGNvbnRlbnQgb2YgdGhlXG4gICAgICAgICAqIGNvcnJlc3BvbmRpbmcgY2xpcGJvYXJkIHNlbGVjdGlvbiB0ZXh0LlxuICAgICAgICAgKiBAcGFyYW0gIFNlZSB7U2VsZWN0aW9uOjppbnNlcnRUZXh0fS5cbiAgICAgICAgICovXG4gICAgICAgIHBhc3RlVGV4dChvcHRpb25zPzogYW55KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBlYWNoIHNlbGVjdGlvbiwgaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSwgY3V0IGFsbCBjaGFyYWN0ZXJzXG4gICAgICAgICAqIG9mIHRoZSBjb250YWluaW5nIHNjcmVlbiBsaW5lIGZvbGxvd2luZyB0aGUgY3Vyc29yLiBPdGhlcndpc2UgY3V0IHRoZSBzZWxlY3RlZFxuICAgICAgICAgKiB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgY3V0VG9FbmRPZkxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvciBlYWNoIHNlbGVjdGlvbiwgaWYgdGhlIHNlbGVjdGlvbiBpcyBlbXB0eSwgY3V0IGFsbCBjaGFyYWN0ZXJzXG4gICAgICAgICAqIG9mIHRoZSBjb250YWluaW5nIGJ1ZmZlciBsaW5lIGZvbGxvd2luZyB0aGUgY3Vyc29yLiBPdGhlcndpc2UgY3V0IHRoZVxuICAgICAgICAgKiBzZWxlY3RlZCB0ZXh0LlxuICAgICAgICAgKi9cbiAgICAgICAgY3V0VG9FbmRPZkJ1ZmZlckxpbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbGQgdGhlIG1vc3QgcmVjZW50IGN1cnNvcidzIHJvdyBiYXNlZCBvbiBpdHMgaW5kZW50YXRpb24gbGV2ZWwuXG4gICAgICAgICAqXG4gICAgICAgICAqIFRoZSBmb2xkIHdpbGwgZXh0ZW5kIGZyb20gdGhlIG5lYXJlc3QgcHJlY2VkaW5nIGxpbmUgd2l0aCBhIGxvd2VyXG4gICAgICAgICAqIGluZGVudGF0aW9uIGxldmVsIHVwIHRvIHRoZSBuZWFyZXN0IGZvbGxvd2luZyByb3cgd2l0aCBhIGxvd2VyIGluZGVudGF0aW9uXG4gICAgICAgICAqIGxldmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgZm9sZEN1cnJlbnRSb3coKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZm9sZCB0aGUgbW9zdCByZWNlbnQgY3Vyc29yJ3Mgcm93IGJ5IG9uZSBsZXZlbC5cbiAgICAgICAgICovXG4gICAgICAgIHVuZm9sZEN1cnJlbnRSb3coKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbGQgdGhlIGdpdmVuIHJvdyBpbiBidWZmZXIgY29vcmRpbmF0ZXMgYmFzZWQgb24gaXRzIGluZGVudGF0aW9uXG4gICAgICAgICAqIGxldmVsLlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiB0aGUgZ2l2ZW4gcm93IGlzIGZvbGRhYmxlLCB0aGUgZm9sZCB3aWxsIGJlZ2luIHRoZXJlLiBPdGhlcndpc2UsIGl0IHdpbGxcbiAgICAgICAgICogYmVnaW4gYXQgdGhlIGZpcnN0IGZvbGRhYmxlIHJvdyBwcmVjZWRpbmcgdGhlIGdpdmVuIHJvdy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn0uXG4gICAgICAgICAqL1xuICAgICAgICBmb2xkQnVmZmVyUm93KGJ1ZmZlclJvdzogbnVtYmVyKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZm9sZCBhbGwgZm9sZHMgY29udGFpbmluZyB0aGUgZ2l2ZW4gcm93IGluIGJ1ZmZlciBjb29yZGluYXRlcy5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn1cbiAgICAgICAgICovXG4gICAgICAgIHVuZm9sZEJ1ZmZlclJvdyhidWZmZXJSb3c6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb3IgZWFjaCBzZWxlY3Rpb24sIGZvbGQgdGhlIHJvd3MgaXQgaW50ZXJzZWN0cy5cbiAgICAgICAgICovXG4gICAgICAgIGZvbGRTZWxlY3RlZExpbmVzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGb2xkIGFsbCBmb2xkYWJsZSBsaW5lcy5cbiAgICAgICAgICovXG4gICAgICAgIGZvbGRBbGwoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFVuZm9sZCBhbGwgZXhpc3RpbmcgZm9sZHMuXG4gICAgICAgICAqL1xuICAgICAgICB1bmZvbGRBbGwoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbGQgYWxsIGZvbGRhYmxlIGxpbmVzIGF0IHRoZSBnaXZlbiBpbmRlbnQgbGV2ZWwuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9LlxuICAgICAgICAgKi9cbiAgICAgICAgZm9sZEFsbEF0SW5kZW50TGV2ZWwobGV2ZWw6IG51bWJlcik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgZ2l2ZW4gcm93IGluIGJ1ZmZlciBjb29yZGluYXRlcyBpcyBmb2xkYWJsZS5cbiAgICAgICAgICpcbiAgICAgICAgICogQSAqZm9sZGFibGUqIHJvdyBpcyBhIHJvdyB0aGF0ICpzdGFydHMqIGEgcm93IHJhbmdlIHRoYXQgY2FuIGJlIGZvbGRlZC5cbiAgICAgICAgICogQHBhcmFtIHtudW1iZXJ9IEEge051bWJlcn1cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0uXG4gICAgICAgICAqL1xuICAgICAgICBpc0ZvbGRhYmxlQXRCdWZmZXJSb3coYnVmZmVyUm93OiBudW1iZXIpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIHJvdyBpbiBzY3JlZW4gY29vcmRpbmF0ZXMgaXMgZm9sZGFibGUuXG4gICAgICAgICAqXG4gICAgICAgICAqIEEgKmZvbGRhYmxlKiByb3cgaXMgYSByb3cgdGhhdCAqc3RhcnRzKiBhIHJvdyByYW5nZSB0aGF0IGNhbiBiZSBmb2xkZWQuXG4gICAgICAgICAqIEBwYXJhbSB7bnVtYmVyfSBBIHtOdW1iZXJ9XG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNGb2xkYWJsZUF0U2NyZWVuUm93KGJ1ZmZlclJvdzogbnVtYmVyKTogYm9vbGVhbjtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEZvbGQgdGhlIGdpdmVuIGJ1ZmZlciByb3cgaWYgaXQgaXNuJ3QgY3VycmVudGx5IGZvbGRlZCwgYW5kIHVuZm9sZFxuICAgICAgICAgKiBpdCBvdGhlcndpc2UuXG4gICAgICAgICAqL1xuICAgICAgICB0b2dnbGVGb2xkQXRCdWZmZXJSb3coKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIERldGVybWluZSB3aGV0aGVyIHRoZSBtb3N0IHJlY2VudGx5IGFkZGVkIGN1cnNvcidzIHJvdyBpcyBmb2xkZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGEge0Jvb2xlYW59LlxuICAgICAgICAgKi9cbiAgICAgICAgaXNGb2xkZWRBdEN1cnNvclJvdygpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIHJvdyBpbiBidWZmZXIgY29vcmRpbmF0ZXMgaXMgZm9sZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gQSB7TnVtYmVyfVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIGlzRm9sZGVkQXRCdWZmZXJSb3coYnVmZmVyUm93OiBudW1iZXIpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogRGV0ZXJtaW5lIHdoZXRoZXIgdGhlIGdpdmVuIHJvdyBpbiBzY3JlZW4gY29vcmRpbmF0ZXMgaXMgZm9sZGVkLlxuICAgICAgICAgKiBAcGFyYW0ge251bWJlcn0gQSB7TnVtYmVyfVxuICAgICAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBhIHtCb29sZWFufS5cbiAgICAgICAgICovXG4gICAgICAgIGlzRm9sZGVkQXRTY3JlZW5Sb3coc2NyZWVuUm93OiBudW1iZXIpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgY3VzdG9tIHtHdXR0ZXJ9LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0gd2l0aCB0aGUgZm9sbG93aW5nIGZpZWxkczpcbiAgICAgICAgICogQHJldHVybnMge0d1dHRlcn0gUmV0dXJucyB0aGUgbmV3bHktY3JlYXRlZCB7R3V0dGVyfS5cbiAgICAgICAgICovXG4gICAgICAgIGFkZEd1dHRlcihvcHRpb25zOiBPYmplY3QpOiBHdXR0ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhpcyBlZGl0b3IncyBndXR0ZXJzLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7R3V0dGVyfXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRHdXR0ZXJzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBndXR0ZXIgd2l0aCB0aGUgZ2l2ZW4gbmFtZS5cbiAgICAgICAgICogQHJldHVybnMge0d1dHRlcn0gUmV0dXJucyBhIHtHdXR0ZXJ9LCBvciBgbnVsbGAgaWYgbm8gZ3V0dGVyIGV4aXN0cyBmb3IgdGhlIGdpdmVuIG5hbWUuXG4gICAgICAgICAqL1xuICAgICAgICBndXR0ZXJXaXRoTmFtZSgpOiBHdXR0ZXI7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGwgdGhlIGVkaXRvciB0byByZXZlYWwgdGhlIG1vc3QgcmVjZW50bHkgYWRkZWQgY3Vyc29yIGlmIGl0IGlzXG4gICAgICAgICAqIG9mZi1zY3JlZW4uXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2Nyb2xsVG9DdXJzb3JQb3NpdGlvbihvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFNjcm9sbHMgdGhlIGVkaXRvciB0byB0aGUgZ2l2ZW4gYnVmZmVyIHBvc2l0aW9uLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4gb2JqZWN0IHRoYXQgcmVwcmVzZW50cyBhIGJ1ZmZlciBwb3NpdGlvbi4gSXQgY2FuIGJlIGVpdGhlciBhbiB7T2JqZWN0fSAoYHtyb3csIGNvbHVtbn1gKSwge0FycmF5fSAoYFtyb3csIGNvbHVtbl1gKSwgb3Ige1BvaW50fVxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICovXG4gICAgICAgIHNjcm9sbFRvQnVmZmVyUG9zaXRpb24oYnVmZmVyUG9zaXRpb246IE9iamVjdCwgb3B0aW9ucz86IE9iamVjdCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBTY3JvbGxzIHRoZSBlZGl0b3IgdG8gdGhlIGdpdmVuIHNjcmVlbiBwb3NpdGlvbi5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IEFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSBzY3JlZW4gcG9zaXRpb24uIEl0IGNhbiBiZSBlaXRoZXIgIGFuIHtPYmplY3R9IChge3JvdywgY29sdW1ufWApLCB7QXJyYXl9IChgW3JvdywgY29sdW1uXWApLCBvciB7UG9pbnR9XG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKi9cbiAgICAgICAgc2Nyb2xsVG9TY3JlZW5Qb3NpdGlvbihzY3JlZW5Qb3NpdGlvbjogT2JqZWN0LCBvcHRpb25zPzogT2JqZWN0KTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFJldHJpZXZlcyB0aGUgZ3JleWVkIG91dCBwbGFjZWhvbGRlciBvZiBhIG1pbmkgZWRpdG9yLlxuICAgICAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIGEge1N0cmluZ30uXG4gICAgICAgICAqL1xuICAgICAgICBnZXRQbGFjZWhvbGRlclRleHQoKTogc3RyaW5nO1xuICAgICAgICAvKipcbiAgICAgICAgICogU2V0IHRoZSBncmV5ZWQgb3V0IHBsYWNlaG9sZGVyIG9mIGEgbWluaSBlZGl0b3IuIFBsYWNlaG9sZGVyIHRleHRcbiAgICAgICAgICogd2lsbCBiZSBkaXNwbGF5ZWQgd2hlbiB0aGUgZWRpdG9yIGhhcyBubyBjb250ZW50LlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gdGV4dCB0aGF0IGlzIGRpc3BsYXllZCB3aGVuIHRoZSBlZGl0b3IgaGFzIG5vIGNvbnRlbnQuXG4gICAgICAgICAqL1xuICAgICAgICBzZXRQbGFjZWhvbGRlclRleHQocGxhY2Vob2xkZXJUZXh0OiBzdHJpbmcpOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhhbmRsZXMgbG9hZGluZyBhbmQgYWN0aXZhdGluZyBhdmFpbGFibGUgdGhlbWVzLlxuICAgICAqXG4gICAgICogQW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcyBpcyBhbHdheXMgYXZhaWxhYmxlIGFzIHRoZSBgYXRvbS50aGVtZXNgIGdsb2JhbC5cbiAgICAgKlxuICAgICAqIGZpbGU6IHNyYy90aGVtZS1tYW5hZ2VyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL3RoZW1lLW1hbmFnZXIuY29mZmVlI0wxMVxuICAgICAqL1xuICAgIGNsYXNzIFRoZW1lTWFuYWdlciB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgYGNhbGxiYWNrYCB3aGVuIHN0eWxlIHNoZWV0IGNoYW5nZXMgYXNzb2NpYXRlZCB3aXRoXG4gICAgICAgICAqIHVwZGF0aW5nIHRoZSBsaXN0IG9mIGFjdGl2ZSB0aGVtZXMgaGF2ZSBjb21wbGV0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn1cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQ2hhbmdlQWN0aXZlVGhlbWVzKGNhbGxiYWNrOiBGdW5jdGlvbik6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7U3RyaW5nfXMgb2YgYWxsIHRoZSBsb2FkZWQgdGhlbWUgbmFtZXMuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRMb2FkZWRUaGVtZU5hbWVzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2YgYWxsIHRoZSBsb2FkZWQgdGhlbWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TG9hZGVkVGhlbWVzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1N0cmluZ31zIGFsbCB0aGUgYWN0aXZlIHRoZW1lIG5hbWVzLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlVGhlbWVOYW1lcygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIGFsbCB0aGUgYWN0aXZlIHRoZW1lcy5cbiAgICAgICAgICovXG4gICAgICAgIGdldEFjdGl2ZVRoZW1lcygpOiBhbnlbXTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgZW5hYmxlZCB0aGVtZSBuYW1lcyBmcm9tIHRoZSBjb25maWcuXG4gICAgICAgICAqIEByZXR1cm5zICBSZXR1cm5zIGFuIGFycmF5IG9mIHRoZW1lIG5hbWVzIGluIHRoZSBvcmRlciB0aGF0IHRoZXkgc2hvdWxkIGJlIGFjdGl2YXRlZC5cbiAgICAgICAgICovXG4gICAgICAgIGdldEVuYWJsZWRUaGVtZU5hbWVzKCk6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGVzIHRvb2x0aXBzIHdpdGggSFRNTCBlbGVtZW50cy5cbiAgICAgKlxuICAgICAqIFlvdSBjYW4gZ2V0IHRoZSBgVG9vbHRpcE1hbmFnZXJgIHZpYSBgYXRvbS50b29sdGlwc2AuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvdG9vbHRpcC1tYW5hZ2VyLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL3Rvb2x0aXAtbWFuYWdlci5jb2ZmZWUjTDQ3XG4gICAgICovXG4gICAgY2xhc3MgVG9vbHRpcE1hbmFnZXIge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgdG9vbHRpcCB0byB0aGUgZ2l2ZW4gZWxlbWVudC5cbiAgICAgICAgICogQHBhcmFtICBBbiBgSFRNTEVsZW1lbnRgXG4gICAgICAgICAqIEBwYXJhbSAgQW4gb2JqZWN0IHdpdGggb25lIG9yIG1vcmUgb2YgdGhlIGZvbGxvd2luZyBvcHRpb25zOlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byByZW1vdmUgdGhlXG4gICAgICAgIHRvb2x0aXAuXG4gICAgICAgICAqL1xuICAgICAgICBhZGQodGFyZ2V0OiBhbnksIG9wdGlvbnM6IGFueSk6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBGaW5kIHRoZSB0b29sdGlwcyB0aGF0IGhhdmUgYmVlbiBhcHBsaWVkIHRvIHRoZSBnaXZlbiBlbGVtZW50LlxuICAgICAgICAgKiBAcGFyYW0gIFRoZSBgSFRNTEVsZW1lbnRgIHRvIGZpbmQgdG9vbHRpcHMgb24uXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIGBUb29sdGlwYCBvYmplY3RzIHRoYXQgbWF0Y2ggdGhlIGB0YXJnZXRgLlxuICAgICAgICAgKi9cbiAgICAgICAgZmluZFRvb2x0aXBzKHRhcmdldDogYW55KTogYW55W107XG4gICAgfVxuXG4gICAgY2xhc3MgSlF1ZXJ5IGltcGxlbWVudHMgSlF1ZXJ5IHt9XG5cbiAgICAvKipcbiAgICAgKiBWaWV3IGNsYXNzIHRoYXQgZXh0ZW5kcyB0aGUgalF1ZXJ5IHByb3RvdHlwZS5cbiAgICAgKlxuICAgICAqIEV4dGVuZGluZyBjbGFzc2VzIG11c3QgaW1wbGVtZW50IGEgYEBjb250ZW50YCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvc3BhY2UtcGVuLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vc3BhY2UtcGVuL2Jsb2IvdjUuMS4yL3NyYy9zcGFjZS1wZW4uY29mZmVlI0w3NVxuICAgICAqL1xuICAgIGNsYXNzIFZpZXcgZXh0ZW5kcyBKUXVlcnkge1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIHRoZSBnaXZlbiBzdWJ2aWV3IHdpcmVkIHRvIGFuIG91dGxldCB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBuYW1lIG9mIHRoZSBzdWJ2aWV3XG4gICAgICAgICAqIEBwYXJhbSAgRE9NIGVsZW1lbnQgb3IgalF1ZXJ5IG5vZGUgc3Vidmlld1xuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIHN1YnZpZXcobmFtZTogc3RyaW5nLCB2aWV3OiBhbnkpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgdGV4dCBub2RlIHdpdGggdGhlIGdpdmVuIHRleHQgY29udGVudFxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30ge1N0cmluZ30gdGV4dCBjb250ZW50cyBvZiB0aGUgbm9kZVxuICAgICAgICAgKi9cbiAgICAgICAgc3RhdGljIHRleHQoc3RyaW5nOiBzdHJpbmcpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkIGEgbmV3IHRhZyB3aXRoIHRoZSBnaXZlbiBuYW1lXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBuYW1lIG9mIHRoZSB0YWcgbGlrZSAnbGknLCBldGNcbiAgICAgICAgICogQHBhcmFtICBvdGhlciBhcmd1bWVudHNcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyB0YWcodGFnTmFtZTogc3RyaW5nLCAuLi5hcmdzOiBhbnlbXSk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGQgbmV3IGNoaWxkIERPTSBub2RlcyBmcm9tIHRoZSBnaXZlbiByYXcgSFRNTCBzdHJpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSB7U3RyaW5nfSBIVE1MIGNvbnRlbnRcbiAgICAgICAgICovXG4gICAgICAgIHN0YXRpYyByYXcoc3RyaW5nOiBzdHJpbmcpOiB2b2lkO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVlbXB0IGV2ZW50cyByZWdpc3RlcmVkIHdpdGggalF1ZXJ5J3MgYDo6b25gLlxuICAgICAgICAgKiBAcGFyYW0ge3N0cmluZ30gQSBldmVudCBuYW1lIHtTdHJpbmd9LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBBIHtGdW5jdGlvbn0gdG8gZXhlY3V0ZSB3aGVuIHRoZSBldmVudE5hbWUgaXMgdHJpZ2dlcmVkLlxuICAgICAgICAgKi9cbiAgICAgICAgcHJlZW1wdChldmVudE5hbWU6IHN0cmluZywgaGFuZGxlcjogRnVuY3Rpb24pOiB2b2lkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGBWaWV3UmVnaXN0cnlgIGhhbmRsZXMgdGhlIGFzc29jaWF0aW9uIGJldHdlZW4gbW9kZWwgYW5kIHZpZXdcbiAgICAgKiB0eXBlcyBpbiBBdG9tLiBXZSBjYWxsIHRoaXMgYXNzb2NpYXRpb24gYSBWaWV3IFByb3ZpZGVyLiBBcyBpbiwgZm9yIGEgZ2l2ZW5cbiAgICAgKiBtb2RlbCwgdGhpcyBjbGFzcyBjYW4gcHJvdmlkZSBhIHZpZXcgdmlhIHs6OmdldFZpZXd9LCBhcyBsb25nIGFzIHRoZVxuICAgICAqIG1vZGVsL3ZpZXcgYXNzb2NpYXRpb24gd2FzIHJlZ2lzdGVyZWQgdmlhIHs6OmFkZFZpZXdQcm92aWRlcn1cbiAgICAgKlxuICAgICAqIElmIHlvdSdyZSBhZGRpbmcgeW91ciBvd24ga2luZCBvZiBwYW5lIGl0ZW0sIGEgZ29vZCBzdHJhdGVneSBmb3IgYWxsIGJ1dCB0aGVcbiAgICAgKiBzaW1wbGVzdCBpdGVtcyBpcyB0byBzZXBhcmF0ZSB0aGUgbW9kZWwgYW5kIHRoZSB2aWV3LiBUaGUgbW9kZWwgaGFuZGxlc1xuICAgICAqIGFwcGxpY2F0aW9uIGxvZ2ljIGFuZCBpcyB0aGUgcHJpbWFyeSBwb2ludCBvZiBBUEkgaW50ZXJhY3Rpb24uIFRoZSB2aWV3XG4gICAgICoganVzdCBoYW5kbGVzIHByZXNlbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIE5vdGU6IE1vZGVscyBjYW4gYmUgYW55IG9iamVjdCwgYnV0IG11c3QgaW1wbGVtZW50IGEgYGdldFRpdGxlKClgIGZ1bmN0aW9uXG4gICAgICogaWYgdGhleSBhcmUgdG8gYmUgZGlzcGxheWVkIGluIGEge1BhbmV9XG4gICAgICpcbiAgICAgKiBWaWV3IHByb3ZpZGVycyBpbmZvcm0gdGhlIHdvcmtzcGFjZSBob3cgeW91ciBtb2RlbCBvYmplY3RzIHNob3VsZCBiZVxuICAgICAqIHByZXNlbnRlZCBpbiB0aGUgRE9NLiBBIHZpZXcgcHJvdmlkZXIgbXVzdCBhbHdheXMgcmV0dXJuIGEgRE9NIG5vZGUsIHdoaWNoXG4gICAgICogbWFrZXMgW0hUTUwgNSBjdXN0b20gZWxlbWVudHNdKGh0dHA6Ly93d3cuaHRtbDVyb2Nrcy5jb20vZW4vdHV0b3JpYWxzL3dlYmNvbXBvbmVudHMvY3VzdG9tZWxlbWVudHMvKVxuICAgICAqIGFuIGlkZWFsIHRvb2wgZm9yIGltcGxlbWVudGluZyB2aWV3cyBpbiBBdG9tLlxuICAgICAqXG4gICAgICogWW91IGNhbiBhY2Nlc3MgdGhlIGBWaWV3UmVnaXN0cnlgIG9iamVjdCB2aWEgYGF0b20udmlld3NgLlxuICAgICAqXG4gICAgICogZmlsZTogc3JjL3ZpZXctcmVnaXN0cnkuY29mZmVlXG4gICAgICogc3JjVXJsOiBodHRwczovL2dpdGh1Yi5jb20vYXRvbS9hdG9tL2Jsb2IvdjEuMTUuMC9zcmMvdmlldy1yZWdpc3RyeS5jb2ZmZWUjTDQ5XG4gICAgICovXG4gICAgY2xhc3MgVmlld1JlZ2lzdHJ5IHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZCBhIHByb3ZpZGVyIHRoYXQgd2lsbCBiZSB1c2VkIHRvIGNvbnN0cnVjdCB2aWV3cyBpbiB0aGVcbiAgICAgICAgICogd29ya3NwYWNlJ3MgdmlldyBsYXllciBiYXNlZCBvbiBtb2RlbCBvYmplY3RzIGluIGl0cyBtb2RlbCBsYXllci5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQ29uc3RydWN0b3Ige0Z1bmN0aW9ufSBmb3IgeW91ciBtb2RlbC4gSWYgYSBjb25zdHJ1Y3RvciBpcyBnaXZlbiwgdGhlIGBjcmVhdGVWaWV3YCBmdW5jdGlvbiB3aWxsIG9ubHkgYmUgdXNlZCBmb3IgbW9kZWwgb2JqZWN0cyBpbmhlcml0aW5nIGZyb20gdGhhdCBjb25zdHJ1Y3Rvci4gT3RoZXJ3aXNlLCBpdCB3aWxsIHdpbGwgYmUgY2FsbGVkIGZvciBhbnkgb2JqZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBGYWN0b3J5IHtGdW5jdGlvbn0gdGhhdCBpcyBwYXNzZWQgYW4gaW5zdGFuY2Ugb2YgeW91ciBtb2RlbCBhbmQgbXVzdCByZXR1cm4gYSBzdWJjbGFzcyBvZiBgSFRNTEVsZW1lbnRgIG9yIGB1bmRlZmluZWRgLiBJZiBpdCByZXR1cm5zIGB1bmRlZmluZWRgLCB0aGVuIHRoZSByZWdpc3RyeSB3aWxsIGNvbnRpbnVlIHRvIHNlYXJjaCBmb3Igb3RoZXIgdmlldyBwcm92aWRlcnMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGVcbiAgICAgICAgYWRkZWQgcHJvdmlkZXIuXG4gICAgICAgICAqL1xuICAgICAgICBhZGRWaWV3UHJvdmlkZXIobW9kZWxDb25zdHJ1Y3Rvcj86IEZ1bmN0aW9uLCBjcmVhdGVWaWV3PzogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB2aWV3IGFzc29jaWF0ZWQgd2l0aCBhbiBvYmplY3QgaW4gdGhlIHdvcmtzcGFjZS5cbiAgICAgICAgICpcbiAgICAgICAgICogSWYgeW91J3JlIGp1c3QgKnVzaW5nKiB0aGUgd29ya3NwYWNlLCB5b3Ugc2hvdWxkbid0IG5lZWQgdG8gYWNjZXNzIHRoZSB2aWV3XG4gICAgICAgICAqIGxheWVyLCBidXQgdmlldyBsYXllciBhY2Nlc3MgbWF5IGJlIG5lY2Vzc2FyeSBpZiB5b3Ugd2FudCB0byBwZXJmb3JtIERPTVxuICAgICAgICAgKiBtYW5pcHVsYXRpb24gdGhhdCBpc24ndCBzdXBwb3J0ZWQgdmlhIHRoZSBtb2RlbCBBUEkuXG4gICAgICAgICAqXG4gICAgICAgICAqICMjIFZpZXcgUmVzb2x1dGlvbiBBbGdvcml0aG1cbiAgICAgICAgICpcbiAgICAgICAgICogVGhlIHZpZXcgYXNzb2NpYXRlZCB3aXRoIHRoZSBvYmplY3QgaXMgcmVzb2x2ZWQgdXNpbmcgdGhlIGZvbGxvd2luZ1xuICAgICAgICAgKiBzZXF1ZW5jZVxuICAgICAgICAgKlxuICAgICAgICAgKiAxLiBJcyB0aGUgb2JqZWN0IGFuIGluc3RhbmNlIG9mIGBIVE1MRWxlbWVudGA/IElmIHRydWUsIHJldHVybiB0aGUgb2JqZWN0LlxuICAgICAgICAgKiAxLiBEb2VzIHRoZSBvYmplY3QgaGF2ZSBhIHByb3BlcnR5IG5hbWVkIGBlbGVtZW50YCB3aXRoIGEgdmFsdWUgd2hpY2ggaXNcbiAgICAgICAgICogICBhbiBpbnN0YW5jZSBvZiBgSFRNTEVsZW1lbnRgPyBJZiB0cnVlLCByZXR1cm4gdGhlIHByb3BlcnR5IHZhbHVlLlxuICAgICAgICAgKiAxLiBJcyB0aGUgb2JqZWN0IGEgalF1ZXJ5IG9iamVjdCwgaW5kaWNhdGVkIGJ5IHRoZSBwcmVzZW5jZSBvZiBhIGBqcXVlcnlgXG4gICAgICAgICAqICAgcHJvcGVydHk/IElmIHRydWUsIHJldHVybiB0aGUgcm9vdCBET00gZWxlbWVudCAoaS5lLiBgb2JqZWN0WzBdYCkuXG4gICAgICAgICAqIDEuIEhhcyBhIHZpZXcgcHJvdmlkZXIgYmVlbiByZWdpc3RlcmVkIGZvciB0aGUgb2JqZWN0PyBJZiB0cnVlLCB1c2UgdGhlXG4gICAgICAgICAqICAgcHJvdmlkZXIgdG8gY3JlYXRlIGEgdmlldyBhc3NvY2lhdGVkIHdpdGggdGhlIG9iamVjdCwgYW5kIHJldHVybiB0aGVcbiAgICAgICAgICogICB2aWV3LlxuICAgICAgICAgKlxuICAgICAgICAgKiBJZiBubyBhc3NvY2lhdGVkIHZpZXcgaXMgcmV0dXJuZWQgYnkgdGhlIHNlcXVlbmNlIGFuIGVycm9yIGlzIHRocm93bi5cbiAgICAgICAgICogQHBhcmFtICBUaGUgb2JqZWN0IGZvciB3aGljaCB5b3Ugd2FudCB0byByZXRyaWV2ZSBhIHZpZXcuIFRoaXMgY2FuIGJlIGEgcGFuZSBpdGVtLCBhIHBhbmUsIG9yIHRoZSB3b3Jrc3BhY2UgaXRzZWxmLlxuICAgICAgICAgKiBAcmV0dXJucyAgUmV0dXJucyBhIERPTSBlbGVtZW50LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VmlldyhvYmplY3Q6IGFueSk6IGFueTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiB0aGUgdXNlciBpbnRlcmZhY2UgZm9yIHRoZSBlbnRpcmUgd2luZG93LlxuICAgICAqIEFuIGluc3RhbmNlIG9mIHRoaXMgY2xhc3MgaXMgYXZhaWxhYmxlIHZpYSB0aGUgYGF0b20ud29ya3NwYWNlYCBnbG9iYWwuXG4gICAgICpcbiAgICAgKiBJbnRlcmFjdCB3aXRoIHRoaXMgb2JqZWN0IHRvIG9wZW4gZmlsZXMsIGJlIG5vdGlmaWVkIG9mIGN1cnJlbnQgYW5kIGZ1dHVyZVxuICAgICAqIGVkaXRvcnMsIGFuZCBtYW5pcHVsYXRlIHBhbmVzLiBUbyBhZGQgcGFuZWxzLCB1c2Uge1dvcmtzcGFjZTo6YWRkVG9wUGFuZWx9XG4gICAgICogYW5kIGZyaWVuZHMuXG4gICAgICpcbiAgICAgKiBmaWxlOiBzcmMvd29ya3NwYWNlLmNvZmZlZVxuICAgICAqIHNyY1VybDogaHR0cHM6Ly9naXRodWIuY29tL2F0b20vYXRvbS9ibG9iL3YxLjE1LjAvc3JjL3dvcmtzcGFjZS5jb2ZmZWUjTDI1XG4gICAgICovXG4gICAgY2xhc3MgV29ya3NwYWNlIHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2l0aCBhbGwgY3VycmVudCBhbmQgZnV0dXJlIHRleHRcbiAgICAgICAgICogZWRpdG9ycyBpbiB0aGUgd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aXRoIGN1cnJlbnQgYW5kIGZ1dHVyZSB0ZXh0IGVkaXRvcnMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZVRleHRFZGl0b3JzKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdpdGggYWxsIGN1cnJlbnQgYW5kIGZ1dHVyZSBwYW5lcyBpdGVtc1xuICAgICAgICAgKiBpbiB0aGUgd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aXRoIGN1cnJlbnQgYW5kIGZ1dHVyZSBwYW5lIGl0ZW1zLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9ic2VydmVQYW5lSXRlbXMoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgYWN0aXZlIHBhbmUgaXRlbSBjaGFuZ2VzLlxuICAgICAgICAgKlxuICAgICAgICAgKiBCZWNhdXNlIG9ic2VydmVycyBhcmUgaW52b2tlZCBzeW5jaHJvbm91c2x5LCBpdCdzIGltcG9ydGFudCBub3QgdG8gcGVyZm9ybVxuICAgICAgICAgKiBhbnkgZXhwZW5zaXZlIG9wZXJhdGlvbnMgdmlhIHRoaXMgbWV0aG9kLiBDb25zaWRlclxuICAgICAgICAgKiB7OjpvbkRpZFN0b3BDaGFuZ2luZ0FjdGl2ZVBhbmVJdGVtfSB0byBkZWxheSBvcGVyYXRpb25zIHVudGlsIGFmdGVyIGNoYW5nZXNcbiAgICAgICAgICogc3RvcCBvY2N1cnJpbmcuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gdGhlIGFjdGl2ZSBwYW5lIGl0ZW0gY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZUFjdGl2ZVBhbmVJdGVtKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW4gdGhlIGFjdGl2ZSBwYW5lIGl0ZW0gc3RvcHNcbiAgICAgICAgICogY2hhbmdpbmcuXG4gICAgICAgICAqXG4gICAgICAgICAqIE9ic2VydmVycyBhcmUgY2FsbGVkIGFzeW5jaHJvbm91c2x5IDEwMG1zIGFmdGVyIHRoZSBsYXN0IGFjdGl2ZSBwYW5lIGl0ZW1cbiAgICAgICAgICogY2hhbmdlLiBIYW5kbGluZyBjaGFuZ2VzIGhlcmUgcmF0aGVyIHRoYW4gaW4gdGhlIHN5bmNocm9ub3VzXG4gICAgICAgICAqIHs6Om9uRGlkQ2hhbmdlQWN0aXZlUGFuZUl0ZW19IHByZXZlbnRzIHVubmVlZGVkIHdvcmsgaWYgdGhlIHVzZXIgaXMgcXVpY2tseVxuICAgICAgICAgKiBjaGFuZ2luZyBvciBjbG9zaW5nIHRhYnMgYW5kIGVuc3VyZXMgY3JpdGljYWwgVUkgZmVlZGJhY2ssIGxpa2UgY2hhbmdpbmcgdGhlXG4gICAgICAgICAqIGhpZ2hsaWdodGVkIHRhYiwgZ2V0cyBwcmlvcml0eSBvdmVyIHdvcmsgdGhhdCBjYW4gYmUgZG9uZSBhc3luY2hyb25vdXNseS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgYWN0aXZlIHBhbmUgaXRlbSBzdG9wdHMgY2hhbmdpbmcuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb25EaWRTdG9wQ2hhbmdpbmdBY3RpdmVQYW5lSXRlbShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aXRoIHRoZSBjdXJyZW50IGFjdGl2ZSBwYW5lIGl0ZW0gYW5kXG4gICAgICAgICAqIHdpdGggYWxsIGZ1dHVyZSBhY3RpdmUgcGFuZSBpdGVtcyBpbiB0aGUgd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHRoZSBhY3RpdmUgcGFuZSBpdGVtIGNoYW5nZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZUFjdGl2ZVBhbmVJdGVtKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdoZW5ldmVyIGFuIGl0ZW0gaXMgb3BlbmVkLiBVbmxpa2VcbiAgICAgICAgICogezo6b25EaWRBZGRQYW5lSXRlbX0sIG9ic2VydmVycyB3aWxsIGJlIG5vdGlmaWVkIGZvciBpdGVtcyB0aGF0IGFyZSBhbHJlYWR5XG4gICAgICAgICAqIHByZXNlbnQgaW4gdGhlIHdvcmtzcGFjZSB3aGVuIHRoZXkgYXJlIHJlb3BlbmVkLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuZXZlciBhbiBpdGVtIGlzIG9wZW5lZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZE9wZW4oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhbmUgaXMgYWRkZWQgdG8gdGhlIHdvcmtzcGFjZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgcGFuZXMgYXJlIGFkZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkUGFuZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayBiZWZvcmUgYSBwYW5lIGlzIGRlc3Ryb3llZCBpbiB0aGVcbiAgICAgICAgICogd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBiZWZvcmUgcGFuZXMgYXJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbldpbGxEZXN0cm95UGFuZShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIGEgcGFuZSBpcyBkZXN0cm95ZWQgaW4gdGhlXG4gICAgICAgICAqIHdvcmtzcGFjZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgcGFuZXMgYXJlIGRlc3Ryb3llZC5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZERlc3Ryb3lQYW5lKGNhbGxiYWNrOiBGdW5jdGlvbik6IERpc3Bvc2FibGU7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbnZva2UgdGhlIGdpdmVuIGNhbGxiYWNrIHdpdGggYWxsIGN1cnJlbnQgYW5kIGZ1dHVyZSBwYW5lcyBpbiB0aGVcbiAgICAgICAgICogd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aXRoIGN1cnJlbnQgYW5kIGZ1dHVyZSBwYW5lcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvYnNlcnZlUGFuZXMoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiB0aGUgYWN0aXZlIHBhbmUgY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2hlbiB0aGUgYWN0aXZlIHBhbmUgY2hhbmdlcy5cbiAgICAgICAgICogQHJldHVybnMge0Rpc3Bvc2FibGV9IFJldHVybnMgYSB7RGlzcG9zYWJsZX0gb24gd2hpY2ggYC5kaXNwb3NlKClgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZENoYW5nZUFjdGl2ZVBhbmUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2l0aCB0aGUgY3VycmVudCBhY3RpdmUgcGFuZSBhbmQgd2hlblxuICAgICAgICAgKiB0aGUgYWN0aXZlIHBhbmUgY2hhbmdlcy5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgd2l0aCB0aGUgY3VycmVudCBhbmQgZnV0dXJlIGFjdGl2ZSMgcGFuZXMuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHVuc3Vic2NyaWJlLlxuICAgICAgICAgKi9cbiAgICAgICAgb2JzZXJ2ZUFjdGl2ZVBhbmUoY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhbmUgaXRlbSBpcyBhZGRlZCB0byB0aGVcbiAgICAgICAgICogd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIHBhbmUgaXRlbXMgYXJlIGFkZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkUGFuZUl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhbmUgaXRlbSBpcyBhYm91dCB0byBiZVxuICAgICAgICAgKiBkZXN0cm95ZWQsIGJlZm9yZSB0aGUgdXNlciBpcyBwcm9tcHRlZCB0byBzYXZlIGl0LlxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCBiZWZvcmUgcGFuZSBpdGVtcyBhcmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2VgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbldpbGxEZXN0cm95UGFuZUl0ZW0oY2FsbGJhY2s6IEZ1bmN0aW9uKTogRGlzcG9zYWJsZTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEludm9rZSB0aGUgZ2l2ZW4gY2FsbGJhY2sgd2hlbiBhIHBhbmUgaXRlbSBpcyBkZXN0cm95ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHtGdW5jdGlvbn0gdG8gYmUgY2FsbGVkIHdoZW4gcGFuZSBpdGVtcyBhcmUgZGVzdHJveWVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2VgIGNhbiBiZSBjYWxsZWQgdG8gdW5zdWJzY3JpYmUuXG4gICAgICAgICAqL1xuICAgICAgICBvbkRpZERlc3Ryb3lQYW5lSXRlbShjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogSW52b2tlIHRoZSBnaXZlbiBjYWxsYmFjayB3aGVuIGEgdGV4dCBlZGl0b3IgaXMgYWRkZWQgdG8gdGhlXG4gICAgICAgICAqIHdvcmtzcGFjZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0ge0Z1bmN0aW9ufSB0byBiZSBjYWxsZWQgcGFuZXMgYXJlIGFkZGVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7RGlzcG9zYWJsZX0gUmV0dXJucyBhIHtEaXNwb3NhYmxlfSBvbiB3aGljaCBgLmRpc3Bvc2UoKWAgY2FuIGJlIGNhbGxlZCB0byB1bnN1YnNjcmliZS5cbiAgICAgICAgICovXG4gICAgICAgIG9uRGlkQWRkVGV4dEVkaXRvcihjYWxsYmFjazogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogT3BlbnMgdGhlIGdpdmVuIFVSSSBpbiBBdG9tIGFzeW5jaHJvbm91c2x5LlxuICAgICAgICAgKiBJZiB0aGUgVVJJIGlzIGFscmVhZHkgb3BlbiwgdGhlIGV4aXN0aW5nIGl0ZW0gZm9yIHRoYXQgVVJJIHdpbGwgYmVcbiAgICAgICAgICogYWN0aXZhdGVkLiBJZiBubyBVUkkgaXMgZ2l2ZW4sIG9yIG5vIHJlZ2lzdGVyZWQgb3BlbmVyIGNhbiBvcGVuXG4gICAgICAgICAqIHRoZSBVUkksIGEgbmV3IGVtcHR5IHtUZXh0RWRpdG9yfSB3aWxsIGJlIGNyZWF0ZWQuXG4gICAgICAgICAqIEBwYXJhbSB7c3RyaW5nfSBBIHtTdHJpbmd9IGNvbnRhaW5pbmcgYSBVUkkuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEge1Byb21pc2V9IHRoYXQgcmVzb2x2ZXMgdG8gdGhlIHtUZXh0RWRpdG9yfSBmb3IgdGhlIGZpbGUgVVJJLlxuICAgICAgICAgKi9cbiAgICAgICAgb3Blbih1cmk/OiBzdHJpbmcsIG9wdGlvbnM/OiBPYmplY3QpOiBQcm9taXNlPGFueT47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0gQW4ge09iamVjdH0geW91IHdhbnQgdG8gcGVyZm9ybSB0aGUgY2hlY2sgYWdhaW5zdC5cbiAgICAgICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYSB7Qm9vbGVhbn0gdGhhdCBpcyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBgVGV4dEVkaXRvcmAuXG4gICAgICAgICAqL1xuICAgICAgICBpc1RleHRFZGl0b3Iob2JqZWN0OiBPYmplY3QpOiBib29sZWFuO1xuICAgICAgICAvKipcbiAgICAgICAgICogQ3JlYXRlIGEgbmV3IHRleHQgZWRpdG9yLlxuICAgICAgICAgKiBAcmV0dXJucyB7VGV4dEVkaXRvcn0gUmV0dXJucyBhIHtUZXh0RWRpdG9yfS5cbiAgICAgICAgICovXG4gICAgICAgIGJ1aWxkVGV4dEVkaXRvcigpOiBUZXh0RWRpdG9yO1xuICAgICAgICAvKipcbiAgICAgICAgICogQXN5bmNocm9ub3VzbHkgcmVvcGVucyB0aGUgbGFzdC1jbG9zZWQgaXRlbSdzIFVSSSBpZiBpdCBoYXNuJ3QgYWxyZWFkeSBiZWVuXG4gICAgICAgICAqIHJlb3BlbmVkLlxuICAgICAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTxhbnk+fSBSZXR1cm5zIGEge1Byb21pc2V9IHRoYXQgaXMgcmVzb2x2ZWQgd2hlbiB0aGUgaXRlbSBpcyBvcGVuZWRcbiAgICAgICAgICovXG4gICAgICAgIHJlb3Blbkl0ZW0oKTogUHJvbWlzZTxhbnk+O1xuICAgICAgICAvKipcbiAgICAgICAgICogUmVnaXN0ZXIgYW4gb3BlbmVyIGZvciBhIHVyaS5cbiAgICAgICAgICpcbiAgICAgICAgICogV2hlbiBhIFVSSSBpcyBvcGVuZWQgdmlhIHtXb3Jrc3BhY2U6Om9wZW59LCBBdG9tIGxvb3BzIHRocm91Z2ggaXRzIHJlZ2lzdGVyZWRcbiAgICAgICAgICogb3BlbmVyIGZ1bmN0aW9ucyB1bnRpbCBvbmUgcmV0dXJucyBhIHZhbHVlIGZvciB0aGUgZ2l2ZW4gdXJpLlxuICAgICAgICAgKiBPcGVuZXJzIGFyZSBleHBlY3RlZCB0byByZXR1cm4gYW4gb2JqZWN0IHRoYXQgaW5oZXJpdHMgZnJvbSBIVE1MRWxlbWVudCBvclxuICAgICAgICAgKiBhIG1vZGVsIHdoaWNoIGhhcyBhbiBhc3NvY2lhdGVkIHZpZXcgaW4gdGhlIHtWaWV3UmVnaXN0cnl9LlxuICAgICAgICAgKiBBIHtUZXh0RWRpdG9yfSB3aWxsIGJlIHVzZWQgaWYgbm8gb3BlbmVyIHJldHVybnMgYSB2YWx1ZS5cbiAgICAgICAgICogQHBhcmFtIHtGdW5jdGlvbn0gQSB7RnVuY3Rpb259IHRvIGJlIGNhbGxlZCB3aGVuIGEgcGF0aCBpcyBiZWluZyBvcGVuZWQuXG4gICAgICAgICAqIEByZXR1cm5zIHtEaXNwb3NhYmxlfSBSZXR1cm5zIGEge0Rpc3Bvc2FibGV9IG9uIHdoaWNoIGAuZGlzcG9zZSgpYCBjYW4gYmUgY2FsbGVkIHRvIHJlbW92ZSB0aGVcbiAgICAgICAgb3BlbmVyLlxuXG4gICAgICAgIE5vdGUgdGhhdCB0aGUgb3BlbmVyIHdpbGwgYmUgY2FsbGVkIGlmIGFuZCBvbmx5IGlmIHRoZSBVUkkgaXMgbm90IGFscmVhZHkgb3BlblxuICAgICAgICBpbiB0aGUgY3VycmVudCBwYW5lLiBUaGUgc2VhcmNoQWxsUGFuZXMgZmxhZyBleHBhbmRzIHRoZSBzZWFyY2ggZnJvbSB0aGVcbiAgICAgICAgY3VycmVudCBwYW5lIHRvIGFsbCBwYW5lcy4gSWYgeW91IHdpc2ggdG8gb3BlbiBhIHZpZXcgb2YgYSBkaWZmZXJlbnQgdHlwZSBmb3JcbiAgICAgICAgYSBmaWxlIHRoYXQgaXMgYWxyZWFkeSBvcGVuLCBjb25zaWRlciBjaGFuZ2luZyB0aGUgcHJvdG9jb2wgb2YgdGhlIFVSSS4gRm9yXG4gICAgICAgIGV4YW1wbGUsIHBlcmhhcHMgeW91IHdpc2ggdG8gcHJldmlldyBhIHJlbmRlcmVkIHZlcnNpb24gb2YgdGhlIGZpbGUgYC9mb28vYmFyL2Jhei5xdXV4YFxuICAgICAgICB0aGF0IGlzIGFscmVhZHkgb3BlbiBpbiBhIHRleHQgZWRpdG9yIHZpZXcuIFlvdSBjb3VsZCBzaWduYWwgdGhpcyBieSBjYWxsaW5nXG4gICAgICAgIHtXb3Jrc3BhY2U6Om9wZW59IG9uIHRoZSBVUkkgYHF1dXgtcHJldmlldzovL2Zvby9iYXIvYmF6LnF1dXhgLiBUaGVuIHlvdXIgb3BlbmVyXG4gICAgICAgIGNhbiBjaGVjayB0aGUgcHJvdG9jb2wgZm9yIHF1dXgtcHJldmlldyBhbmQgb25seSBoYW5kbGUgdGhvc2UgVVJJcyB0aGF0IG1hdGNoLlxuICAgICAgICAgKi9cbiAgICAgICAgYWRkT3BlbmVyKG9wZW5lcjogRnVuY3Rpb24pOiBEaXNwb3NhYmxlO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBwYW5lIGl0ZW1zIGluIHRoZSB3b3Jrc3BhY2UuXG4gICAgICAgICAqIEByZXR1cm5zIHthbnlbXX0gUmV0dXJucyBhbiB7QXJyYXl9IG9mIGl0ZW1zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGFuZUl0ZW1zKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBhY3RpdmUge1BhbmV9J3MgYWN0aXZlIGl0ZW0uXG4gICAgICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYW4gcGFuZSBpdGVtIHtPYmplY3R9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlUGFuZUl0ZW0oKTogT2JqZWN0O1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCB0ZXh0IGVkaXRvcnMgaW4gdGhlIHdvcmtzcGFjZS5cbiAgICAgICAgICogQHJldHVybnMge2FueVtdfSBSZXR1cm5zIGFuIHtBcnJheX0gb2Yge1RleHRFZGl0b3J9cy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFRleHRFZGl0b3JzKCk6IGFueVtdO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSBhY3RpdmUgaXRlbSBpZiBpdCBpcyBhbiB7VGV4dEVkaXRvcn0uXG4gICAgICAgICAqIEByZXR1cm5zIHtUZXh0RWRpdG9yfSBSZXR1cm5zIGFuIHtUZXh0RWRpdG9yfSBvciBgYCBpZiB0aGUgY3VycmVudCBhY3RpdmUgaXRlbSBpcyBub3QgYW5cbiAgICAgICAge1RleHRFZGl0b3J9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlVGV4dEVkaXRvcigpOiBUZXh0RWRpdG9yO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFsbCBwYW5lcyBpbiB0aGUgd29ya3NwYWNlLlxuICAgICAgICAgKiBAcmV0dXJucyB7YW55W119IFJldHVybnMgYW4ge0FycmF5fSBvZiB7UGFuZX1zLlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0UGFuZXMoKTogYW55W107XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgdGhlIGFjdGl2ZSB7UGFuZX0uXG4gICAgICAgICAqIEByZXR1cm5zIHtQYW5lfSBSZXR1cm5zIGEge1BhbmV9LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0QWN0aXZlUGFuZSgpOiBQYW5lO1xuICAgICAgICAvKipcbiAgICAgICAgICogTWFrZSB0aGUgbmV4dCBwYW5lIGFjdGl2ZS5cbiAgICAgICAgICovXG4gICAgICAgIGFjdGl2YXRlTmV4dFBhbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIE1ha2UgdGhlIHByZXZpb3VzIHBhbmUgYWN0aXZlLlxuICAgICAgICAgKi9cbiAgICAgICAgYWN0aXZhdGVQcmV2aW91c1BhbmUoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCB0aGUgZmlyc3Qge1BhbmV9IHdpdGggYW4gaXRlbSBmb3IgdGhlIGdpdmVuIFVSSS5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHtTdHJpbmd9IHVyaVxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZX0gUmV0dXJucyBhIHtQYW5lfSBvciBgYCBpZiBubyBwYW5lIGV4aXN0cyBmb3IgdGhlIGdpdmVuIFVSSS5cbiAgICAgICAgICovXG4gICAgICAgIHBhbmVGb3JVUkkodXJpOiBzdHJpbmcpOiBQYW5lO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IHRoZSB7UGFuZX0gY29udGFpbmluZyB0aGUgZ2l2ZW4gaXRlbS5cbiAgICAgICAgICogQHBhcmFtICBJdGVtIHRoZSByZXR1cm5lZCBwYW5lIGNvbnRhaW5zLlxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZX0gUmV0dXJucyBhIHtQYW5lfSBvciBgYCBpZiBubyBwYW5lIGV4aXN0cyBmb3IgdGhlIGdpdmVuIGl0ZW0uXG4gICAgICAgICAqL1xuICAgICAgICBwYW5lRm9ySXRlbShpdGVtOiBhbnkpOiBQYW5lO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIHtBcnJheX0gb2YgYWxsIHRoZSBwYW5lbCBpdGVtcyBhdCB0aGUgYm90dG9tIG9mIHRoZSBlZGl0b3Igd2luZG93LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0Qm90dG9tUGFuZWxzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRzIGEgcGFuZWwgaXRlbSB0byB0aGUgYm90dG9tIG9mIHRoZSBlZGl0b3Igd2luZG93LlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICogQHJldHVybnMge1BhbmVsfSBSZXR1cm5zIGEge1BhbmVsfVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkQm90dG9tUGFuZWwob3B0aW9uczogT2JqZWN0KTogUGFuZWw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYW4ge0FycmF5fSBvZiBhbGwgdGhlIHBhbmVsIGl0ZW1zIHRvIHRoZSBsZWZ0IG9mIHRoZSBlZGl0b3Igd2luZG93LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TGVmdFBhbmVscygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkcyBhIHBhbmVsIGl0ZW0gdG8gdGhlIGxlZnQgb2YgdGhlIGVkaXRvciB3aW5kb3cuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZWx9IFJldHVybnMgYSB7UGFuZWx9XG4gICAgICAgICAqL1xuICAgICAgICBhZGRMZWZ0UGFuZWwob3B0aW9uczogT2JqZWN0KTogUGFuZWw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYW4ge0FycmF5fSBvZiBhbGwgdGhlIHBhbmVsIGl0ZW1zIHRvIHRoZSByaWdodCBvZiB0aGUgZWRpdG9yIHdpbmRvdy5cbiAgICAgICAgICovXG4gICAgICAgIGdldFJpZ2h0UGFuZWxzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRzIGEgcGFuZWwgaXRlbSB0byB0aGUgcmlnaHQgb2YgdGhlIGVkaXRvciB3aW5kb3cuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZWx9IFJldHVybnMgYSB7UGFuZWx9XG4gICAgICAgICAqL1xuICAgICAgICBhZGRSaWdodFBhbmVsKG9wdGlvbnM6IE9iamVjdCk6IFBhbmVsO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIHtBcnJheX0gb2YgYWxsIHRoZSBwYW5lbCBpdGVtcyBhdCB0aGUgdG9wIG9mIHRoZSBlZGl0b3Igd2luZG93LlxuICAgICAgICAgKi9cbiAgICAgICAgZ2V0VG9wUGFuZWxzKCk6IHZvaWQ7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRzIGEgcGFuZWwgaXRlbSB0byB0aGUgdG9wIG9mIHRoZSBlZGl0b3Igd2luZG93IGFib3ZlIHRoZSB0YWJzLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICogQHJldHVybnMge1BhbmVsfSBSZXR1cm5zIGEge1BhbmVsfVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkVG9wUGFuZWwob3B0aW9uczogT2JqZWN0KTogUGFuZWw7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBHZXQgYW4ge0FycmF5fSBvZiBhbGwgdGhlIHBhbmVsIGl0ZW1zIGluIHRoZSBoZWFkZXIuXG4gICAgICAgICAqL1xuICAgICAgICBnZXRIZWFkZXJQYW5lbHMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgYSBwYW5lbCBpdGVtIHRvIHRoZSBoZWFkZXIuXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcmV0dXJucyB7UGFuZWx9IFJldHVybnMgYSB7UGFuZWx9XG4gICAgICAgICAqL1xuICAgICAgICBhZGRIZWFkZXJQYW5lbChvcHRpb25zOiBPYmplY3QpOiBQYW5lbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEdldCBhbiB7QXJyYXl9IG9mIGFsbCB0aGUgcGFuZWwgaXRlbXMgaW4gdGhlIGZvb3Rlci5cbiAgICAgICAgICovXG4gICAgICAgIGdldEZvb3RlclBhbmVscygpOiB2b2lkO1xuICAgICAgICAvKipcbiAgICAgICAgICogQWRkcyBhIHBhbmVsIGl0ZW0gdG8gdGhlIGZvb3Rlci5cbiAgICAgICAgICogQHBhcmFtIHtPYmplY3R9IHtPYmplY3R9XG4gICAgICAgICAqIEByZXR1cm5zIHtQYW5lbH0gUmV0dXJucyBhIHtQYW5lbH1cbiAgICAgICAgICovXG4gICAgICAgIGFkZEZvb3RlclBhbmVsKG9wdGlvbnM6IE9iamVjdCk6IFBhbmVsO1xuICAgICAgICAvKipcbiAgICAgICAgICogR2V0IGFuIHtBcnJheX0gb2YgYWxsIHRoZSBtb2RhbCBwYW5lbCBpdGVtc1xuICAgICAgICAgKi9cbiAgICAgICAgZ2V0TW9kYWxQYW5lbHMoKTogdm9pZDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEFkZHMgYSBwYW5lbCBpdGVtIGFzIGEgbW9kYWwgZGlhbG9nLlxuICAgICAgICAgKiBAcGFyYW0ge09iamVjdH0ge09iamVjdH1cbiAgICAgICAgICogQHJldHVybnMge1BhbmVsfSBSZXR1cm5zIGEge1BhbmVsfVxuICAgICAgICAgKi9cbiAgICAgICAgYWRkTW9kYWxQYW5lbChvcHRpb25zOiBPYmplY3QpOiBQYW5lbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBwYXJhbSAgSXRlbSB0aGUgcGFuZWwgY29udGFpbnNcbiAgICAgICAgICogQHJldHVybnMge1BhbmVsfSBSZXR1cm5zIHRoZSB7UGFuZWx9IGFzc29jaWF0ZWQgd2l0aCB0aGUgZ2l2ZW4gaXRlbS5cbiAgICAgICAgICogQHJldHVybnMgIFJldHVybnNcbiAgICAgICAgYG51bGxgIHdoZW4gdGhlIGl0ZW0gaGFzIG5vIHBhbmVsLlxuICAgICAgICAgKi9cbiAgICAgICAgcGFuZWxGb3JJdGVtKGl0ZW06IGFueSk6IFBhbmVsO1xuICAgICAgICAvKipcbiAgICAgICAgICogUGVyZm9ybXMgYSBzZWFyY2ggYWNyb3NzIGFsbCBmaWxlcyBpbiB0aGUgd29ya3NwYWNlLlxuICAgICAgICAgKiBAcGFyYW0ge1JlZ0V4cH0ge1JlZ0V4cH0gdG8gc2VhcmNoIHdpdGguXG4gICAgICAgICAqIEBwYXJhbSB7T2JqZWN0fSB7T2JqZWN0fVxuICAgICAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB7RnVuY3Rpb259IGNhbGxiYWNrIG9uIGVhY2ggZmlsZSBmb3VuZC5cbiAgICAgICAgICogQHJldHVybnMge1Byb21pc2U8YW55Pn0gUmV0dXJucyBhIHtQcm9taXNlfSB3aXRoIGEgYGNhbmNlbCgpYCBtZXRob2QgdGhhdCB3aWxsIGNhbmNlbCBhbGxcbiAgICAgICAgb2YgdGhlIHVuZGVybHlpbmcgc2VhcmNoZXMgdGhhdCB3ZXJlIHN0YXJ0ZWQgYXMgcGFydCBvZiB0aGlzIHNjYW4uXG4gICAgICAgICAqL1xuICAgICAgICBzY2FuKHJlZ2V4OiBSZWdFeHAsIG9wdGlvbnM/OiBPYmplY3QsIGl0ZXJhdG9yPzogRnVuY3Rpb24pOiBQcm9taXNlPGFueT47XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQZXJmb3JtcyBhIHJlcGxhY2UgYWNyb3NzIGFsbCB0aGUgc3BlY2lmaWVkIGZpbGVzIGluIHRoZSBwcm9qZWN0LlxuICAgICAgICAgKiBAcGFyYW0ge1JlZ0V4cH0gQSB7UmVnRXhwfSB0byBzZWFyY2ggd2l0aC5cbiAgICAgICAgICogQHBhcmFtIHtzdHJpbmd9IHtTdHJpbmd9IHRvIHJlcGxhY2UgYWxsIG1hdGNoZXMgb2YgcmVnZXggd2l0aC5cbiAgICAgICAgICogQHBhcmFtIHthbnlbXX0gQW4ge0FycmF5fSBvZiBmaWxlIHBhdGggc3RyaW5ncyB0byBydW4gdGhlIHJlcGxhY2Ugb24uXG4gICAgICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEEge0Z1bmN0aW9ufSBjYWxsYmFjayBvbiBlYWNoIGZpbGUgd2l0aCByZXBsYWNlbWVudHM6XG4gICAgICAgICAqIEByZXR1cm5zIHtQcm9taXNlPGFueT59IFJldHVybnMgYSB7UHJvbWlzZX0uXG4gICAgICAgICAqL1xuICAgICAgICByZXBsYWNlKHJlZ2V4OiBSZWdFeHAsIHJlcGxhY2VtZW50VGV4dDogc3RyaW5nLCBmaWxlUGF0aHM6IGFueVtdLCBpdGVyYXRvcjogRnVuY3Rpb24pOiBQcm9taXNlPGFueT47XG4gICAgfVxuXG59XG4iXX0=