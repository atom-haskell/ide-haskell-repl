"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class CommandHistory {
    constructor(history = []) {
        this.back = history;
        this.current = -1;
        this.temp = '';
    }
    goBack(current) {
        if (this.current === -1) {
            this.temp = current;
        }
        this.current += 1;
        if (this.current >= this.back.length) {
            this.current = this.back.length - 1;
        }
        if (this.current < 0) {
            this.current = -1;
            return this.temp;
        }
        return this.back[this.current];
    }
    peek(shift) {
        return this.back[this.current - shift];
    }
    goForward() {
        if (this.current <= 0) {
            this.current = -1;
            return this.temp;
        }
        this.current -= 1;
        return this.back[this.current];
    }
    save(current) {
        this.current = -1;
        this.back.unshift(current);
    }
    serialize() {
        return this.back;
    }
}
exports.CommandHistory = CommandHistory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC1oaXN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbW1hbmQtaGlzdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQWEsY0FBYztJQUl6QixZQUFZLFVBQW9CLEVBQUU7UUFDaEMsSUFBSSxDQUFDLElBQUksR0FBRyxPQUFPLENBQUE7UUFDbkIsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQTtRQUNqQixJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQTtJQUNoQixDQUFDO0lBRU0sTUFBTSxDQUFDLE9BQWU7UUFDM0IsSUFBSSxJQUFJLENBQUMsT0FBTyxLQUFLLENBQUMsQ0FBQyxFQUFFO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFBO1NBQ3BCO1FBQ0QsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUE7UUFDakIsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFO1lBQ3BDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFBO1NBQ3BDO1FBQ0QsSUFBSSxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsRUFBRTtZQUNwQixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFBO1lBQ2pCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQTtTQUNqQjtRQUNELE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDaEMsQ0FBQztJQUVNLElBQUksQ0FBQyxLQUFhO1FBQ3ZCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQyxDQUFBO0lBQ3hDLENBQUM7SUFFTSxTQUFTO1FBQ2QsSUFBSSxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsRUFBRTtZQUNyQixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFBO1lBQ2pCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQTtTQUNqQjtRQUNELElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFBO1FBQ2pCLE9BQU8sSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDaEMsQ0FBQztJQUVNLElBQUksQ0FBQyxPQUFlO1FBQ3pCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDNUIsQ0FBQztJQUVNLFNBQVM7UUFDZCxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUE7SUFDbEIsQ0FBQztDQUNGO0FBOUNELHdDQThDQyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBDb21tYW5kSGlzdG9yeSB7XG4gIHByaXZhdGUgYmFjazogc3RyaW5nW11cbiAgcHJpdmF0ZSBjdXJyZW50OiBudW1iZXJcbiAgcHJpdmF0ZSB0ZW1wOiBzdHJpbmdcbiAgY29uc3RydWN0b3IoaGlzdG9yeTogc3RyaW5nW10gPSBbXSkge1xuICAgIHRoaXMuYmFjayA9IGhpc3RvcnlcbiAgICB0aGlzLmN1cnJlbnQgPSAtMVxuICAgIHRoaXMudGVtcCA9ICcnXG4gIH1cblxuICBwdWJsaWMgZ29CYWNrKGN1cnJlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY3VycmVudCA9PT0gLTEpIHtcbiAgICAgIHRoaXMudGVtcCA9IGN1cnJlbnRcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50ICs9IDFcbiAgICBpZiAodGhpcy5jdXJyZW50ID49IHRoaXMuYmFjay5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuYmFjay5sZW5ndGggLSAxXG4gICAgfVxuICAgIGlmICh0aGlzLmN1cnJlbnQgPCAwKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSAtMVxuICAgICAgcmV0dXJuIHRoaXMudGVtcFxuICAgIH1cbiAgICByZXR1cm4gdGhpcy5iYWNrW3RoaXMuY3VycmVudF1cbiAgfVxuXG4gIHB1YmxpYyBwZWVrKHNoaWZ0OiBudW1iZXIpOiBzdHJpbmcgfCB1bmRlZmluZWQge1xuICAgIHJldHVybiB0aGlzLmJhY2tbdGhpcy5jdXJyZW50IC0gc2hpZnRdXG4gIH1cblxuICBwdWJsaWMgZ29Gb3J3YXJkKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY3VycmVudCA8PSAwKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSAtMVxuICAgICAgcmV0dXJuIHRoaXMudGVtcFxuICAgIH1cbiAgICB0aGlzLmN1cnJlbnQgLT0gMVxuICAgIHJldHVybiB0aGlzLmJhY2tbdGhpcy5jdXJyZW50XVxuICB9XG5cbiAgcHVibGljIHNhdmUoY3VycmVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50ID0gLTFcbiAgICB0aGlzLmJhY2sudW5zaGlmdChjdXJyZW50KVxuICB9XG5cbiAgcHVibGljIHNlcmlhbGl6ZSgpOiBzdHJpbmdbXSB7XG4gICAgcmV0dXJuIHRoaXMuYmFja1xuICB9XG59XG4iXX0=