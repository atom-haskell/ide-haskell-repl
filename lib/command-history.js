"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class CommandHistory {
    constructor(history = []) {
        this.back = history;
        this.current = -1;
        this.temp = '';
    }
    goBack(current) {
        if (this.current === -1) {
            this.temp = current;
        }
        this.current += 1;
        if (this.current >= this.back.length) {
            this.current = this.back.length - 1;
        }
        if (this.current < 0) {
            this.current = -1;
            return this.temp;
        }
        return this.back[this.current];
    }
    peek(shift) {
        return this.back[this.current - shift];
    }
    goForward() {
        if (this.current <= 0) {
            this.current = -1;
            return this.temp;
        }
        this.current -= 1;
        return this.back[this.current];
    }
    save(current) {
        this.current = -1;
        this.back.unshift(current);
    }
    serialize() {
        return this.back;
    }
}
exports.CommandHistory = CommandHistory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC1oaXN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vc3JjL2NvbW1hbmQtaGlzdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBSUUsWUFBYSxVQUFvQixFQUFFO1FBQ2pDLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFBO1FBQ25CLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUE7SUFDaEIsQ0FBQztJQUVNLE1BQU0sQ0FBRSxPQUFlO1FBQzVCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFBO1FBQ3JCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQTtRQUNqQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtRQUNyQyxDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7UUFDbEIsQ0FBQztRQUNELE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBRU0sSUFBSSxDQUFFLEtBQWE7UUFDeEIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxLQUFLLENBQUMsQ0FBQTtJQUN4QyxDQUFDO0lBRU0sU0FBUztRQUNkLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUN0QixJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFBO1lBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO1FBQ2xCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQTtRQUNqQixNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDaEMsQ0FBQztJQUVNLElBQUksQ0FBRSxPQUFlO1FBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDakIsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDNUIsQ0FBQztJQUVNLFNBQVM7UUFDZCxNQUFNLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQTtJQUNsQixDQUFDO0NBQ0Y7QUE5Q0Qsd0NBOENDIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGNsYXNzIENvbW1hbmRIaXN0b3J5IHtcbiAgcHJpdmF0ZSBiYWNrOiBzdHJpbmdbXVxuICBwcml2YXRlIGN1cnJlbnQ6IG51bWJlclxuICBwcml2YXRlIHRlbXA6IHN0cmluZ1xuICBjb25zdHJ1Y3RvciAoaGlzdG9yeTogc3RyaW5nW10gPSBbXSkge1xuICAgIHRoaXMuYmFjayA9IGhpc3RvcnlcbiAgICB0aGlzLmN1cnJlbnQgPSAtMVxuICAgIHRoaXMudGVtcCA9ICcnXG4gIH1cblxuICBwdWJsaWMgZ29CYWNrIChjdXJyZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgIGlmICh0aGlzLmN1cnJlbnQgPT09IC0xKSB7XG4gICAgICB0aGlzLnRlbXAgPSBjdXJyZW50XG4gICAgfVxuICAgIHRoaXMuY3VycmVudCArPSAxXG4gICAgaWYgKHRoaXMuY3VycmVudCA+PSB0aGlzLmJhY2subGVuZ3RoKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSB0aGlzLmJhY2subGVuZ3RoIC0gMVxuICAgIH1cbiAgICBpZiAodGhpcy5jdXJyZW50IDwgMCkge1xuICAgICAgdGhpcy5jdXJyZW50ID0gLTFcbiAgICAgIHJldHVybiB0aGlzLnRlbXBcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuYmFja1t0aGlzLmN1cnJlbnRdXG4gIH1cblxuICBwdWJsaWMgcGVlayAoc2hpZnQ6IG51bWJlcik6IHN0cmluZyB8IHVuZGVmaW5lZCB7XG4gICAgcmV0dXJuIHRoaXMuYmFja1t0aGlzLmN1cnJlbnQgLSBzaGlmdF1cbiAgfVxuXG4gIHB1YmxpYyBnb0ZvcndhcmQgKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY3VycmVudCA8PSAwKSB7XG4gICAgICB0aGlzLmN1cnJlbnQgPSAtMVxuICAgICAgcmV0dXJuIHRoaXMudGVtcFxuICAgIH1cbiAgICB0aGlzLmN1cnJlbnQgLT0gMVxuICAgIHJldHVybiB0aGlzLmJhY2tbdGhpcy5jdXJyZW50XVxuICB9XG5cbiAgcHVibGljIHNhdmUgKGN1cnJlbnQ6IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMuY3VycmVudCA9IC0xXG4gICAgdGhpcy5iYWNrLnVuc2hpZnQoY3VycmVudClcbiAgfVxuXG4gIHB1YmxpYyBzZXJpYWxpemUgKCk6IHN0cmluZ1tdIHtcbiAgICByZXR1cm4gdGhpcy5iYWNrXG4gIH1cbn1cbiJdfQ==