"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class CommandHistory {
    constructor(history = []) {
        this.back = history;
        this.current = -1;
        this.temp = '';
    }
    goBack(current) {
        if (this.current === -1) {
            this.temp = current;
        }
        this.current += 1;
        if (this.current >= this.back.length) {
            this.current = this.back.length - 1;
        }
        return this.back[this.current];
    }
    goForward() {
        if (this.current <= 0) {
            this.current = -1;
            return this.temp;
        }
        this.current -= 1;
        return this.back[this.current];
    }
    save(current) {
        this.current = -1;
        this.back.unshift(current);
    }
    serialize() {
        return this.back;
    }
}
exports.CommandHistory = CommandHistory;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29tbWFuZC1oaXN0b3J5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbW1hbmQtaGlzdG9yeS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBO0lBSUUsWUFBYSxVQUFvQixFQUFFO1FBQ2pDLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFBO1FBQ25CLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUE7UUFDakIsSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUE7SUFDaEIsQ0FBQztJQUVNLE1BQU0sQ0FBRSxPQUFlO1FBQzVCLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxJQUFJLEdBQUcsT0FBTyxDQUFBO1FBQ3JCLENBQUM7UUFDRCxJQUFJLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQTtRQUNqQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsT0FBTyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQTtRQUNyQyxDQUFDO1FBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ2hDLENBQUM7SUFFTSxTQUFTO1FBQ2QsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3RCLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLENBQUE7WUFDakIsTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUE7UUFDbEIsQ0FBQztRQUNELElBQUksQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFBO1FBQ2pCLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUNoQyxDQUFDO0lBRU0sSUFBSSxDQUFFLE9BQWU7UUFDMUIsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQTtRQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQTtJQUM1QixDQUFDO0lBRU0sU0FBUztRQUNkLE1BQU0sQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFBO0lBQ2xCLENBQUM7Q0FDRjtBQXRDRCx3Q0FzQ0MiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY2xhc3MgQ29tbWFuZEhpc3Rvcnkge1xuICBwcml2YXRlIGJhY2s6IHN0cmluZ1tdXG4gIHByaXZhdGUgY3VycmVudDogbnVtYmVyXG4gIHByaXZhdGUgdGVtcDogc3RyaW5nXG4gIGNvbnN0cnVjdG9yIChoaXN0b3J5OiBzdHJpbmdbXSA9IFtdKSB7XG4gICAgdGhpcy5iYWNrID0gaGlzdG9yeVxuICAgIHRoaXMuY3VycmVudCA9IC0xXG4gICAgdGhpcy50ZW1wID0gJydcbiAgfVxuXG4gIHB1YmxpYyBnb0JhY2sgKGN1cnJlbnQ6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuY3VycmVudCA9PT0gLTEpIHtcbiAgICAgIHRoaXMudGVtcCA9IGN1cnJlbnRcbiAgICB9XG4gICAgdGhpcy5jdXJyZW50ICs9IDFcbiAgICBpZiAodGhpcy5jdXJyZW50ID49IHRoaXMuYmFjay5sZW5ndGgpIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IHRoaXMuYmFjay5sZW5ndGggLSAxXG4gICAgfVxuICAgIHJldHVybiB0aGlzLmJhY2tbdGhpcy5jdXJyZW50XVxuICB9XG5cbiAgcHVibGljIGdvRm9yd2FyZCAoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5jdXJyZW50IDw9IDApIHtcbiAgICAgIHRoaXMuY3VycmVudCA9IC0xXG4gICAgICByZXR1cm4gdGhpcy50ZW1wXG4gICAgfVxuICAgIHRoaXMuY3VycmVudCAtPSAxXG4gICAgcmV0dXJuIHRoaXMuYmFja1t0aGlzLmN1cnJlbnRdXG4gIH1cblxuICBwdWJsaWMgc2F2ZSAoY3VycmVudDogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5jdXJyZW50ID0gLTFcbiAgICB0aGlzLmJhY2sudW5zaGlmdChjdXJyZW50KVxuICB9XG5cbiAgcHVibGljIHNlcmlhbGl6ZSAoKTogc3RyaW5nW10ge1xuICAgIHJldHVybiB0aGlzLmJhY2tcbiAgfVxufVxuIl19